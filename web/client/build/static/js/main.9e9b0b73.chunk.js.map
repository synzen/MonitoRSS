{"version":3,"sources":["serviceWorker.js","js/constants/action-types.js","js/reducers/index-reducer.js","js/store/index-store.js","js/components/ControlPanel/utils/toast.js","js/actions/index-actions.js","js/index.js","js/constants/colors.js","js/constants/pages.js","js/components/NavBar/index.js","js/components/Home/Section.js","js/components/utils/modal.js","js/components/Home/index.js","js/components/utils/PageHeader.js","js/components/utils/SectionItemTitle.js","js/components/utils/SectionSubtitle.js","js/constants/faq.js","js/constants/emojis.js","js/components/ControlPanel/utils/textParser.js","js/components/FAQ/index.js","js/components/utils/SectionTitle.js","js/components/utils/Wrapper.js","js/constants/hiddenArticleProperties.js","js/components/utils/SectionSubtitleDescription.js","js/components/FeedBrowser/FeedInput.js","js/components/FeedBrowser/index.js","js/components/ControlPanel/utils/DiscordAvatar.js","js/components/ControlPanel/LeftMenu/MenuButton.js","js/components/ControlPanel/LeftMenu/index.js","js/components/utils/AlertBox.js","js/components/ControlPanel/ContentBody/Main/Home/index.js","js/components/ControlPanel/utils/PopInButton.js","js/components/ControlPanel/ContentBody/Server/Feeds/SideBar.js","js/components/ControlPanel/ContentBody/Server/Feeds/AddFeed.js","js/components/ControlPanel/utils/PaginatedTable.js","js/components/ControlPanel/ContentBody/Server/Feeds/index.js","js/components/ControlPanel/ContentBody/Server/Settings/Date.js","js/components/ControlPanel/ContentBody/Server/Settings/index.js","js/components/utils/TextArea.js","js/components/ControlPanel/ContentBody/Feed/Message/MessageSettings.js","js/constants/embed.js","js/components/ControlPanel/ContentBody/Feed/Message/EmbedSettings/Section.js","js/components/ControlPanel/ContentBody/Feed/Message/EmbedSettings/index.js","js/components/ControlPanel/ContentBody/Feed/Filters/util/filters.js","js/components/ControlPanel/ContentBody/Feed/Message/DiscordMessage.js","js/components/ControlPanel/ContentBody/Feed/Message/Placeholders.js","js/components/ControlPanel/ContentBody/Feed/Message/index.js","js/components/ControlPanel/utils/ArticleTable.js","js/components/ControlPanel/utils/AddFilter.js","js/components/ControlPanel/utils/FiltersTable.js","js/components/ControlPanel/ContentBody/Feed/Filters/index.js","js/components/ControlPanel/ContentBody/Feed/Subscriptions/index.js","js/components/ControlPanel/ContentBody/Feed/MiscOptions/index.js","js/components/utils/WrapperDark.js","js/components/ControlPanel/ContentBody/Feed/Debugger/DetailButton.js","js/components/ControlPanel/ContentBody/Feed/Debugger/index.js","js/components/ControlPanel/ContentBody/index.js","js/constants/socketStatus.js","js/components/ControlPanel/TopBar/index.js","js/components/ControlPanel/index.js","js/components/utils/DiscordModal.js","App.js","index.js"],"names":["Boolean","window","location","hostname","match","INIT_STATE","UPDATE_GUILD_AFTER_WEBSOCKET","CLEAR_GUILD","TEST_ACTION","CHANGE_PAGE","CHANGE_FILTERS","SET_ACTIVE_GUILD","SET_ACTIVE_FEED","ARTICLES_FETCHED","ARTICLES_FETCHING","ARTICLES_ERROR","UPDATE_LINK_STATUS","UPDATE_GUILD_LIMITS","SHOW_MODAL","HIDE_MODAL","UPDATE_SOURCE_SCHEDULE","initialState","user","undefined","defaultConfig","guildId","feedId","guild","feed","articleList","feeds","roles","subscribers","filters","guilds","embeds","messages","channels","linkStatuses","guildLimits","articlesFetching","articlesError","modalOpen","csrfToken","refreshRates","cpResponse","modal","props","children","rootReducer","state","arguments","length","action","type","update","testVal","$set","payload","Object","objectSpread","data","initState","guildIdToUse","defineProperty","subscriptions","clearGuild","newState","guildRss","keyName","value","rssList","rssName","source","copy","JSON","parse","stringify","message","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","subscriber","id","err","return","updateGuildAfterWebSocket","page","changePage","changeFilters","setActiveGuild","setActiveFeed","articlesFetched","link","status","updateLinkStatus","limits","updateGuildLimits","showModal","hideModal","_action$data","refreshTimeMinutes","updateSourceSchedule","store","createStore","applyMiddleware","thunk","subscribe","_store$getState","getState","storedFeedId","localStorage","getItem","storedGuildId","setItem","PaddedText","styled","div","_templateObject","DiscordAnim","cssTransition","enter","exit","duration","toast","success","options","react_default","a","createElement","autoClose","transition","className","error","fetchArticles","_callee2","dispatch","res","allArticlePlaceholders","errMessage","regenerator_default","wrap","_context2","prev","percent","axios","get","concat","sent","t0","console","log","response","stop","again","_ref","asyncToGenerator","mark","_callee","_getState","_context","abrupt","_x4","_x5","apply","this","testAction","colors","discord","blurple","greyple","darkButNotBlack","white","red","green","yellow","notQuiteblack","text","subtext","constants_pages","DASHBOARD","MESSAGE","FILTERS","SUBSCRIPTIONS","MISC_OPTIONS","FEEDS","SERVER_SETTINGS","DEBUGGER","FAQ","TODO","SUPPORT","FEED_BROWSER","Title","h2","NavBar_templateObject","darken","MobileNav","nav","_templateObject2","SidebarStyles","_templateObject3","Sidebar","posed","height","DesktopNav","_templateObject4","NavButtons","ul","_templateObject5","NavItem","li","_templateObject6","selected","Logo","img","_templateObject7","NavDropdown","_templateObject8","show","DropdownNavItem","_templateObject9","withRouter","_useState","useState","_useState2","slicedToArray","showNavDropdown","setShowNavDropdown","_useState3","_useState4","showMobileNav","setShowMobileNav","path","pathname","style","select","Link","to","src","pages","href","target","rel","Icon","name","size","onMouseEnter","e","onMouseLeave","color","Button","basic","icon","onClick","pose","marginLeft","SectionWrapper","Section_templateObject","SectionInner","section","Section_templateObject2","Section","ModalImageContainer","modal_templateObject","showImage","alt","transparentBody","isImage","hide","Header","Home_templateObject","HeaderButtons","Home_templateObject2","ImageContainer","Home_templateObject3","Cards","Home_templateObject4","Card","Home_templateObject5","FeatureBoxes","Home_templateObject6","Feature","Home_templateObject7","ModalBody","Home_templateObject8","ModalFooter","Home_templateObject9","modalProps","footer","fluid","modalChildren","history","push","Home_Section","Container","PageHeader_templateObject","PageHeader","heading","subheading","React","PureComponent","SectionItemTitle","label","SectionItemTitle_templateObject","SectionSubtitle_templateObject","invertedIndexes","extractorOptions","remove_digits","remove_duplicates","return_changed_case","word","content","forEach","item","contentIndex","keywords","q","split","map","stemmer","answerKeywords","keywordExtractor","extract","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","halfTags","tags","t","splat","halfTag","bothTags","i","POINTS","TAG_POINTS","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","qe","replace","invertedIndex","filter","emojis","people","names","surrogates","hasDiversity","nature","food","activity","travel","objects","symbols","flags","Mention","span","textParser_templateObject","transparentize","parserFor","rules","returnAst","parser","SimpleMarkdown","renderer","reactFor","ruleOutput","input","inline","transform","ast","flattenAst","node","parent","Array","isArray","n","getEmojiURL","surrogate","indexOf","Twemoji","convert","toCodePoint","DIVERSITY_SURROGATES","NAME_TO_EMOJI","EMOJI_TO_NAME","keys","Emoji","category","emoji","d","EMOJI_NAME_AND_DIVERSITY_RE","replacer","sort","join","RegExp","translateSurrogatesToInlineEmoji","_","colons","hasOwnProperty","convertSurrogateToName","baseRules","newline","order","defaultRules","exec","capture","react","recurseOutput","key","paragraph","escape","autolink","inlineRegex","url","strong","em","u","br","inlineCode","emoticon","mention","found","guildSubscribers","subscriberId","hexColor","codeBlock","lang","trim","convertNameToSurrogate","draggable","jumboable","title","customEmoji","emote","emojiId","protocol","anyScopeRegex","regex","recurseParse","nested","s","createRules","r","astToString","result","subNode","inner","sanitizeUrl","hljs","getLanguage","highlightedBlock","highlight","language","dangerouslySetInnerHTML","__html","object","excluded","rulesWithoutMaskedLinks","textParser","parseAllowLinks","parseEmbedTitle","reduce","jumboify","some","count","FAQ_templateObject","QAWrapper","opacity","QAWrapperInner","FAQ_templateObject2","BlueSidebar","FAQ_templateObject3","SectionFAQ","FAQ_templateObject4","AnswerStyles","FAQ_templateObject5","Answer","expand","minimize","TagContainer","FAQ_templateObject6","Tag","FAQ_templateObject7","FadeTextStyles","p","FAQ_templateObject8","FadeText","allTags","Set","FAQ_step","FAQ_iterator","faq","FAQ_iteratorNormalCompletion","FAQ_iteratorNormalCompletion3","FAQ_didIteratorError3","FAQ_iteratorError3","FAQ_step3","FAQ_iterator3","tag","add","allTagsOptions","FAQ_step2","FAQ_iterator2","FAQ_iteratorNormalCompletion2","allQuestions","itemsPerPage","pageByQuestions","index","Math","floor","searchTerm","setSearch","topOffsets","paramQuestion","params","question","_useState5","includes","find","_useState6","selectedQuestion","setQuestion","_useState7","_useState8","setPage","useEffect","scrollbar","scrollTop","querystring","search","focus","header","display","justifyContent","SectionSubtitle","paddingLeft","document","contentClone","searchTermSplit","searchTermSplitSize","intersectingDocumentIndexes","documentCounts","documentPoints","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","term","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","arr","documentIndex","points","docIndex","b","searchFAQ","items","ref","elem","offsetTop","utils_SectionItemTitle","as","fontSize","lineHeight","fontWeight","lighten","initialPose","Divider","displayPage","lastItem","FAQ_Header","utils_PageHeader","textAlign","width","position","Input","iconPosition","onKeyDown","keyCode","onChange","Group","disabled","Or","react_pose_es","flipMove","slice","SectionTitle_templateObject","hasSubheading","Main","SectionTitle_templateObject2","hasSideComponent","SectionTitle_Container","sideComponent","Wrapper_templateObject","SectionSubtitleDescription_templateObject","FeedInput","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getArticles","sessionData","sessionStorage","decodeURIComponent","prevUrl","_this2","placeholder","loading","onKeyPress","setState","Component","properties","hiddenArticleProperties_i","_names","isHiddenProperty","property","has","timezoneGuess","moment","tz","guess","format","FeedBrowser_templateObject","ArticlesSection","FeedBrowser_templateObject2","ArticlesSectionInner","FeedBrowser_templateObject3","ArticlesSectionSearch","FeedBrowser_templateObject4","ArticlesHeaderContainer","FeedBrowser_templateObject5","SearchFilterSection","ViewOptions","FeedBrowser_templateObject6","SortByContainerStyles","FeedBrowser_templateObject7","SortByContainer","ArticleImages","FeedBrowser_templateObject8","ArticleStyle","FeedBrowser_templateObject9","PosedDiv","PlaceholderTitle","_templateObject10","StatusMessage","_templateObject11","UrlDisplay","_templateObject12","OpacityTransition","XMLWrapperStyles","pre","_templateObject13","XMLWrapper","viewTypeOptions","FeedBrowser","fillSearchDropdown","encodedUrl","xmlText","placeholdersSeen","searchCategories","searchDropdownOptions","firstValidCategory","placeholders","local","date","images","anchors","description","prevUrlEncoded","paramUrl","viewType","loadingXML","encodeURIComponent","then","xml","catch","sortBy","parsedQuery","inputFocused","prevEncodedUrl","sortDescending","ascending","setToThisPage","_this$state","searchCategoriesHasImages","searchCategoriesHasAnchors","searchCategoriesHasTitle","searchCategoriesHasDescription","searchCategoriesHasDate","searchCategoriesHasLink","elems","toConsumableArray","include","val","toString","toLowerCase","Popup","on","inverted","hideOnScroll","trigger","Image","singleLineElements","_id","Wrapper","SectionSubtitleDescription","summary","notPlaceholdersViewType","FeedBrowser_Header","FeedBrowser_FeedInput","SectionTitle","Dropdown","selection","multiple","overflow","Loader","active","animateOnMount","connect","ServerBlockAvatar","DiscordAvatar_templateObject","DiscordAvatar","assign","RouterLink","MenuButton_templateObject","ButtonBlank","MenuButton_templateObject2","padding","unsupported","MenuButton","nonmenu","LeftMenuDiv","LeftMenu_templateObject","expanded","Content","LeftMenu_templateObject2","MenuSectionHeader","LeftMenu_templateObject3","UserContainer","LeftMenu_templateObject4","MyDropdown","LeftMenu_templateObject5","LogoutModalFooter","LeftMenu_templateObject6","LeftMenu","onChangeFeed","onChangeServer","_this$props","menuButtonClick","disableMenuButtonToggle","toggleLeftMenu","logoutClick","logoutConfirm","showFeedBy","_this$props2","feedDropdownOptions","serverDropdownOptions","guildFeeds","channel","userAvatar","displayAvatarURL","avatar","noServers","noFeeds","react_custom_scrollbars_lib","utils_DiscordAvatar","username","LeftMenu_MenuButton","noResultsMessage","isMobile","AlertBox_templateObject","warn","Main_Home_templateObject","ServerButtonInner","Main_Home_templateObject2","ServerEditButtonStyles","Main_Home_templateObject3","ServerEditButtons","paddingTop","paddingBottom","ServerButton","Main_Home_templateObject4","FeedbackForm","Form","Main_Home_templateObject5","NoServers","Main_Home_templateObject6","Home","updateDimensions","innerWidth","avatarSize","submitFeedback","feedbackContent","saving","post","headers","CSRF-Token","disabledFeedback","onClickServer","addEventListener","removeEventListener","redirect","selectedGuildIconStyle","serverIcons","serverButtons","_loop","thisGuildId","Home_Container","AlertBox","Field","forwardRef","scale","SideBar_templateObject","populated","EditField","SideBar_templateObject2","SideBar_templateObject3","ApplyField","SideBar_templateObject4","SideBar","confirm","selectedFeedId","selectedFeed","patch","remove","onDeletedFeed","deleting","delete","_this$props3","_x","changingPageTo","prevProps","_this$props4","scrollTo","_this$props5","channelDropdownOptions","differentFromDefault","dateTimezone","timezone","dateFormat","dateLanguage","failed","SideBar_Container","SideBar_Content","SideBar_PosedDiv","failLimit","toFixed","lastRefreshRateMin","addedOn","locale","PopInButton","labelPosition","AddFeedInputs","AddFeed_templateObject","AddFeed","Row","Table","PaginatedTable_templateObject","TableTop","PaginatedTable_templateObject2","growInput","Footer","PaginatedTable_templateObject3","PageText","PaginatedTable_templateObject4","PaginatedTable","nextPage","prevPage","itemFunc","searchFunc","compact","inputStyle","unstackable","collapsing","maxPerPage","curPage","frontPageLen","fillerRows","toFill","Cell","button","overflowX","celled","selectable","fixed","singleLine","HeaderCell","Body","acc","cv","utils_PaginatedTable","MainContent","Feeds_templateObject","SideBarContainer","Feeds_templateObject2","FeedLimitContainer","Feeds_templateObject3","FeedButtonsContainer","Feeds_templateObject4","ViewFeedContainerWithEdit","Feeds_templateObject5","ChannelDropdown","Feeds_templateObject6","Feeds","resizeListener","ignoreModal","modalClose","justMadeChanges","editingChannel","editingTitle","removing","modalConfirmEdits","toSend","modalRemoveFeed","setActive","onClickFeedRow","cancelCondition","guildChannels","dropdownOptions","channelId","channelDropdownValue","subtitle","channelName","bodyRef","createRef","tableItems","hoverable","cursor","Feeds_AddFeed","Feeds_SideBar","ServerSettings","invalidTimezone","thisMoment","Settings_templateObject","InputDescription","Settings_templateObject2","LargeDivider","Settings_templateObject3","ButtonContainer","Settings_templateObject4","BackupButtonContainer","Settings_templateObject5","resetValues","zone","unsaved","prefix","defaults","dateLanguageList","updateSetting","_newState","guildDefault","configDefault","differentFromGuild","differentFromConfig","resolved","guildDefaultResolved","configDefaultResolved","downloadBackup","downloadingBackup","fileDonwload","save","_ref2","toCompare","_i","_toCompare","defaultPrefix","defaultValue","thisResolved","defaultResolved","Settings_Container","Settings_Date","DiscordTextArea","textarea","TextArea_templateObject","lineCount","MessageArea","MessageSettings_templateObject","ActionButtons","MessageSettings_templateObject2","MessageSettings","messageOriginal","onUpdate","noChanges","textAreaVal","TextArea","bind","constants_embed","timestamp","footerIconUrlCamelCase","footerIconUrl","footerTextCamelCase","footerText","authorIconUrlCamelCase","authorIconUrl","authorNameCamelCase","authorName","authorUrlCamelCase","authorUrl","thumbnailUrlCamelCase","thumbnailUrl","imageUrlCamelCase","imageUrl","SettingSectionHead","EmbedSettings_Section_templateObject","SettingSectionBodyStyles","EmbedSettings_Section_templateObject2","SettingSectionBody","InputWithButtonGroup","Section_templateObject3","DiscordColorPicker","SketchPicker","Section_templateObject4","ColorPicker","background","number","g","event","variable","rgb","visible","inputs","body","condition","dropdown","onPoseComplete","EMBED_FIELD_LIMITS","EmbedSettings_templateObject","EmbedFieldsWrapper","EmbedSettings_templateObject2","EmbedFieldsWrapperInner","EmbedSettings_templateObject3","EmbedFieldBoxStyles","EmbedSettings_templateObject4","EmbedFieldBox","AddEmbedFieldBox","EmbedSettings_templateObject5","EMBED_FIELD_KEYS","EmbedSettings","prevIndex","nextIndex","embedsOriginal","currentEmbed","embedPropertiesNames","same","onUpdateField","fieldIndex","fields","Error","originalField","addEmbedField","removeEmbedField","splice","discardChanges","resetEmbedProperties","field","showAuthorSection","lenToLoop","prevOriginalEmbed","thisOriginalEmbed","propertyName","prevOriginalEmbedFields","thisOriginalEmbedFields","j","prevOriginalEmbedField","thisOriginalEmbedField","_EMBED_FIELD_KEYS","originalEmbed","thisEmbed","originalEmbedFields","thisEmbedFields","thisField","_i3","_EMBED_FIELD_KEYS2","hasWebhooks","webhook","originalValues","valuesToUse","fieldElements","alignItems","marginBottom","marginTop","Checkbox","checked","circular","EmbedSettings_Section","values","EmbedSettings_ActionButtons","_FilterResults","matches","invertedMatches","matchList","str","list","typeMatches","x","parseInt","findFilterWords","filterType","results","invertedFilter","startsWith","passed","expression","resultsList","util_filters","article","referenceOverrides","_fullDescription","_fullSummary","_fullTitle","invertedFilters","regularFilters","regularFiltersExists","invertedFiltersExists","filterResults","filterTypeName","userFilters","reference","allResults","DiscordMessage_templateObject","Username","DiscordMessage_templateObject2","UserInfo","DiscordMessage_templateObject3","DiscordMessage_templateObject4","Embed","DiscordMessage_templateObject5","Pill","DiscordMessage_templateObject6","numberToColour","NonPill","DiscordMessage_templateObject7","BodyWrapper","DiscordMessage_templateObject8","appeaseImage","Author","DiscordMessage_templateObject9","DiscordMessage_templateObject10","Description","DiscordMessage_templateObject11","DiscordMessage_templateObject12","Thumbnail","DiscordMessage_templateObject13","_templateObject14","BotTag","_templateObject15","TimeTag","_templateObject16","EmbedFields","_templateObject17","EmbedField","_templateObject18","EmbedFieldTitle","_templateObject19","EmbedFieldValue","_templateObject20","Message","articleId","placeholderName","sanitizedPlaceholderName","feedSubscribers","thisSubscribers","testFilters","bot","embedElements","hasEmbeds","parsedProperties","populatedEmbed","embedProperties","propName","convertKeywords","DiscordMessage_Title","DiscordMessage_Image","DiscordMessage_Footer","DiscordMessage_Wrapper","DiscordMessage_Content","defaultMessage","ArticleBox","Placeholders_templateObject","PlaceholdersContainerStyles","Placeholders_templateObject2","PlaceholdersContainerInner","Placeholders_templateObject3","small","PlaceholdersContainer","minHeight","big","PlaceholderImage","Placeholders_templateObject4","PlaceholderNameContainer","Placeholders_templateObject5","RegexTag","Placeholders_templateObject6","DropdownWithButtons","Placeholders_templateObject7","Placeholders","setArticleId","updateArticleId","onClickPreviousArticle","onClickNextArticle","showArticleBy","searchPlaceholder","placeholderElements","seenPlaceholders","showArticleByOptions","articleDropdownOptions","phname","disabledDropdown","smallPlaceholderContainer","ButtonGroup","EMBED_PROPERTY_LENGTHS","_EMBED_PROPERTY_LENGT","FullArea","Message_templateObject","SettingsArea","Message_templateObject2","PreviewArea","Message_templateObject3","PreviewHeader","Message_templateObject4","updateWindowDimensions","innerHeight","handleContextRef","contextRef","onEmbedPropertyUpdate","embedIndex","embed","onMessageUpdate","previewNew","populateComponent","prevState","prevFeed","newFeed","prevEmbeds","newEmbeds","toDashboard","Redirect","messageToDisplay","hasSubscribers","Message_Placeholders","Message_MessageSettings","Message_EmbedSettings","DiscordMessage","Sticky","context","offset","stickied","StyledRow","ArticleTable_templateObject","clickable","LoadingBox","ArticleTable_templateObject2","ErrorText","ArticleTable_templateObject3","ArticleBrowser","changeClassificationsArticleProperty","classificationsArticleProperty","autosetClassificationArticleProperty","onClickArticle","selectedArticleId","addColumns","positiveNegativeRowFunc","addedHeaders","addedCellFuncs","collapsingCells","cellFuncs","classificationsItems","classificationsDropdownOptions","added","isRegexPlaceholder","prettyPlaceholderName","allowActiveRows","positive","negative","func","FlexRight","AddFilter_templateObject","AddFilterContainer","AddFilter_templateObject2","AddFilter","addFilter","addApiUrl","addFilterType","addFilterTerm","adding","put","onCustomAddition","allowAdditions","onAddItem","filtersTableSearchFunc","FiltersTable","removeFilter","removeApiUrl","filtersArray","filterTerms","filterTerm","Filters_templateObject","FilterDetails","Filters_templateObject2","FilterExplanation","Filters_templateObject3","FilterTagContainer","Filters_templateObject4","FilterTag","Filters_templateObject5","Filters","selectedArticle","feedFilters","selectedArticleFilterResults","invertedFilterTags","regularFilterTags","words","_loop3","filterWord","_loop2","_loop4","Filters_Container","utils_FiltersTable","utils_AddFilter","ArticleTable","Subscriptions_templateObject","SubscriberSearchWrapper","Subscriptions_templateObject2","SubscriberListWrapper","Subscriptions_templateObject3","SubscriberList","Subscriptions_templateObject4","SubscriberListItem","Subscriptions_templateObject5","SubscriberBox","Subscriptions_templateObject6","SubscriberInfoStyled","Subscriptions_templateObject7","SubscriberInfo","maxHeight","SubscriberFilterTable","AddSubscribersInputs","Subscriptions_templateObject8","AddSubscriberButtonContainer","Subscriptions_templateObject9","ArticleSubscribers","Subscriptions_templateObject10","SubscriberTagStyled","Subscriptions_templateObject11","SubscriberTag","Subscriptions","addSubscriber","addSubscriberType","addSubscriberId","addingSubscriber","selectedSubscriber","removeSubscriber","deletingSubscriber","openFiltersModal","showSubscriberFilters","articleSubscribersMentioned","rolesById","subscribersArr","selectedSubscriberFilterItems","existingSubscribers","currentSubscriber","subscriberFilters","addSubscriberList","selectedSubscriberChosen","selectedArticleSubscribers","Subscriptions_Container","isNaN","matched","_subscribersArr","subscribersPassed","_i2","_subscribersArr2","MiscOptions_templateObject","MiscOptionContainer","MiscOptions_templateObject2","SaveButtonContainer","MiscOptions_templateObject3","Categories","MiscOptions_templateObject4","MiscOptions_templateObject5","boolToText","bool","configKeyNames","checkTitles","checkDates","imgPreviews","imgLinksExistence","formatTables","toggleRoleMentions","configKeys","MiscOptions","reset","initialized","checkFeedExists","updateProperty","_configKeys","_configKeys2","_configKeys3","MiscOptions_Container","MiscOptions_Description","toggle","cycleMaxAge","WrapperDark_templateObject","DetailButton_templateObject","Expandable","WrapperDark","DetailButton_templateObject2","DetailButton","numberColor","popupText","setShow","DetailButton_ButtonBlank","autoHeight","autoHeightMin","autoHeightMax","propTypes","PropTypes","string","Debugger_templateObject","ErrorWrapper","Debugger_templateObject2","InfoRowBox","Debugger_templateObject3","LoaderWrapper","Debugger_templateObject4","MoreSupportButtons","Debugger_templateObject5","articleToString","clone","hiddenProperties","jsonViewModalProps","transparentFooter","fullWidth","autoFetch","Debugger","_useSelector","useSelector","shallowEqual","config","useDispatch","feedData","setFeedData","loadingState","setLoadingState","loadError","setLoadError","articleListById","waitDuration","customComparisonsEnabled","customComparisons","oldArticles","newArticles","newArticlesToBeSent","blockedByTitleChecks","blockedByDateChecks","blockedByFilters","passedCustomComparisons","maxAge","cutoffDay","subtract","globalDateCheck","localDateCheck","checkDate","globalTitleCheck","localTitleCheck","checkTitle","allArticlesHaveDates","dbIds","dbTitles","dbCustomComparisons","docCustomComparisons","seenTitles","notInitialized","idMatched","titleMatched","dateMatched","_fullDate","blockedArticles","articleID","z","comparisonName","dbCustomComparisonValues","articleCustomComparisonValue","Intl","DateTimeFormat","resolvedOptions","timeZone","articleListView","articleArray","symbolType","dateStr","now","original","secondsDiff","diff","minutesDiff","hoursDiff","daysDiff","monthsDiff","getDiff","maxWidth","etaAvailable","earliestArticleMoment","toBeDelivered","articleMoment","toAdd","mainBody","Debugger_DetailButton","Debugger_Container","ContentBody_templateObject","ContentBody","Switch","Route","exact","render","routerProps","Main_Home","Server_Feeds","Settings","Feed_Message","Feed_Filters","Feed_Subscriptions","Feed_MiscOptions","component","Feed_Debugger","socketStatus","CONNECTING","CONNECTED","DISCONNECTED","socket","TopBar_templateObject","BrandTitleContainer","TopBar_templateObject2","TopBar_templateObject3","TopBar_templateObject4","ExpandButton","TopBar_templateObject5","App","componentWillUnmount","hideExperimental","hideExpandButton","TopBar_RouterLink","TopBar_Logo","TopBar_Title","MainContainer","ControlPanel_templateObject","EmptyBackground","ControlPanel_templateObject2","EmptyBackgroundTransparent","ControlPanel_templateObject3","ControlPanel","socketConnected","socketDisconnected","reason","setTimeout","disconnected","socketReconnect","botReady","loaded","authenticated","initialize","authenticatingLogin","errorMessage","localGuildId","localFeedId","linksStatus","modalContent","emit","profile","maxFeeds","role","initializeState","loggedOut","code","leftMenu300Width","leftMenuExpanded","linkStatusUpdate","statuses","guildLimitsUpdate","updateGuildInState","sources","updateGuildAfterWebsocket","enabled","notificationDOMRef","socketUrl","port","openSocket","forceNew","_ref3","disconnect","_this3","lib","TopBar","ControlPanel_LeftMenu","ControlPanel_ContentBody","Shade","Modal","StyledShade","DiscordModal_templateObject","StyledModal","DiscordModal_templateObject2","ModalHeader","DiscordModal_templateObject3","DiscordModal_templateObject4","transparent","DiscordModal_templateObject5","hasHeader","hasFooter","ModalHeaderWrapper","DiscordModal_templateObject6","DiscordModal","popState","open","preventDefault","onClose","escFunction","currentTarget","DiscordModal_ModalBody","DiscordModal_ModalFooter","App_templateObject","App_templateObject2","scrollbarRef","setScrollbarRef","App_EmptyBackground","utils_DiscordModal","App_Wrapper","components_NavBar","components_FAQ","components_Home","ReactDOM","es","BrowserRouter","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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C,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,WACRC,WAAY,4BACX,CACDD,MAAO,CAAC,iBAAkB,gBAC1BC,WAAY,mMC9qIhB,IAAMS,GAAUlP,IAAOmP,KAAVC,KACS,SAAA/T,GAAK,OAAIgU,aAAe,GAAKhU,EAAMgN,OAAS,YACvD,SAAAhN,GAAK,OAAIA,EAAMgN,OAAS,YAyCnC,SAASiH,GAAWC,EAAOC,GACzB,IAAMC,EAASC,KAAeJ,UAAUC,GAClCI,EAAWD,KAAeE,SAASF,KAAeG,WAAWN,EAAO,UAC1E,OAAO,WAAmE,IAAzDO,EAAyDrU,UAAAC,OAAA,QAAA7B,IAAA4B,UAAA,GAAAA,UAAA,GAAjD,GAAIsU,IAA6CtU,UAAAC,OAAA,QAAA7B,IAAA4B,UAAA,KAAAA,UAAA,GAA9BD,EAA8BC,UAAAC,OAAA,QAAA7B,IAAA4B,UAAA,GAAAA,UAAA,GAAtB,GAAIuU,EAAkBvU,UAAAC,OAAA,QAAA7B,IAAA4B,UAAA,GAAAA,UAAA,GAAN,KAC7DsU,IACHD,GAAS,QAGX,IAAIG,EAAMR,EAAOK,EAAD7T,OAAAC,EAAA,EAAAD,CAAA,CAAU8T,UAAWvU,IAMrC,OALAyU,EA7CJ,SAASC,EAAYC,EAAMC,GACzB,GAAIC,MAAMC,QAAQH,GAAO,CACvB,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAKzU,OAAQ6U,IAC/BJ,EAAKI,GAAKL,EAAWC,EAAKI,GAAIH,GAGhC,OAAOD,EAOT,OAJoB,MAAhBA,EAAKhE,UACPgE,EAAKhE,QAAU+D,EAAWC,EAAKhE,QAASgE,IAG5B,MAAVC,GAAkBD,EAAKvU,OAASwU,EAAOxU,KAClCuU,EAAKhE,QAGPgE,EA4BCD,CAAWD,GACbD,IACFC,EAAMD,EAAUC,IAGdT,EACKS,EAGFN,EAASM,IAkBpB,SAASO,GAAaC,GACpB,GAAI,CAAC,SAAK,OAAK,QAAKC,QAAQD,IAAc,EACxC,MAAO,GAGT,IAGE,0CAAA1O,OAA2C4O,KAAQC,QAAQC,YAAYJ,GAAvE,QACA,MAAOxP,GACP,MAAO,IAMX,IAAM6P,GAAuB,CAAC,eAAM,eAAM,eAAM,eAAM,gBAChDC,GAAgB,GAChBC,GAAgB,GAEtB/U,OAAOgV,KAAKC,IAAO9E,QAAQ,SAAA+E,GACzBD,GAAMC,GAAU/E,QAAQ,SAAAgF,GACtBJ,GAAcI,EAAM3C,YAAc2C,EAAM5C,MAAM,IAAM,GAEpD4C,EAAM5C,MAAMpC,QAAQ,SAAApE,GAClB+I,GAAc/I,GAAQoJ,EAAM3C,WAE5BqC,GAAqB1E,QAAQ,SAACiF,EAAG3D,GAC/BqD,GAAa,GAAAhP,OAAIiG,EAAJ,gBAAAjG,OAAuB2L,EAAI,IAAO0D,EAAM3C,WAAW1M,OAAOsP,OAI3EP,GAAqB1E,QAAQ,SAACiF,EAAG3D,GAC/B,IAAMe,EAAa2C,EAAM3C,WAAW1M,OAAOsP,GACrCrJ,EAAOoJ,EAAM5C,MAAM,IAAM,GAE/BwC,GAAcvC,GAAd,GAAA1M,OAA+BiG,EAA/B,gBAAAjG,OAAkD2L,EAAI,SAK5D,IAAM4D,GAA8B,mCAkBpC,IAEMC,GAAY,WAChB,IAAM9C,EAAaxS,OAAOgV,KAAKD,IAC5BQ,KAAK,SAAAf,GAAS,OAAKA,EAAU/U,SAC7BgR,IAAI,SAAA+D,GAAS,OAAWA,EALDtC,QAAQ,qCAAsC,UAMrEsD,KAAK,KAER,OAAO,IAAIC,OAAO,IAAMjD,EAAa,IAAK,KAN1B,GASlB,SAASkD,GAAkClD,GACzC,OAAOA,EAAWN,QAAQoD,GAAU,SAACK,EAAGlZ,GAAJ,OAvBtC,SAAiC+X,GAAkC,IAAvBoB,IAAuBpW,UAAAC,OAAA,QAAA7B,IAAA4B,UAAA,KAAAA,UAAA,GAE7DmF,EAF6DnF,UAAAC,OAAA,QAAA7B,IAAA4B,UAAA,GAAAA,UAAA,GAAJ,GAQ7D,OAJIuV,GAAcc,eAAerB,KAC/B7P,EAAIoQ,GAAcP,IAGboB,EAAM,IAAA9P,OAAOnB,EAAP,KAAcA,EAeuBmR,CAAuBrZ,KAK3E,IAAMsZ,GAAY,CAChBC,QAAS,CACPC,MAAOxC,KAAeyC,aAAaF,QAAQC,MAAQ,GACnDxZ,MAAO,SAAAqE,GACL,MAAO,gBAAgBqV,KAAKrV,IAE9BG,MAAO,SAAAmV,GACL,MAAO,CACLlG,QAASkG,EAAQ,KAGrBC,MAAO,SAACnC,EAAMoC,EAAe/W,GAAtB,OAAgCmF,EAAAC,EAAAC,cAAA,MAAI2R,IAAKhX,EAAMgX,QAExDC,UAAW/C,KAAeyC,aAAaM,UACvCC,OAAQhD,KAAeyC,aAAaO,OACpCjU,KAAMiR,KAAeyC,aAAa1T,KAClCkU,SAAS1W,OAAAC,EAAA,EAAAD,CAAA,GACJyT,KAAeyC,aAAaQ,SADzB,CAENja,MAAOgX,KAAekD,YAAY,4BAEpCC,IAAKnD,KAAeyC,aAAaU,IACjCC,OAAQpD,KAAeyC,aAAaW,OACpCC,GAAIrD,KAAeyC,aAAaY,GAChCC,EAAGtD,KAAeyC,aAAaa,EAC/BC,GAAIvD,KAAeyC,aAAac,GAChCC,WAAYxD,KAAeyC,aAAae,WACxCC,SAAU,CACRjB,MAAOxC,KAAeyC,aAAatO,KAAKqO,MACxCxZ,MAAO,SAAUqE,GACf,MAAO,8BAAmBqV,KAAKrV,IAEjCG,MAAO,SAAUmV,GACf,MAAO,CAAEzW,KAAM,OAAQuQ,QAASkG,EAAQ,MAG5Ce,QAAS,CACPlB,MAAOxC,KAAeyC,aAAatO,KAAKqO,MACxCxZ,MAAO,SAAUqE,GACf,MAAO,cAAcqV,KAAKrV,IAE5BG,MAAO,SAAUmV,GACf,MAAO,CACLlG,QAASkG,EAAQ,KAGrBC,MAAO,SAAUnC,EAAMoC,EAAe/W,GACpC,IACMlB,EADa6E,EAAMM,WACMpF,MAC3BgZ,EAAQ,KACZ,IAAK,IAAMtZ,KAAWO,EAAa,CACjC,IAAMgZ,EAAmBhZ,EAAYP,GACrC,IAAK,IAAMwZ,KAAgBD,EACzB,GAAIC,IAAiBpD,EAAKhE,QAAS,CACjCkH,EAAQC,EAAiBC,GACzB,MAGJ,GAAIF,EAAO,MAEb,OAAO1S,EAAAC,EAAAC,cAACqO,GAAD,CAAS7G,MAAOgL,EAAQA,EAAMG,SAAW,GAAIhB,IAAKhX,EAAMgX,KAAxD,IAA+Da,EAAQA,EAAMrL,KAAOmI,EAAKhE,WAGpGsH,UAAW,CACTvB,MAAOxC,KAAeyC,aAAasB,UAAUvB,MAC7CxZ,MAFS,SAEFqE,GACL,MAAO,2CAA2CqV,KAAKrV,IAEzDG,MALS,SAKFmV,GACL,MAAO,CAAEqB,MAAOrB,EAAQ,IAAM,IAAIsB,OAAQxH,QAASkG,EAAQ,IAAM,MAGrEjB,MAAO,CACLc,MAAOxC,KAAeyC,aAAatO,KAAKqO,MACxCxZ,MAFK,SAEEqE,GACL,OAAOuU,GAA4Bc,KAAKrV,IAE1CG,MALK,SAKEmV,GACL,IAAM3Z,EAAQ2Z,EAAQ,GAChBrK,EAAOqK,EAAQ,GACf5B,EAhHZ,SAAiCzI,GAAc,IAARsF,EAAQ7R,UAAAC,OAAA,QAAA7B,IAAA4B,UAAA,GAAAA,UAAA,GAAJ,GAEzC,OAAOsV,GAAce,eAAe9J,GAAQ+I,GAAc/I,GAAQsF,EA8G5CsG,CAAuB5L,GACzC,OAAOyI,EAAY,CACjBzI,KAAI,IAAAjG,OAAMiG,EAAN,KACJyI,UAAWA,EACX/I,IAAK8I,GAAYC,IACf,CACF7U,KAAM,OACNuQ,QAASzT,IAGb4Z,MAlBK,SAkBEnC,EAAMoC,EAAe/W,GAC1B,OAAO2U,EAAKzI,IACV/G,EAAAC,EAAAC,cAAA,OACEgT,WAAW,EACX7S,UAAS,SAAAe,OAAWoO,EAAK2D,UAAY,YAAc,IACnDzK,IAAK8G,EAAKM,UACVsD,MAAO5D,EAAKnI,KACZN,IAAKyI,EAAKzI,IACV8K,IAAKhX,EAAMgX,MAGb7R,EAAAC,EAAAC,cAAA,QAAM2R,IAAKhX,EAAMgX,KAAMrC,EAAKM,aAIlCuD,YAAa,CACX9B,MAAOxC,KAAeyC,aAAatO,KAAKqO,MACxCxZ,MAFW,SAEJqE,GACL,MAAO,kBAAkBqV,KAAKrV,IAEhCG,MALW,SAKJmV,GACL,IA5Le4B,EA4LTjM,EAAOqK,EAAQ,GACftU,EAAKsU,EAAQ,GACnB,MAAO,CACL6B,QAASnW,EAITiK,KAAMA,EACNN,KApMauM,EAoMI,CACflW,GAAIA,GArMM,GAAAgE,OAAcxJ,OAAOC,SAAS2b,SAA9B,gCAAApS,OAAqEkS,EAAMlW,GAA3E,WAyMhBuU,MAnBW,SAmBJnC,EAAMoC,EAAe/W,GAC1B,OACEmF,EAAAC,EAAAC,cAAA,OACEgT,WAAW,EACX7S,UAAS,SAAAe,OAAWoO,EAAK2D,UAAY,YAAc,IACnDzK,IAAG,KAAAtH,OAAOoO,EAAKnI,KAAZ,KAAAjG,OAAoBoO,EAAKpS,GAAzB,KACHgW,MAAO5D,EAAKnI,KACZN,IAAKyI,EAAKzI,IACV8K,IAAKhX,EAAMgX,QAKnB3O,KAAK5H,OAAAC,EAAA,EAAAD,CAAA,GACAyT,KAAeyC,aAAatO,KAD7B,CAEFnL,MAAOgX,KAAe0E,cACpB,IAAI1C,OACFhC,KACGyC,aACAtO,KACAnL,MACA2b,MACAtX,OACAoR,QAAQ,KAAM,cAGrBjR,MAbE,SAaKmV,EAASiC,EAAc9Y,GAC5B,OAAOA,EAAM+Y,OAAS,CACpBpI,QAASkG,EAAQ,IACfiC,EAAa3C,GAAiCU,EAAQ,IAA1CpW,OAAAC,EAAA,EAAAD,CAAA,GACXT,EADW,CAEd+Y,QAAQ,QAIdC,EAAG,CACDtC,MAAOxC,KAAeyC,aAAaa,EAAEd,MACrCxZ,MAAOgX,KAAekD,YAAY,wBAClC1V,MAAOwS,KAAeyC,aAAaa,EAAE9V,QAIzC,SAASuX,GAAaC,GACpB,IAAMjC,EAAYiC,EAAEjC,UACdI,EAAM6B,EAAE7B,IACRpU,EAAOiW,EAAEjW,KACTgV,EAAYiB,EAAEjB,UACdP,EAAawB,EAAExB,WAErB,OAAOjX,OAAAC,EAAA,EAAAD,CAAA,GAQFyY,EARL,CASEF,EAAG,CACDtC,MAAOwC,EAAE1B,EAAEd,MACXxZ,MAAOgX,KAAekD,YAAY,wBAClC1V,MAAOwX,EAAE1B,EAAE9V,MACXoV,MAJC,SAIMnC,EAAMoC,EAAe/W,GAC1B,OAAOmF,EAAAC,EAAAC,cAAA,KAAG2R,IAAKhX,EAAMgX,KAAMD,EAAcpC,EAAKhE,QAAS3Q,MAG3DiX,UAAUxW,OAAAC,EAAA,EAAAD,CAAA,GACLwW,EADI,CAEPH,MAFO,SAEAnC,EAAMoC,EAAe/W,GAC1B,OAAOmF,EAAAC,EAAAC,cAAA,KAAG2R,IAAKhX,EAAMgX,KAAMD,EAAcpC,EAAKhE,QAAS3Q,OAG3DqX,IAAI5W,OAAAC,EAAA,EAAAD,CAAA,GACC4W,EADF,CAEDna,MAAOgX,KAAekD,YAAY,kDAEpCnU,KAAKxC,OAAAC,EAAA,EAAAD,CAAA,GACAwC,EADD,CAEF6T,MAFE,SAEKnC,EAAMoC,EAAe/W,GAI1B,IAAMF,EAAWiX,EAAcpC,EAAKhE,QAAS3Q,GACvCuY,EAAQ5D,EAAK4D,OA9U3B,SAASY,EAAaxE,GAapB,OAZA,SAAgBA,GAAmB,IAAbyE,EAAanZ,UAAAC,OAAA,QAAA7B,IAAA4B,UAAA,GAAAA,UAAA,GAAJ,GAS7B,OARI4U,MAAMC,QAAQH,GAChBA,EAAK/D,QAAQ,SAAAyI,GAAO,OAAIF,EAAYE,KACH,kBAAjB1E,EAAKhE,QACrByI,EAAO5J,KAAKmF,EAAKhE,SACQ,MAAhBgE,EAAKhE,SACdwI,EAAYxE,EAAKhE,SAGZyI,EAGFE,CAAM3E,GAAMsB,KAAK,IAiUUkD,CAAYxE,EAAKhE,SAC7C,OACExL,EAAAC,EAAAC,cAAA,KACEkT,MAAOA,EACPnM,KAAM8H,KAAeqF,YAAY5E,EAAKtI,QACtCA,OAAO,SACPC,IAAI,sBACJ0K,IAAKhX,EAAMgX,KAEVlX,MAKT4X,WAAWjX,OAAAC,EAAA,EAAAD,CAAA,GACNiX,EADK,CAERZ,MAFQ,SAEDnC,EAAMoC,EAAe/W,GAC1B,OACEmF,EAAAC,EAAAC,cAAA,QAAMG,UAAU,SAASwR,IAAKhX,EAAMgX,KACjCrC,EAAKhE,YAKdsH,UAAUxX,OAAAC,EAAA,EAAAD,CAAA,GACLwX,EADI,CAEPnB,MAFO,SAEAnC,EAAMoC,EAAe/W,GAC1B,GAAI2U,EAAKuD,MAAuC,MAA/BsB,KAAKC,YAAY9E,EAAKuD,MAAe,CACpD,IAAMwB,EAAmBF,KAAKG,UAAUhF,EAAKuD,KAAMvD,EAAKhE,SAAS,GAEjE,OACExL,EAAAC,EAAAC,cAAA,OAAK2R,IAAKhX,EAAMgX,KACd7R,EAAAC,EAAAC,cAAA,QACEG,UAAS,QAAAe,OAAUmT,EAAiBE,UACpCC,wBAAyB,CAAEC,OAAQJ,EAAiBtY,UAM5D,OACE+D,EAAAC,EAAAC,cAAA,OAAK2R,IAAKhX,EAAMgX,KACd7R,EAAAC,EAAAC,cAAA,QAAMG,UAAU,QAAQmP,EAAKhE,eAQzC,IA1VeoJ,GAAQC,GA0VjBC,GAA0BhB,GAAYxY,OAAAC,EAAA,EAAAD,CAAA,GACvC+V,GADsC,CAEzCvT,KAAKxC,OAAAC,EAAA,EAAAD,CAAA,GACA+V,GAAUvT,KADX,CAEF/F,MAFE,WAGA,OAAO,WAyDE,IAAAgd,GAAA,CAAExY,MAlDHoS,GAAUmG,IAkDAE,gBA5CArG,GAAUmF,GAAYzC,KA4CL4D,gBAvCjBtG,IAjXTiG,GAkXRE,GAlXgBD,GAkXS,CAAC,YAAa,KAAM,UAAW,UAAW,eAjXjEvZ,OAAOgV,KAAKsE,IAAQM,OAAO,SAACjB,EAAQpC,GAKzC,OAJ+B,IAA3BgD,GAAS9E,QAAQ8B,KACnBoC,EAAOpC,GAAO+C,GAAO/C,IAGhBoC,GACN,MAiZqDkB,SAjC1D,SAAmB7F,GAOjB,GANsBA,EAAI8F,KAAK,SAAA5F,GAAI,MACnB,UAAdA,EAAKvU,MACS,gBAAduU,EAAKvU,OACoB,kBAAjBuU,EAAKhE,SAAgD,KAAxBgE,EAAKhE,QAAQwH,UAIlD,OAAO1D,EAGT,IACI+F,EAAQ,EAkBZ,OAhBA/F,EAAI7D,QAAQ,SAAA+D,GAKV,GAJkB,UAAdA,EAAKvU,MAAkC,gBAAduU,EAAKvU,OAChCoa,GAAS,GAGPA,EARU,GASZ,OAAO,IAIPA,EAbY,IAcd/F,EAAI7D,QAAQ,SAAA+D,GACVA,EAAK2D,WAAY,IAId7D,gjECpdT,IAAMxG,GAASzJ,IAAOC,IAAVgW,MA0BNC,GAAY5Q,KAAMrF,IAAI,CAC1BI,MAAO,CAAE8V,QAAS,GAClB7V,KAAM,CAAE6V,QAAS,KAGbC,GAAiBpW,IAAOC,IAAVoW,MAQdC,GAActW,IAAOC,IAAVsW,KACJ,SAAAlb,GAAK,OAAIA,EAAMiL,KAAO,QAAU,QAMtBnD,GAAOC,QAAQC,SAOhCmT,GAAaxW,IAAOC,IAAVwW,MAmBVC,GAAe1W,IAAOC,IAAV0W,MAcZC,GAAStR,aAAMoR,GAANpR,CAAoB,CACjCuR,OAAQ,CAAEtR,OAAQ,OAAQ4Q,QAAS,GACnCW,SAAU,CAAEvR,OAAQ,EAAG4Q,QAAS,KAG5BY,GAAe/W,IAAOC,IAAV+W,MASZC,GAAMjX,IAAOmP,KAAV+H,KAIE7H,aAAe,GAAKlM,GAAOC,QAAQE,SAG5B+L,aAAe,GAAKlM,GAAOC,QAAQE,UAI/C6T,GAAiBnX,IAAOoX,EAAVC,KAGTlU,GAAOC,QAAQM,OAGpB4T,GAAWhS,aAAM6R,GAAN7R,CAAsB,CACrCjF,MAAO,CAAE8V,QAAS,EAAGpV,WAAY,CAAER,SAAU,MAC7CD,KAAM,CAAE6V,QAAS,EAAGpV,WAAY,CAAER,SAAU,QAGxCgX,GAAU,IAAIC,8BACpB,QAAAC,GAAAC,GAAmBC,GAAnBja,OAAAC,cAAAia,IAAAH,GAAAC,GAAA9Z,QAAAC,MAAA+Z,IAAA,EAAwB,KAAbvL,GAAaoL,GAAA7a,MAAAib,IAAA,EAAAC,IAAA,EAAAC,QAAAle,EAAA,IACtB,QAAAme,GAAAC,GAAkB5L,GAAKiB,EAAvB5P,OAAAC,cAAAka,IAAAG,GAAAC,GAAAra,QAAAC,MAAAga,IAAA,OAAWK,GAAXF,GAAApb,MAA0B2a,GAAQY,IAAID,KADhB,MAAAla,IAAA8Z,IAAA,EAAAC,GAAA/Z,GAAA,YAAA6Z,IAAA,MAAAI,GAAAha,QAAAga,GAAAha,SAAA,WAAA6Z,GAAA,MAAAC,iGAGxB,IAAMK,GAAiB,6BACvB,QAAAC,GAAAC,GAAkBf,GAAlB7Z,OAAAC,cAAA4a,IAAAF,GAAAC,GAAA1a,QAAAC,MAAA0a,IAAA,EAA2B,KAAhBL,GAAgBG,GAAAzb,MACzBwb,GAAepN,KAAK,CAAEwH,IAAK0F,GAAKrU,KAAMqU,GAAKtb,MAAOsb,iGAGpD,IAAMM,GAAeb,GAAIjL,IAAI,SAAAL,GAAI,OAAIA,EAAK6B,KACpCuK,GAAe,GACfC,GAAkB,GACxBf,GAAIvL,QAAQ,SAACC,EAAMsM,GACjBD,GAAgBrM,EAAKG,GAAKoM,KAAKC,MAAMF,EAAQF,IAC7CpM,EAAKzL,EAAI8U,GAAWC,gBAAgBtJ,EAAKzL,KA4I5B6F,oBAnIf,SAAcpL,GAAO,IAAAqL,EACeC,mBAAS,IADxBC,EAAA3K,OAAA4K,EAAA,EAAA5K,CAAAyK,EAAA,GACXoS,EADWlS,EAAA,GACCmS,EADDnS,EAAA,GAAAI,EAEmBL,mBAAS,IAF5BM,EAAAhL,OAAA4K,EAAA,EAAA5K,CAAA+K,EAAA,GAEXgS,EAFW/R,EAAA,GAIbgS,GAJahS,EAAA,GAIG5L,EAAM3C,MAAMwgB,OAAOC,UAJtBC,EAKuBzS,mBAAS6R,GAAaa,SAASJ,GAAiBtB,GAAI2B,KAAK,SAAAjN,GAAI,OAAIA,EAAK6B,KAAO+K,IAAiB,MALrHM,EAAAtd,OAAA4K,EAAA,EAAA5K,CAAAmd,EAAA,GAKXI,EALWD,EAAA,GAKOE,EALPF,EAAA,GAAAG,EAMO/S,mBAAS6S,EAAmBd,GAAgBc,EAAiBhN,GAAK,GANzEmN,EAAA1d,OAAA4K,EAAA,EAAA5K,CAAAyd,EAAA,GAMXvb,EANWwb,EAAA,GAMLC,EANKD,EAAA,GASnBE,oBAAU,WACJxe,EAAMye,WAAaN,GAAoBR,EAAWQ,EAAiBtL,KACrE7S,EAAMye,UAAUC,UAAUf,EAAWQ,EAAiBtL,MAEvD,CAAE7S,EAAMye,UAAWN,EAAkBR,IAGxCa,oBAAU,WACW,KAAff,GAAqBzd,EAAMye,WAAaN,GAAoBR,EAAWQ,EAAiBtL,KAC1F7S,EAAMye,UAAUC,UAAUf,EAAWQ,EAAiBtL,MAEvD,CAAE4K,EAAYzd,EAAMye,UAAWN,EAAkBR,IAEpDa,oBAAU,WAER,GADgBG,KAAY9c,MAAM7B,EAAM7C,SAASyhB,QAAQC,OACxCV,EAAjB,CACA,IAAM7O,EAAa,CACjBwP,OAAQxZ,EAAAC,EAAAC,cAAA,UAAK2Y,EAAiBhN,GAC9B5B,OAAQjK,EAAAC,EAAAC,cAAA,OAAKyG,MAAO,CAAE8S,QAAS,OAAQC,eAAgB,kBACrD1Z,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,iBACA3Z,EAAAC,EAAAC,cAACkW,GAAD,KAAeyC,EAAiBlM,EAAEZ,IAAI,SAACwL,EAAKxK,GAAN,OAAY/M,EAAAC,EAAAC,cAACoW,GAAD,CAAKzE,IAAK9E,GAAIwK,OAElEvX,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,KAAK1D,QAAS,SAAAN,GAAC,OAAI/M,GAAMoO,YAGvCsB,EACJnK,EAAAC,EAAAC,cAAC+V,GAAD,CAAQlO,KAAK,SAASpB,MAAO,CAAEiT,YAAa,IAC1C5Z,EAAAC,EAAAC,cAAA,SAAI2Y,EAAiB5Y,IAGzBxF,GAAMkL,KAAKqE,EAAYG,KACtB,CAAEzP,EAAM0P,QAAS1P,EAAM7C,SAASyhB,OAAQT,IAE3CK,oBAAU,WACcW,SAASzG,MAA3ByF,EAAkB,uBAAAzX,OAAwCyX,EAAiBhN,GAC1E,qBACJ,CAACgN,IAEJ,IAAMiB,EH3IR,SAAiB3B,GACf,IAAM4B,EAAkB,IAAIlD,IAAIsB,EAAWrM,MAAM,KAAKC,IAAIC,MAAS0B,OAAO,SAAAhC,GAAI,OAAIA,KAC5EsO,EAAsBD,EAAgBzS,KAC5C,GAA4B,IAAxB0S,EAA2B,OAAOxO,GACtC,IAAMyO,EAA8B,GAC9BC,EAAiB,GACjBC,EAAiB,GANIC,GAAA,EAAAC,GAAA,EAAAC,OAAAphB,EAAA,IAO3B,QAAAqhB,EAAAC,EAAmBT,EAAnBhd,OAAAC,cAAAod,GAAAG,EAAAC,EAAAvd,QAAAC,MAAAkd,GAAA,EAAoC,KAAzBK,EAAyBF,EAAAte,MAClC,GAAKiP,GAAgBuP,GAArB,CADkC,IAAAC,GAAA,EAAAC,GAAA,EAAAC,OAAA1hB,EAAA,IAElC,QAAA2hB,EAAAC,EAAkB5P,GAAgBuP,GAAlC1d,OAAAC,cAAA0d,GAAAG,EAAAC,EAAA7d,QAAAC,MAAAwd,GAAA,EAAyC,KAA9BK,EAA8BF,EAAA5e,MACjC+e,EAAgBD,EAAI,GACpBE,EAASF,EAAI,GACdb,EAAec,MAIhBd,EAAec,GACjBb,EAAea,IAAkBC,IAJjCf,EAAec,GAAiB,EAChCb,EAAea,GAAiBC,IAPF,MAAA5d,IAAAsd,GAAA,EAAAC,EAAAvd,GAAA,YAAAqd,GAAA,MAAAI,EAAAxd,QAAAwd,EAAAxd,SAAA,WAAAqd,EAAA,MAAAC,MAPT,MAAAvd,IAAAgd,GAAA,EAAAC,EAAAjd,GAAA,YAAA+c,GAAA,MAAAI,EAAAld,QAAAkd,EAAAld,SAAA,WAAA+c,EAAA,MAAAC,GAsB3B,IAAK,IAAMY,KAAYhB,EACjBA,EAAegB,KAAclB,GAAqBC,EAA4B5P,KAAK,CAAE6Q,EAAUf,EAAee,KAEpH,OAAOjB,EAA4BpJ,KAAK,SAAC5Q,EAAGkb,GAAJ,OAAUA,EAAE,GAAKlb,EAAE,KAAI8L,IAAI,SAACL,EAAMsM,GAAP,OAAiBxM,GAAQE,EAAK,MGkH5E0P,CAAUjD,GAGzBkD,EAAQvB,EAAa/N,IAAI,SAACL,EAAMsM,GACpC,IAAM3S,EAAWwT,GAAoBA,EAAiBtL,KAAO7B,EAAK6B,GAClE,OACEvN,EAAAC,EAAAC,cAACqV,GAAD,CAAW1D,IAAKnG,EAAKG,EAAGyP,IAAK,SAAAC,GACtBlD,EAAW3M,EAAK6B,MAAK8K,EAAW3M,EAAK6B,IAAMgO,EAAKC,aAErDxb,EAAAC,EAAAC,cAACuV,GAAD,KAEEzV,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC2G,GAAA,EAAD,CAAMC,GAAIzB,EAAW2B,GAAMnD,IAAT,GAAAzC,OAAkB4F,GAAMnD,IAAxB,KAAAzC,OAA+BsK,EAAK6B,IAAMzF,QAAS,SAAAN,GAAC,OAAIsR,EAAYzT,EAAW,KAAOqG,KACtG1L,EAAAC,EAAAC,cAACub,GAAD,CAAkBC,GAAG,OAAO/U,MAAO,CAAEgV,SAAU,OAAQC,WAAY,OAAQC,WAAYxW,EAAW,IAAM,SAAUqC,MAAOrC,EAAWyW,aAAQ,KAAOtZ,GAAOC,QAAQC,SAAWF,GAAOC,QAAQS,OAASwI,EAAKG,IAE5M7L,EAAAC,EAAAC,cAAC+V,GAAD,CAAQlO,KAAM1C,EAAW,SAAW,WAAY0W,YAAY,YAC1D/b,EAAAC,EAAAC,cAACyV,GAAD,CAAahQ,KAAMN,IACnBrF,EAAAC,EAAAC,cAAA,SAAIwL,EAAKzL,GACTD,EAAAC,EAAAC,cAACyZ,GAAD,iBACA3Z,EAAAC,EAAAC,cAACkW,GAAD,KACGyC,EAAmBA,EAAiBlM,EAAEZ,IAAI,SAACwL,EAAKxK,GAAN,OAAY/M,EAAAC,EAAAC,cAACoW,GAAD,CAAKzE,IAAK9E,GAAIwK,KAAc,OAM3FvX,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,SAOAC,EAAcze,EAAO,EACrB0e,EAAWD,EAAcnE,GAC/B,OACE9X,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACic,GAAD,KACEnc,EAAAC,EAAAC,cAACkc,GAAD,CAAY1R,QAAQ,6BAA6B/D,MAAO,CAAE0V,UAAW,YACrErc,EAAAC,EAAAC,cAAA,KAAGyG,MAAO,CAAE0V,UAAW,WAAvB,gDAAgFrc,EAAAC,EAAAC,cAAA,WAAMF,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOlF,GAAOC,QAAQO,SAArC,+DACtFhD,EAAAC,EAAAC,cAAA,OAAKyG,MAAO,CAAE2V,MAAO,OAAQ7C,QAAS,OAAQC,eAAgB,SAAU6C,SAAU,aAChFvc,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAO3U,KAAK,SAAS4U,aAAa,OAAOC,UAAW,SAAAlV,GAChC,KAAdA,EAAEmV,SAAmBxE,GAAsC,IAAxB2B,EAAa/e,SACpD+d,EAAYgB,EAAa,IACzBb,EAAQlB,GAAgB+B,EAAa,GAAGjO,IACxCuM,EAAU,MAETwE,SAAU,SAAApV,GACE,IAAThK,GAAYyb,EAAQ,GACxBb,EAAU5Q,EAAEN,OAAOjL,QAClBA,MAAOkc,IACVnY,EAAAC,EAAAC,cAACyW,GAAD,CAAU5O,KAAMoQ,GAAckD,EAAMtgB,OAAS,EAAI,QAAU,QAA3D,0CAIJiF,EAAAC,EAAAC,cAACoK,GAAD,KACEtK,EAAAC,EAAAC,cAAC2V,GAAD,CAAY9N,KAAK,QAAQ8J,IAAI,OAC3B7R,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAMiY,EAAa,iBAAmB,iBACtCnY,EAAAC,EAAAC,cAACyH,GAAA,EAAOkV,MAAR,KACE7c,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQL,KAAK,QAAQO,KAAK,aAAaiV,SAAmB,IAATtf,EAAYsK,QAAS,SAAAN,GAAC,OAAIhK,GAAQ,EAAI,KAAOyb,EAAQzb,EAAO,MAC7GwC,EAAAC,EAAAC,cAACyH,GAAA,EAAOoV,GAAR,CAAW7Z,KAAM+Y,IACjBjc,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQL,KAAK,QAAQO,KAAK,cAAciV,SAAUZ,GAAYb,EAAMtgB,OAAQ+M,QAAS,SAAAN,GAAC,OAAI0U,GAAYb,EAAMtgB,OAAS,KAAOke,EAAQgD,QAGxIjc,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC8c,GAAA,EAAD,CAAWC,UAAQ,GAChB5B,EAAM6B,MAAMhB,EAAWpE,GAAcoE,KAG1Clc,EAAAC,EAAAC,cAAA,oBAAY+b,EAAZ,IAA0B,EAAIhE,KAAKC,MAAMmD,EAAMtgB,OAAS+c,0fCrRhE,IAAMvN,GAAYlL,IAAOC,IAAV6d,KAMM,SAAAziB,GAAK,OAAIA,EAAM0iB,cAAgB,MAAQ,SAStDC,GAAOhe,IAAOC,IAAVge,KAIU,SAAA5iB,GAAK,OAAIA,EAAM6iB,iBAAmB,OAAS,IAgChD9S,yLA1BX,OACEzK,EAAAC,EAAAC,cAACsd,GAAD,CAAWJ,gBAAiB9a,KAAK5H,MAAMiQ,YACrC3K,EAAAC,EAAAC,cAACmd,GAAD,CAAME,mBAAoBjb,KAAK5H,MAAM+iB,eACnCzd,EAAAC,EAAAC,cAAA,WACGoC,KAAK5H,MAAMgQ,QAAU1K,EAAAC,EAAAC,cAAA,UAAKoC,KAAK5H,MAAMgQ,SAAgB,KACrDpI,KAAK5H,MAAMiQ,WAAa3K,EAAAC,EAAAC,cAAA,SAAIoC,KAAK5H,MAAMiQ,YAAkB,MAE3DrI,KAAK5H,MAAM+iB,cAAgBzd,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,UAAKoC,KAAK5H,MAAM+iB,gBAA4B,cAT9D7S,IAAMC,uSCzBhBxL,WAAOC,IAAtBoe,iOCCA,ICDere,WAAOC,IAAtBqe,KAEe,SAAAjjB,GAAK,OAAIA,EAAMihB,SAAWjhB,EAAMihB,SAAW,6BCCpDiC,eACJ,SAAAA,EAAaljB,GAAO,IAAAmjB,EAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAsb,IAClBC,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAsiB,GAAAK,KAAA3b,QAQF4b,YAAc,kBAAML,EAAKnjB,MAAMwjB,YAAYL,EAAKhjB,MAAMqX,MAPpD,IAAMiM,EAAcC,eAAenf,QAAQ,mBAFzB,OAIlB4e,EAAKhjB,MAAQ,CACXqX,IAAKxX,EAAM3C,MAAMwgB,OAAOrG,IAAMmM,mBAAmB3jB,EAAM3C,MAAMwgB,OAAOrG,KAAOiM,EAAc7hB,KAAKC,MAAM4hB,GAAaG,QAAU,IAL3GT,0EAWV,IAAAU,EAAAjc,KAER,OACEtC,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CACEtS,OAAK,EACLsU,YAAY,oBACZ1B,SAAUxa,KAAK5H,MAAM+jB,QACrBzjB,OAAQgF,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQmV,UAAWxa,KAAKzH,MAAMqX,IAAK1G,QAAQ,MAAM1D,QAASxF,KAAK4b,cACvEQ,WAAY,SAAAlX,GAAC,MAAc,UAAVA,EAAEqK,IAAkB0M,EAAKL,cAAgB,MAC1DtB,SAAU,SAAApV,GAAC,OAAI+W,EAAKI,SAAS,CAAEzM,IAAK1K,EAAEN,OAAOjL,SAC7CA,MAAOqG,KAAKzH,MAAMqX,aAtBF0M,aAiCT9Y,gBAAW8X,IFtCpB/P,GAAQ,CAAE,mBAAoB,aAAc,eAAgB,MAAO,aAEnEgR,GAAa,IAAIhI,IACvBiI,GAAA,EAAAC,GAAmBlR,GAAnBiR,GAAAC,GAAAhkB,OAAA+jB,KAA0B,CAArB,IAAMzX,GAAI0X,GAAAD,IACbD,GAAWrH,IAAInQ,IAGjB,IAAM2X,GAAmB,SAAAC,GACvB,OAAOJ,GAAWK,IAAID,m+FGgBxB,IAAME,GAAgBC,KAAOC,GAAGD,KAAOC,GAAGC,SAASC,OAAO,KAepDzW,GAASzJ,IAAOC,IAAVkgB,MA0BNC,GAAkBpgB,IAAOC,IAAVogB,MAMfC,GAAuBtgB,IAAOC,IAAVsgB,MAIpBC,GAAwBxgB,IAAOC,IAAVwgB,MAOrBC,GAA0B1gB,IAAOC,IAAV0gB,MAUvBC,GAAsBtb,KAAMrF,IAAI,CACpCI,MAAO,CAAEkF,OAAQ,OAAQ4Q,QAAS,GAClC7V,KAAM,CAAEiF,OAAQ,EAAG4Q,QAAS,KAIxB0K,GAAc7gB,IAAOC,IAAV6gB,MAkBXC,GAAwB/gB,IAAOC,IAAV+gB,MAqBrBC,GAAkB3b,aAAMyb,GAANzb,CAA6B,CACnDjF,MAAO,CAAE4c,MAAO,OAAQ9G,QAAS,GACjC7V,KAAM,CAAE2c,MAAO,EAAG9G,QAAS,KAGvB+K,GAAgBlhB,IAAOC,IAAVkhB,MAebC,GAAephB,IAAOC,IAAVohB,MAIZC,GAAWhc,aAAM8b,GAAN9b,CAAoB,CACnCjF,MAAO,CAAE8V,QAAS,GAClB7V,KAAM,CAAE6V,QAAS,KAGboL,GAAmBvhB,YAAOsa,GAAPta,CAAHwhB,MAKhBC,GAAgBzhB,IAAOC,IAAVyhB,MAUbC,GAAa3hB,IAAOC,IAAV2hB,MAUVC,GAAoBvc,KAAMrF,IAAI,CAClCI,MAAO,CAAE8V,QAAS,EAAG5Q,OAAQ,QAC7BjF,KAAM,CAAE6V,QAAS,EAAG5Q,OAAQ,KAGxBuc,GAAmB9hB,IAAO+hB,IAAVC,MAIhBC,GAAa3c,aAAMwc,GAANxc,GAEb4c,GAAkB,CAAC,CAAEre,KAAM,eAAgBjH,MAAO,gBAAkB,CAAEiH,KAAM,eAAgBjH,MAAO,QAEnGulB,eACJ,SAAAA,EAAa9mB,GAAO,IAAAmjB,EAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAkf,IAClB3D,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAkmB,GAAAvD,KAAA3b,QAuCFmf,mBAAqB,SAACjoB,EAAa0Y,EAAKwP,EAAYC,GAClD,IAAMC,EAAmB,GACnBC,EAAmB,CAAC,SACpBC,EAAwB,GAC1BC,EAAqB,GACzBvoB,EAAYiS,QAAQ,SAAAuW,GAClB,IAAK,IAAMxD,KAAewD,EACnBA,EAAaxD,KAAgBQ,GAAiBR,KAC/B,SAAhBA,GACFwD,EAAaxD,GAAeY,KAAO4C,EAAaxD,IAAcyD,QAAQ1C,OAAO,gCACxEqC,EAAiBM,OACpBN,EAAiBM,MAAO,EACxBJ,EAAsBzX,KAAK,CAAEnH,KAAM,OAAQjH,MAAO,WAE3CuiB,EAAY9F,SAAS,SACzBkJ,EAAiBO,SACpBP,EAAiBO,QAAS,EAC1BL,EAAsBzX,KAAK,CAAEnH,KAAM,SAAUjH,MAAO,YAE7CuiB,EAAY9F,SAAS,UACzBkJ,EAAiBQ,UACpBR,EAAiBQ,SAAU,EAC3BN,EAAsBzX,KAAK,CAAEnH,KAAM,UAAWjH,MAAO,aAE7C2lB,EAAiBpD,KACtBuD,IAAoBA,EAAqBvD,GAC9CoD,EAAiBpD,IAAe,EAChCsD,EAAsBzX,KAAK,CAAEnH,KAAMsb,EAAaviB,MAAOuiB,QAIzDoD,EAAiBM,MAAML,EAAiBxX,KAAK,QAC7CuX,EAAiBS,aAAaR,EAAiBxX,KAAK,eACpDuX,EAAiB9jB,MAAM+jB,EAAiBxX,KAAK,QACjB,IAA5BwX,EAAiB9mB,QAAc8mB,EAAiBxX,KAAK0X,GAEzD,IAAMrb,EAAQ,GAAAtF,OAAM4F,GAAMhD,aAAZ,KAAA5C,OAA4BsgB,GAEtC7D,EAAKnjB,MAAM0P,QAAQvS,SAAS6O,WAAaA,GAC3CmX,EAAKnjB,MAAM0P,QAAQC,KAAK,CACtB3D,aAIJmX,EAAKc,SAAS,CAAEmD,wBAAuBD,mBAAkBpD,SAAS,EAAOnF,OAAQ,GAAI9f,cAAa8kB,QAASpM,EAAKoQ,eAAgBZ,EAAYC,aApF1H9D,EAuFpBK,YAAc,SAACqE,GACb,IAAMrQ,EAAMqQ,GAAY1E,EAAKhjB,MAAMqX,IACnC,GAAKA,IAAO2L,EAAKhjB,MAAM4jB,QAAvB,CACAZ,EAAKc,SAAS,CAAEF,SAAS,EAAMne,MAAO,GAAIkiB,SAAUjB,GAAgB,GAAGtlB,MAAO0lB,QAAS,GAAIc,YAAY,IACvG,IAAMf,EAAagB,mBAAmBxQ,GACtChR,IAAMC,IAAN,cAAAC,OAAwBsgB,IAAciB,KAAK,SAAAjiB,GACzCmd,EAAK4D,mBAAmB/gB,EAAIlF,KAAKwmB,aAAc9P,EAAKwP,EAAYhhB,EAAIlF,KAAKonB,KACzExE,eAAejf,QAAQ,kBAAmB7C,KAAKE,UAAU,CAAEhD,YAAakH,EAAIlF,KAAKwmB,aAAcY,IAAKliB,EAAIlF,KAAKonB,IAAKtE,QAASpM,EAAKoQ,eAAgBZ,OAE/ImB,MAAM,SAAAxlB,GACPkE,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,SAChC,IAAMmE,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5K8E,QAAQC,IAAIZ,GACZid,EAAKc,SAAS,CAAEF,SAAS,EAAOne,MAAOM,QApGvBid,EAyGpBiF,OAAS,SAAAA,GACHjF,EAAKhjB,MAAMioB,SAAWA,GAAQjF,EAAKc,SAAS,CAAEmE,OAAQA,GAAU,MA1GlDjF,EAiHpB2E,SAAW,SAAAA,GAET,GADoB3E,EAAKhjB,MAAjByjB,SACQkE,IAAa3E,EAAKhjB,MAAM2nB,SAAxC,CACA,GAAiB,iBAAbA,EAIJ,OAAI3E,EAAKhjB,MAAM8mB,QAAgB9D,EAAKc,SAAS,CAAE6D,kBAA/C,EAHE3E,EAAKc,SAAS,CAAE6D,WAAUliB,MAAO,OAnHnC,IAAMyiB,EAAc1J,KAAY9c,MAAM7B,EAAM7C,SAASyhB,QAFnC,OAGlBuE,EAAKhjB,MAAQ,CACXyF,MAAO,GACP0iB,cAAc,EACd9Q,IAAKxX,EAAM3C,MAAMwgB,OAAOrG,IAAMmM,mBAAmB3jB,EAAM3C,MAAMwgB,OAAOrG,KAAO,GAC3EoM,QAAS,GACT2E,eAAgB,GAChB3J,OAAQ,GACRmF,SAAS,EACToD,iBAAkB,GAClBC,sBAAuB,GACvBtoB,YAAa,GACbspB,OAAQC,EAAYlS,KACpBqS,eAA0C,SAA1BH,EAAYI,UAC5BX,SAAUjB,GAAgB,GAAGtlB,MAC7BwmB,YAAY,EACZd,QAAS,IAlBO9D,sFAuBlBhE,SAASzG,MAAQ,6BACjB9Q,KAAK5H,MAAM0oB,4DAaP9gB,KAAKzH,MAAMqX,KAAK5P,KAAK4b,+CAsFjB,IAAAK,EAAAjc,KAAA+gB,EAC0C/gB,KAAKzH,MAA/Cye,EADA+J,EACA/J,OAAQuI,EADRwB,EACQxB,iBAAkBroB,EAD1B6pB,EAC0B7pB,YAE5B8pB,EAA4BzB,EAAiBnJ,SAAS,UACtD6K,EAA6B1B,EAAiBnJ,SAAS,WACvD8K,EAA2B3B,EAAiBnJ,SAAS,SACrD+K,EAAiC5B,EAAiBnJ,SAAS,eAC3DgL,EAA0B7B,EAAiBnJ,SAAS,QACpDiL,EAA0B9B,EAAiBnJ,SAAS,QAEpDkL,GAAUthB,KAAKzH,MAAMioB,QAAWjB,EAAiBnJ,SAASpW,KAAKzH,MAAMioB,QAEvExnB,OAAAuoB,GAAA,EAAAvoB,CAAK9B,GAAcqX,KAAK,SAAC5Q,EAAGkb,GAC1B,IAAMlH,EAAShU,EAAEse,EAAK1jB,MAAMioB,QAAU3H,EAAEoD,EAAK1jB,MAAMioB,QAAU,GAAK,EAClE,OAAOvE,EAAK1jB,MAAMqoB,eAAiBjP,GAAmB,EAAVA,IAH9Cza,GAKAuS,IAAI,SAAAiW,GACN,IAAMG,EAAS,GACTC,EAAU,GACZ0B,GAAU,EAEd,GAAKxK,GAEH,IAAK,IAAMkF,KAAewD,EACxB,IAAI8B,EAAJ,CACA,IAAMC,EAAM/B,EAAaxD,IACrBqD,EAAiBnJ,SAAS8F,IAAiB8E,GAA6B9E,EAAY9F,SAAS,UAAc6K,GAA8B/E,EAAY9F,SAAS,YAC5JqL,EAAIC,WAAWC,cAAcvL,SAASY,KAASwK,GAAU,SANtDA,GAAU,EAWvB,IAAKA,EAAS,OAAO,KAGrB,GAAIP,GAA8BD,EAChC,IAAK,IAAM9E,KAAewD,EAAc,CACtC,IAAM+B,EAAM/B,EAAaxD,GACrB8E,GAA6B9E,EAAY9F,SAAS,SAAUyJ,EAAO9X,KAAKrK,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAOrS,IAAKkS,EAAM,SAAUI,GAAG,QAAQC,UAAQ,EAACC,cAAY,EAACC,QAAStkB,EAAAC,EAAAC,cAAA,KAAGiH,IAAI,sBAAsBF,KAAM8c,EAAK7c,OAAO,UAASlH,EAAAC,EAAAC,cAACqkB,GAAA,EAAD,CAAOxd,IAAKgd,EAAKlS,IAAKkS,KAAavY,QAAO,IAAApK,OAAMod,EAAN,QAC3O+E,GAA8B/E,EAAY9F,SAAS,WAAW0J,EAAQ/X,KAC7ErK,EAAAC,EAAAC,cAAA,OAAK2R,IAAKkS,EAAM,UACd/jB,EAAAC,EAAAC,cAAC0gB,GAAD,KAAmBpC,EAAYhR,QAAQ,uBAAwB,iBAC/DxN,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAOC,GAAG,QAAQC,UAAQ,EAACC,cAAY,EAACC,QAAStkB,EAAAC,EAAAC,cAAA,KAAGiH,IAAI,sBAAsBF,KAAM8c,EAAK7c,OAAO,UAAU6c,GAAUvY,QAAO,IAAApK,OAAMod,EAAN,SAMnI,IAAMgG,EAAqB,GACvBb,GAAyBa,EAAmBna,KAAKrK,EAAAC,EAAAC,cAAA,OAAK2R,IAAKmQ,EAAalkB,KAAO,MAAMkC,EAAAC,EAAAC,cAAC0gB,GAAD,aAAyC5gB,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAO3H,SAAS,cAAc8H,cAAY,EAACC,QAAStkB,EAAAC,EAAAC,cAAA,KAAGiH,IAAI,sBAAsBD,OAAO,SAASD,KAAM+a,EAAalkB,MAAOkkB,EAAalkB,MAAWsmB,UAAQ,EAAC5Y,QAAQ,SAAS2Y,GAAG,YAjC5R,IAAAznB,GAAA,EAAAC,GAAA,EAAAC,OAAA1D,EAAA,IAkCtB,QAAA2D,EAAAC,EAAuB+kB,EAAvB9kB,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAyC,KAA9B8T,EAA8B3T,EAAAZ,MAEtB,UAAbuU,GAAqC,SAAbA,GAAoC,SAAbA,GAAoC,gBAAbA,GAA2C,YAAbA,GAAuC,WAAbA,GAClIgU,EAAmBna,KAAKrK,EAAAC,EAAAC,cAAA,OAAK2R,IAAKmQ,EAAaxR,GAAY,OAAOxQ,EAAAC,EAAAC,cAAC0gB,GAAD,KAAmBpQ,GAA4BxQ,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAO3H,SAAS,cAAc8H,cAAY,EAACC,QAAStkB,EAAAC,EAAAC,cAAA,SAAI4O,GAAOkG,gBAAgBgN,EAAaxR,KAAiB4T,UAAQ,EAAC5Y,QAAO,IAAApK,OAAMoP,EAAN,KAAmB2T,GAAG,aArChP,MAAA9mB,IAAAV,GAAA,EAAAC,EAAAS,GAAA,YAAAX,GAAA,MAAAI,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAX,EAAA,MAAAC,GAwCtB,OACEoD,EAAAC,EAAAC,cAACygB,GAAD,CAAU9O,IAAKmQ,EAAayC,IAAKpkB,UAAU,UACzCL,EAAAC,EAAAC,cAACwkB,GAAD,KACIhB,GACE1B,EAAaE,KACXliB,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAO3H,SAAS,cAAc8H,cAAY,EAACC,QAAStkB,EAAAC,EAAAC,cAACykB,GAAD,KAA6B3C,EAAaE,KAAO/C,IAA6CgF,GAAG,QAAQC,UAAQ,EAAC5Y,QAAQ,WAEhL,KAEFgY,EACExB,EAAa5O,MACXpT,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAO3H,SAAS,cAAc8H,cAAY,EAACC,QAAStkB,EAAAC,EAAAC,cAACub,GAAD,KAAmB3M,GAAOkG,gBAAgBgN,EAAa5O,QAA4B+Q,GAAG,QAAQC,UAAQ,EAAC5Y,QAAQ,YACnKxL,EAAAC,EAAAC,cAACub,GAAD,2BACF,KAEFgI,GACEzB,EAAaK,YACXriB,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAO3H,SAAS,cAAc8H,cAAY,EAACC,QAAStkB,EAAAC,EAAAC,cAAA,SAAI4O,GAAOkG,gBAAgBgN,EAAaK,aAAeL,EAAa4C,UAAeR,UAAQ,EAAC5Y,QAAQ,YAAY2Y,GAAG,UAEzK,KAEHK,EAAmBzpB,OAAS,EAAIiF,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MAAc,KAC9CwI,EACCpC,EACAD,EAAOpnB,OAAS,EACdiF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC0gB,GAAD,eACA5gB,EAAAC,EAAAC,cAACqgB,GAAD,KACG4B,IAGH,MAGNniB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,SAMA6I,EAAkD,iBAAxBviB,KAAKzH,MAAM2nB,SAC3C,OACExiB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC4kB,GAAD,KACA9kB,EAAAC,EAAAC,cAACkc,GAAD,CAAY1R,QAAQ,iBACpB1K,EAAAC,EAAAC,cAAA,gFAGAF,EAAAC,EAAAC,cAAC6kB,GAAD,CAAW7G,YAAa5b,KAAK4b,YAAaO,QAASnc,KAAKzH,MAAM4jB,WAG9Dze,EAAAC,EAAAC,cAACuf,GAAD,CAAiBpf,UAAU,SACzBL,EAAAC,EAAAC,cAACyf,GAAD,KACE3f,EAAAC,EAAAC,cAACghB,GAAD,CAAmBnZ,KAAMzF,KAAKzH,MAAM4jB,SAAkC,IAAvBjlB,EAAYuB,OAAe,OAAS,QAASsF,UAAU,SACpGL,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,SAASC,WAAW,wHAC1C3K,EAAAC,EAAAC,cAAC8gB,GAAD,KACEhhB,EAAAC,EAAAC,cAACyZ,GAAD,YAGA3Z,EAAAC,EAAAC,cAAA,KAAG+G,KAAM3E,KAAKzH,MAAMyjB,QAASnX,IAAI,sBAAsBD,OAAO,UAAU5E,KAAKzH,MAAMyjB,UAErFte,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC+f,GAAD,CAAqBlY,KAAM8c,EAA0B,OAAS,SAC5D7kB,EAAAC,EAAAC,cAACyZ,GAAD,0BAGA3Z,EAAAC,EAAAC,cAAC2f,GAAD,KACE7f,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOM,SAAUxa,KAAKzH,MAAM4jB,SAAkC,IAAvBjlB,EAAYuB,OAAc8M,KAAK,SAASqC,OAAK,EAAC0S,SAAU,SAAApV,GAAC,OAAI+W,EAAKI,SAAS,CAAErF,OAAQ9R,EAAEN,OAAOjL,SAAUuiB,YAAY,SAASC,QAASnc,KAAKzH,MAAM4jB,UACxLze,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAUnI,SAAUxa,KAAKzH,MAAM4jB,SAAkC,IAAvBjlB,EAAYuB,OAAcyjB,YAAY,kBAAkB0G,WAAS,EAAChb,OAAK,EAACib,UAAQ,EAACplB,QAASuC,KAAKzH,MAAMinB,sBAAuB7lB,MAAOqG,KAAKzH,MAAMgnB,iBAAkBjF,SAAU,SAACpV,EAAGhM,GAAJ,OAAmC,IAAtBA,EAAKS,MAAMlB,OAAe,KAAOwjB,EAAKI,SAAS,CAAEkD,iBAAkBrmB,EAAKS,SAAWwiB,QAASnc,KAAKzH,MAAM4jB,WAE1Uze,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,OAEFhc,EAAAC,EAAAC,cAAC6f,GAAD,KACE/f,EAAAC,EAAAC,cAACyZ,GAAD,KAAkBrX,KAAKzH,MAAMrB,YAAYuB,OAAzC,aACAiF,EAAAC,EAAAC,cAACggB,GAAD,KACElgB,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAUC,WAAS,EAAC1G,YAAY,YAAYze,QAASwhB,GAAiBtlB,MAAOqG,KAAKzH,MAAM2nB,SAAU5F,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKiE,SAAShnB,EAAKS,UAC5I+D,EAAAC,EAAAC,cAACogB,GAAD,CAAiBvY,KAAM8c,EAA0B,OAAS,QAASle,MAA8B,IAAvBnN,EAAYuB,OAAe,CAAEqqB,SAAU,UAAa,IAC5HplB,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAUC,WAAS,EAACjpB,MAAOqG,KAAKzH,MAAMioB,OAAQtE,YAAY,UAAU1B,SAAU+H,GAAkD,IAAvBrrB,EAAYuB,QAAgBuH,KAAKzH,MAAM4jB,QAAS7B,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKuE,OAAOtnB,EAAKS,QAAQ8D,QAASuC,KAAKzH,MAAMinB,wBAC7N9hB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQE,KAAK,OAAOiV,SAAU+H,IAA4BviB,KAAKzH,MAAMioB,QAAiC,IAAvBtpB,EAAYuB,QAAgBuH,KAAKzH,MAAM4jB,QAAS3W,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAEuE,gBAAiB3E,EAAK1jB,MAAMqoB,oBACzLljB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQE,KAAK,SAASiV,SAAU+H,IAA4BviB,KAAKzH,MAAMioB,QAAiC,IAAvBtpB,EAAYuB,QAAgBuH,KAAKzH,MAAM4jB,QAAS3W,QAAS,SAAAN,GAAC,OAAI+W,EAAKuE,gBAK1JxgB,KAAKzH,MAAMyF,MACTN,EAAAC,EAAAC,cAAC4gB,GAAD,KAAe9gB,EAAAC,EAAAC,cAACykB,GAAD,CAA4Bhe,MAAO,CAAEe,MAAOlF,GAAOC,QAAQK,KAAO6Y,SAAS,QAAQrZ,KAAKzH,MAAMyF,QAC7GgC,KAAKzH,MAAM4jB,SAAkC,IAAvBjlB,EAAYuB,QAAgBuH,KAAKzH,MAAM4nB,WAC5DngB,KAAKzH,MAAM4jB,SAAWnc,KAAKzH,MAAM4nB,WAChCziB,EAAAC,EAAAC,cAAC4gB,GAAD,KACE9gB,EAAAC,EAAAC,cAACmlB,GAAA,EAAD,CAAQC,QAAM,EAAClB,UAAQ,EAAC9c,KAAK,UAAUkE,QAASxL,EAAAC,EAAAC,cAACykB,GAAD,CAA4BhJ,SAAS,QAArC,kBAElDrZ,KAAKzH,MAAMyjB,QACTte,EAAAC,EAAAC,cAAC4gB,GAAD,KAAe9gB,EAAAC,EAAAC,cAACykB,GAAD,CAA4BhJ,SAAS,QAArC,8BACf,KACJ,KAEJ3b,EAAAC,EAAAC,cAAC8c,GAAA,EAAD,CAAWuI,gBAAc,GACtBjjB,KAAKzH,MAAM4jB,SAAWnc,KAAKzH,MAAM4nB,WAC9B,GACAoC,GAA2BviB,KAAKzH,MAAM8mB,QACxC,CACE3hB,EAAAC,EAAAC,cAACohB,GAAD,CAAYzP,IAAI,OACd7R,EAAAC,EAAAC,cAAA,QAAMwU,wBAAyB,CAAEC,OAAQN,KAAKG,UAAU,MAAOlS,KAAKzH,MAAM8mB,SAAS1lB,WAGrF2nB,aA7RQhF,aA4SX9Y,gBAAW0f,YA9dF,SAAA3qB,GACtB,MAAO,CACLxB,OAAQwB,EAAMxB,OACdG,YAAaqB,EAAMrB,cAII,SAAAiH,GACzB,MAAO,CACL2iB,cAAe,kBAAM3iB,EAAShD,EAAWuJ,GAAMhD,kBAqdzBwhB,CAA6ChE,sUCnfvE,IAAMiE,GAAoBpmB,IAAOC,IAAVomB,KAGD,SAAAhrB,GAAK,cAAA0G,OAAY1G,EAAMqM,IAAlB,OACZ,SAAArM,GAAK,OAAIA,EAAM4hB,OAClB,SAAA5hB,GAAK,OAAIA,EAAM4hB,OAKL9Z,GAAOC,QAAQG,iBActB+iB,OAXf,SAAwBjrB,GACtB,OACEsF,EAAAC,EAAAC,cAACulB,GAADnqB,OAAAsqB,OAAA,CAAmB7e,IAAKrM,EAAMqM,IAAKuV,MAAO5hB,EAAM4hB,OAAW5hB,2yBCZ/D,IAAMmrB,GAAaxmB,YAAOwH,KAAPxH,CAAHymB,MAWVC,GAAc1mB,IAAOY,EAAV+lB,KAIJ,SAAAtrB,GAAK,OAAIA,EAAMurB,SAAW,aAG5B,SAAAvrB,GAAK,OAAIA,EAAMoiB,UAAYpiB,EAAMwrB,YAAc9hB,aAAO,GAAK5B,GAAOC,QAAQS,MAAQxI,EAAM2K,SAAW,QAAUyW,aAAQ,IAAMtZ,GAAOC,QAAQG,kBAC/H,SAAAlI,GAAK,OAAIA,EAAMoiB,UAAYpiB,EAAMwrB,YAAc,cAAgBxrB,EAAM2K,SAAW,UAAY,eAGtG,SAAA3K,GAAK,OAAIA,EAAMoiB,UAAYpiB,EAAMwrB,YAAc,cAAgBxrB,EAAM2K,SAAW,UAAY,WAK3F,SAAA3K,GAAK,OAAIA,EAAMoiB,UAAYpiB,EAAMwrB,YAAc9hB,aAAO,GAAK5B,GAAOC,QAAQS,MAAQ,SACvE,SAAAxI,GAAK,OAAIA,EAAMoiB,UAAYpiB,EAAMwrB,YAAc,cAAgBxrB,EAAM2K,SAAW,UAAY,WAKzF,SAAA3K,GAAK,OAAIA,EAAMoiB,UAAYpiB,EAAMwrB,YAAc,cAAgBxrB,EAAM2K,SAAW7C,GAAOC,QAAQC,QAAU,6BA6BrHyjB,OAzBf,SAAqBzrB,GACnB,OAAOA,EAAM0rB,QACTpmB,EAAAC,EAAAC,cAAC6lB,GAADzqB,OAAAsqB,OAAA,GAAiBlrB,EAAjB,CAAwBoN,QAASpN,EAAMoN,QAASme,QAASvrB,EAAMurB,UAC9DvrB,EAAMC,UAEND,EAAMoiB,UAAapiB,EAAMwrB,YAIxBlmB,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAO1Y,QAAS9Q,EAAMoiB,SAAW,gCAAkC,8BAA+BsH,UAAQ,EAAC7H,SAAS,eAAe+H,QACnItkB,EAAAC,EAAAC,cAAC6lB,GAADzqB,OAAAsqB,OAAA,GAAiBlrB,EAAjB,CAAwBoN,QAASpN,EAAMoN,QAASme,QAASvrB,EAAMurB,UAC5DvrB,EAAMC,YALTqF,EAAAC,EAAAC,cAAC6lB,GAADzqB,OAAAsqB,OAAA,GAAiBlrB,EAAjB,CAAwBoM,GAAIpM,EAAMoM,GAAIgB,QAASpN,EAAMoN,QAAS4T,GAAImK,GAAYI,QAASvrB,EAAMurB,UAC5FvrB,EAAMC,u4DCrCf,IAuBM0rB,GAAchnB,IAAOC,IAAVgnB,KAGE,SAAA5rB,GAAK,OAAIA,EAAM6rB,SAAW,OAAS,UAI3C,SAAA7rB,GAAK,OAAIA,EAAM6rB,SAAW,QAAU,GAKlC,SAAA7rB,GAAK,OAAIA,EAAM6rB,SAAW,EAAI,GAO9B,SAAA7rB,GAAK,OAAIA,EAAM6rB,SAAW,QAAU,IAO3CC,GAAUnnB,IAAOC,IAAVmnB,KACA,SAAA/rB,GAAK,OAAIA,EAAM6rB,SAAW,+BAAiC,eAGlEG,GAAoBrnB,IAAOmP,KAAVmY,MAQjBC,GAAgBvnB,IAAOC,IAAVunB,KAQNrkB,GAAOC,QAAQI,OAOtBikB,GAAaznB,YAAO4lB,KAAP5lB,CAAH0nB,MAUVC,GAAoB3nB,IAAOC,IAAV2nB,MA0BjBC,eACJ,SAAAA,IAAe,IAAArJ,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAA4kB,IACbrJ,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAA4rB,GAAAjJ,KAAA3b,QAYF6kB,aAAe,SAAC3f,EAAGhM,GAAS,IAClBoC,EAAkBigB,EAAKnjB,MAAvBkD,cACJpC,EAAKS,QAAU4hB,EAAKnjB,MAAMrB,QAC9BuE,EAAcpC,EAAKS,QAhBN4hB,EAmBfuJ,eAAiB,SAAC5f,EAAGhM,GAAS,IAAA6rB,EACQxJ,EAAKnjB,MAAjCiD,EADoB0pB,EACpB1pB,eAAgBvE,EADIiuB,EACJjuB,QACpBoC,EAAKS,QAAU7C,GACnBuE,EAAenC,EAAKS,QAtBP4hB,EAyBfyJ,gBAAkB,SAAA9pB,GACXqgB,EAAKnjB,MAAM6sB,yBAAyB1J,EAAKnjB,MAAM8sB,iBACpD3J,EAAKnjB,MAAM+C,WAAWD,IA3BTqgB,EA8Bf4J,YAAc,WACZ,IAAMzd,EAAa,CACjBC,OAASjK,EAAAC,EAAAC,cAAC8mB,GAAD,KACPhnB,EAAAC,EAAAC,cAAA,UAAQ4H,QAASrN,GAAMoO,MAAvB,UACA7I,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQD,MAAM,MAAMI,QAAS,SAAAN,GAC3B5P,OAAOC,SAASoP,KAAO,YADzB,aAKEtM,EAAWqF,EAAAC,EAAAC,cAAA,MAAIyG,MAAO,CAACsf,QAAS,UAArB,qCACjBxrB,GAAMkL,KAAKqE,EAAYrP,IAtCvBkjB,EAAKhjB,MAAQ,CACX0rB,UAAU,EACV/oB,KAAMwJ,GAAM3D,UACZqkB,eAAe,EACfC,WAAY,SAND9J,0EA2CL,IAAAU,EAAAjc,KAAAslB,EAC0FtlB,KAAK5H,MAA/FrB,EADAuuB,EACAvuB,OAAQD,EADRwuB,EACQxuB,QAASK,EADjBmuB,EACiBnuB,MAAOF,EADxBquB,EACwBruB,KAAMM,EAD9B+tB,EAC8B/tB,OAAQZ,EADtC2uB,EACsC3uB,KAAMe,EAD5C4tB,EAC4C5tB,SAAUG,EADtDytB,EACsDztB,iBAAkBC,EADxEwtB,EACwExtB,cAC1EytB,EAAsB,GACtBC,EAAwB,GACxBC,EAAatuB,EAAML,GACzB,GAAI2uB,EACF,IAAK,IAAM5rB,KAAW4rB,EAAY,CAChC,IAAMxuB,EAAOwuB,EAAW5rB,GAClB6rB,EAAUhuB,EAASZ,IAAYY,EAASZ,GAASG,EAAKyuB,SAA5C,MAAA5mB,OAA6DpH,EAASZ,GAASG,EAAKyuB,SAAS3gB,KAA7F,KAAuG,GACvHwgB,EAAoBxd,KAAK,CAAEnH,KAAI,GAAA9B,OAAK7H,EAAK+I,KAAKzH,MAAM8sB,aAArBvmB,OAAmC4mB,GAAW/rB,MAAOE,IAIxF,IAAK,IAAM/C,KAAWS,EAAQ,CAC5B,IAAMP,EAAQO,EAAOT,GACrB0uB,EAAsBzd,KAAK,CAAEnH,KAAM5J,EAAM+N,KAAMpL,MAAO7C,IAGxD,IAAM6uB,EAAahvB,EAAQA,EAAKivB,kBAAL,sCAAA9mB,OAA+DnI,EAAKmE,GAApE,KAAAgE,OAA0EnI,EAAKkvB,OAA/E,aAA+FjvB,EACpHkvB,EAA6C,IAAjCN,EAAsB/sB,OAClCstB,EAAyC,IAA/BR,EAAoB9sB,OAEpC,OACEiF,EAAAC,EAAAC,cAACmmB,GAAD,CAAaE,SAAUjkB,KAAK5H,MAAM6rB,UAChCvmB,EAAAC,EAAAC,cAACooB,GAAA,WAAD,KACEtoB,EAAAC,EAAAC,cAACsmB,GAAD,CAASD,SAAUjkB,KAAK5H,MAAM6rB,UAChCvmB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC0mB,GAAD,KACE5mB,EAAAC,EAAAC,cAACqoB,GAAD,CAAexhB,IAAKkhB,EAAY3L,MAAM,SACtCtc,EAAAC,EAAAC,cAAA,YAAOjH,EAAOA,EAAKuvB,cAAWtvB,IAEhC8G,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQuC,OAAK,EAACsB,QAAQ,SAAS5D,OAAK,EAACF,MAAM,MAAMI,QAASxF,KAAKmlB,cAC/DznB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACwmB,GAAD,aACA1mB,EAAAC,EAAAC,cAACuoB,GAAD,CAAY3hB,GAAIE,GAAM3D,UAAWgC,SAAU/C,KAAK5H,MAAM8C,OAASwJ,GAAM3D,UAAWyE,QAAS,kBAAMyW,EAAK+I,gBAAgBtgB,GAAM3D,aAA1H,QACArD,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACwmB,GAAD,eACA1mB,EAAAC,EAAAC,cAAC4mB,GAAD,CAAY4B,iBAAiB,mBAAmBpP,QAASqP,YAAUnK,YAAa4J,EAAY,mBAAqB,kBAAmBroB,QAAS+nB,EAAuBhL,SAAUsL,EAAWnsB,MAAO7C,EAAS8rB,WAAS,EAACtI,SAAUta,KAAK8kB,iBAClOpnB,EAAAC,EAAAC,cAACuoB,GAAD,CAAY3hB,GAAIE,GAAMtD,MAAOoZ,UAAW1jB,EAASiM,SAAU/C,KAAK5H,MAAM8C,OAASwJ,GAAMtD,MAAOoE,QAAS,kBAAMyW,EAAK+I,gBAAgBtgB,GAAMtD,SAAtI,SACA1D,EAAAC,EAAAC,cAACuoB,GAAD,CAAY3hB,GAAIE,GAAMrD,gBAAiBmZ,UAAW1jB,EAASiM,SAAU/C,KAAK5H,MAAM8C,OAASwJ,GAAMrD,gBAAiBmE,QAAS,kBAAMyW,EAAK+I,gBAAgBtgB,GAAMrD,mBAA1J,YACA3D,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACwmB,GAAD,aACA1mB,EAAAC,EAAAC,cAAC4mB,GAAD,CAAYxmB,OAAQnG,KAAsBC,EAAeqkB,QAAStkB,EAAkBuuB,iBAAiB,iBAAiBpP,QAASqP,YAAUnK,YAAarkB,GAAoBZ,EAApB,yBAAA6H,OAAoD7H,EAAK6Z,MAAzD,OAAsEgV,EAAY,kBAAoBC,EAAU,iBAAmB,gBAAiBtoB,QAAS8nB,EAAqB/K,SAAUuL,GAAWluB,EAAkB8B,MAAO9B,EAAmB,GAAKd,EAAQ6rB,WAAS,EAACtI,SAAUta,KAAK6kB,eAC/annB,EAAAC,EAAAC,cAACuoB,GAAD,CAAY3hB,GAAIE,GAAM1D,QAASwZ,UAAWzjB,EAAQyO,QAAS,kBAAOzO,EAAgBklB,EAAK+I,gBAAgBtgB,GAAM1D,SAAlC,MAA4C+B,SAAU/C,KAAK5H,MAAM8C,OAASwJ,GAAM1D,SAA3J,WACAtD,EAAAC,EAAAC,cAACuoB,GAAD,CAAY3hB,GAAIE,GAAMzD,QAASuZ,UAAWzjB,EAAQyO,QAAS,kBAAOzO,EAAgBklB,EAAK+I,gBAAgBtgB,GAAMzD,SAAlC,MAA4C8B,SAAU/C,KAAK5H,MAAM8C,OAASwJ,GAAMzD,SAA3J,WACAvD,EAAAC,EAAAC,cAACuoB,GAAD,CAAY3hB,GAAIE,GAAMxD,cAAesZ,UAAWzjB,EAAQyO,QAAS,kBAAOzO,EAAgBklB,EAAK+I,gBAAgBtgB,GAAMxD,eAAlC,MAAkD6B,SAAU/C,KAAK5H,MAAM8C,OAASwJ,GAAMxD,eAAvK,iBACAxD,EAAAC,EAAAC,cAACuoB,GAAD,CAAY3hB,GAAIE,GAAMvD,aAAcqZ,UAAWzjB,EAAQyO,QAAS,kBAAOzO,EAAgBklB,EAAK+I,gBAAgBtgB,GAAMvD,cAAlC,MAAiD4B,SAAU/C,KAAK5H,MAAM8C,OAASwJ,GAAMvD,cAArK,gBACAzD,EAAAC,EAAAC,cAACuoB,GAAD,CAAY3hB,GAAIE,GAAMpD,SAAUkZ,UAAWzjB,EAAQyO,QAAS,kBAAOzO,EAAgBklB,EAAK+I,gBAAgBtgB,GAAMpD,UAAlC,MAA6CyB,SAAU/C,KAAK5H,MAAM8C,OAASwJ,GAAMpD,UAA7J,YAEA5D,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,OAkBFhc,EAAAC,EAAAC,cAAA,sBA/Ge0e,aAkIR9Y,gBAAW0f,YAlPF,SAAA3qB,GACtB,MAAO,CACLxB,OAAQwB,EAAMxB,OACdD,QAASyB,EAAMzB,QACfoE,KAAM3C,EAAM2C,KACZvE,KAAM4B,EAAM5B,KACZe,SAAUa,EAAMb,SAChBP,MAAOoB,EAAMpB,MACbF,KAAMsB,EAAMtB,KACZM,OAAQgB,EAAMhB,OACdM,iBAAkBU,EAAMV,iBACxBC,cAAeS,EAAMT,gBAIE,SAAAqG,GACzB,MAAO,CACLhD,WAAY,SAAAD,GAAI,OAAIiD,EAAShD,EAAWD,KACxCI,cAAe,SAAAzB,GAAO,OAAIsE,EAAS7C,EAAczB,KACjDwB,eAAgB,SAAAvE,GAAO,OAAIqH,EAAS9C,EAAevE,OA+N7BosB,CAA6C0B,sRC/PvE,IAYexC,GAZCrlB,IAAOC,IAAVspB,KACG,SAAAluB,GAAK,OAAIA,EAAMmuB,KAAO,sBAAwB,wBAClD,SAAAnuB,GAAK,OAAIA,EAAMmuB,KAAO,iCAAmC,msCCcrE,IAkBMte,GAAYlL,IAAOC,IAAVwpB,MAQTC,GAAoB1pB,IAAOC,IAAV0pB,MAWjBC,GAAyB5pB,YAAOqlB,GAAPrlB,CAAH6pB,MAatBC,GAAoBxkB,aAAMskB,GAANtkB,CAA8B,CACtDjF,MAAO,CAAEkF,OAAQ,GAAIwkB,WAAY,GAAIC,cAAe,GAAIjpB,WAAY,CAAER,SAAU,MAChFD,KAAM,CAAEiF,OAAQ,EAAGwkB,WAAY,EAAGC,cAAe,EAAGjpB,WAAY,CAAER,SAAU,QAGxE0pB,GAAejqB,YAAO8mB,GAAP9mB,CAAHkqB,KAGd,SAAA7uB,GAAK,OAAIA,EAAM2K,SAAN,oEAGT,KAGEmkB,GAAenqB,YAAOoqB,KAAPpqB,CAAHqqB,MAQZC,GAAYtqB,IAAOC,IAAVsqB,MAYTC,eACJ,SAAAA,IAAe,IAAAhM,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAunB,IACbhM,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAuuB,GAAA5L,KAAA3b,QAaFwnB,iBAAmB,WACjB,IAAMhuB,EAAW,GACblE,OAAOmyB,YAAc,IACO,SAA1BlM,EAAKhjB,MAAMmvB,aAAuBluB,EAASkuB,WAAa,QACnDpyB,OAAOmyB,WAAa,KACC,QAA1BlM,EAAKhjB,MAAMmvB,aAAsBluB,EAASkuB,WAAa,OAEzD1uB,OAAOgV,KAAKxU,GAAUf,OAAS,GAAG8iB,EAAKc,SAAS7iB,IArBvC+hB,EA4BfoM,eAAiB,WACf,IAAMze,EAAUqS,EAAKhjB,MAAMqvB,gBAAgBlX,OACtCxH,IACLqS,EAAKc,SAAS,CAAEwL,QAAQ,IACxBjpB,IAAMkpB,KAAN,gBAA4B,CAAE3tB,QAAS+O,GAAW,CAAE6e,QAAS,CAAEC,aAAczM,EAAKnjB,MAAMJ,aAAeqoB,KAAK,WAC1G9E,EAAKc,SAAS,CAAEwL,QAAQ,EAAOD,gBAAiB,KAChDrqB,EAAMC,QAAN,2DACC+iB,MAAM,SAAAxlB,GACPkE,QAAQC,IAAInE,EAAIoE,UAAYpE,GAC5B,IAAMuD,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KohB,EAAKc,SAAS,CAAEwL,QAAQ,EAAOI,iBAAiC,sBAAf3pB,IACjDf,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,mCAA0BF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,6BAvCvIid,EA2Cf2M,cAAgB,SAAAptB,GACdygB,EAAKnjB,MAAMiD,eAAeP,IA5CbygB,EA+CfpV,UAAY,WACVhO,GAAMgO,UAAU,kGAAmG,QA9CnHoV,EAAKhjB,MAAQ,CACXqvB,gBAAiB,GACjBC,QAAQ,EACRI,kBAAkB,GALP1M,sFAUbvb,KAAK5H,MAAM0oB,gBACXxrB,OAAO6yB,iBAAiB,SAAUnoB,KAAKwnB,iEAcrClyB,OAAO8yB,oBAAoB,SAAUpoB,KAAKwnB,mDA2BpC,IAAAvL,EAAAjc,KAAA+kB,EAC2D/kB,KAAK5H,MAAhEb,EADAwtB,EACAxtB,OAAQT,EADRiuB,EACQjuB,QAASuE,EADjB0pB,EACiB1pB,eAAgB1E,EADjCouB,EACiCpuB,KAAMQ,EADvC4tB,EACuC5tB,MAAOkxB,EAD9CtD,EAC8CsD,SAChDC,EAAyB,CAAEvb,UAAW,aAAcmG,QAAS,GAC7DqV,EAAc,GACdC,EAAgB,GAJdC,EAAA,SAKGC,GACT,IAAM1xB,EAAQO,EAAOmxB,GACrBH,EAAYxgB,KAAKrK,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAOrS,IAAG,kBAAAzQ,OAAoB4pB,GAAe1G,QAAStkB,EAAAC,EAAAC,cAACqoB,GAAD,CAAexhB,IAAMzN,EAAMuO,KAAP,oCAAAzG,OAAuD4pB,EAAvD,KAAA5pB,OAAsE9H,EAAMuO,KAA5E,aAAc,GAA+EyU,MAAM,OAAOxU,QAAS,SAAAN,GAAC,OAAI7J,EAAeqtB,IAAcrkB,MAAOvN,IAAY4xB,EAAcJ,EAAyB,KAAQxG,UAAQ,EAAC5Y,QAASlS,EAAM+N,QAC1UyjB,EAAczgB,KACZrK,EAAAC,EAAAC,cAAA,OAAK2R,IAAKmZ,GACVhrB,EAAAC,EAAAC,cAACopB,GAAD,CAAclD,SAAO,EAACH,QAAQ,OAAO5gB,SAAUjM,IAAY4xB,EAAaljB,QAAS,SAAAN,GAAC,OAAI+W,EAAKiM,cAAcQ,KACvGhrB,EAAAC,EAAAC,cAAC6oB,GAAD,KACE/oB,EAAAC,EAAAC,cAACqoB,GAAD,CAAexhB,IAAMzN,EAAMuO,KAAP,oCAAAzG,OAAuD4pB,EAAvD,KAAA5pB,OAAsE9H,EAAMuO,KAA5E,aAAc,GAA+EyU,MAAM,OAAOxU,QAAS,SAAAN,GAAC,OAAI7J,EAAeqtB,IAAcrkB,MAAOvN,IAAY4xB,EAAcJ,EAAyB,KACnO5qB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAK5G,EAAM+N,MACXrH,EAAAC,EAAAC,cAAA,SAAI5E,OAAOgV,KAAK7W,EAAMuxB,IAAcjwB,OAApC,aAINiF,EAAAC,EAAAC,cAACipB,GAAD,CAAmBphB,KAAM3O,IAAY4xB,EAAc,QAAU,QAC3DhrB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,QAAQ1D,QAAS,SAAAN,GAAC,OAAImjB,EAAS3jB,GAAMtD,UACrD1D,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,WAAW1D,QAAS,SAAAN,GAAC,OAAImjB,EAAS3jB,GAAMrD,wBAhB9D,IAAK,IAAMqnB,KAAenxB,EAAQkxB,EAAvBC,GAuBX,OACEhrB,EAAAC,EAAAC,cAAC+qB,GAAD,KACEjrB,EAAAC,EAAAC,cAACkc,GAAD,CAAY1R,QAAO,aAAAtJ,OAAenI,EAAOA,EAAKuvB,SAAW,kBAAtC,KAA4D7d,WAAW,mIAC1F3K,EAAAC,EAAAC,cAACgrB,GAAD,sHAqBAlrB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,UAAUC,WAAW,uMACzCmgB,EAAc/vB,OAAS,EACvB+vB,EACA9qB,EAAAC,EAAAC,cAACypB,GAAD,KACE3pB,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,wGAIJF,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MAIAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,WAAWC,WAAW,kLAE5C3K,EAAAC,EAAAC,cAACspB,GAAD,KACExpB,EAAAC,EAAAC,cAACupB,GAAA,EAAK0B,MAAN,KACEnrB,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,YAAU0c,SAAU,SAAApV,GAAC,OAAI+W,EAAKI,SAAS,CAAEuL,gBAAiB1iB,EAAEN,OAAOjL,SAAUA,MAAOqG,KAAKzH,MAAMqvB,mBAEjGlqB,EAAAC,EAAAC,cAACupB,GAAA,EAAK0B,MAAN,KACEnrB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,SAASvQ,KAAK,SAAS6hB,SAAUxa,KAAKzH,MAAM0vB,mBAAqBjoB,KAAKzH,MAAMqvB,gBAAgBlX,QAAU1Q,KAAKzH,MAAMsvB,OAAQ1L,QAASnc,KAAKzH,MAAMsvB,OAAQriB,QAASxF,KAAK2nB,mBAGvLjqB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,cAlIW4C,aA6IJ4G,eAjOS,SAAA3qB,GACtB,MAAO,CACLzB,QAASyB,EAAMzB,QACfH,KAAM4B,EAAM5B,KACZY,OAAQgB,EAAMhB,OACdJ,MAAOoB,EAAMpB,MACbO,SAAUa,EAAMb,SAChBM,UAAWO,EAAMP,YAIM,SAAAmG,GACzB,MAAO,CACL2iB,cAAe,kBAAM3iB,EAAShD,EAAWuJ,GAAM3D,aAC/C1F,eAAgB,SAAAvE,GAAO,OAAIqH,EAAS9C,EAAevE,OAmNxCosB,CAA6CqE,IC/O7CllB,gBAAMiG,IAAMwgB,WAAW,SAAC1wB,EAAO4gB,GAAR,OAAiBtb,EAAAC,EAAAC,cAAA,QAAMob,IAAKA,GAAKtb,EAAAC,EAAAC,cAACyH,GAAA,EAAWjN,MAApEiK,CAAwF,CACrGjF,MAAO,CAAE2rB,MAAO,EAAG7V,QAAS,EAAGpV,WAAY,CAAER,SAAU,MACvDD,KAAM,CAAE0rB,MAAO,GAAK7V,QAAS,EAAGpV,WAAY,CAAER,SAAU,4mBCc1D,IAkBM2K,GAAYlL,IAAOC,IAAVgsB,KAII,SAAA5wB,GAAK,OAAIA,EAAM6wB,UAAY,OAAS,WAGjDC,GAAYnsB,IAAOC,IAAVmsB,MAITjF,GAAUnnB,IAAOC,IAAVosB,MAOPC,GAAatsB,IAAOC,IAAVssB,MASVjL,GAAWhc,KAAMrF,IAAI,CACzBqG,KAAM,CAAE6P,QAAS,EAAGpV,WAAY,CAAER,SAAU,MAC5CiJ,KAAM,CAAE2M,QAAS,EAAGpV,WAAY,CAAER,SAAU,QAGxCisB,eACJ,SAAAA,IAAe,IAAAhO,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAupB,IACbhO,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAuwB,GAAA5N,KAAA3b,QAoBFwpB,QAAU,WAAM,IAAAzE,EACwCxJ,EAAKnjB,MAAnDtB,EADMiuB,EACNjuB,QAASK,EADH4tB,EACG5tB,MAAOsyB,EADV1E,EACU0E,eAAgBzxB,EAD1B+sB,EAC0B/sB,UAClC0xB,EAAevyB,EAAML,IAAYK,EAAML,GAAS2yB,GAAkBtyB,EAAML,GAAS2yB,GAAkB,KACzG,GAAKC,EAAL,CACA,IAAM3wB,EAAU,GACZwiB,EAAKhjB,MAAMuY,OAASyK,EAAKhjB,MAAMuY,QAAU4Y,EAAa5Y,QAAO/X,EAAQ+X,MAAQyK,EAAKhjB,MAAMuY,OACxFyK,EAAKhjB,MAAMmtB,SAAWnK,EAAKhjB,MAAMmtB,UAAYgE,EAAahE,UAAS3sB,EAAQ2sB,QAAUnK,EAAKhjB,MAAMmtB,SACpGnK,EAAKc,SAAS,CAAEwL,QAAQ,IACxBjpB,IAAM+qB,MAAN,eAAA7qB,OAA2BhI,EAA3B,WAAAgI,OAA4C2qB,GAAkB1wB,EAAS,CAAEgvB,QAAS,CAAEC,aAAchwB,KAAeqoB,KAAK,WACpH9E,EAAKc,SAAS,CAAEwL,QAAQ,IACxBtqB,EAAMC,QAAN,yBACC+iB,MAAM,SAAAxlB,GACPwgB,EAAKc,SAAS,CAAEwL,QAAQ,IACxB5oB,QAAQC,IAAInE,EAAIoE,UAAYpE,GAC5B,IAAMuD,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,kCAAyBF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,6BApCtIid,EAwCfqO,OAAS,WAAM,IAAAtE,EACiD/J,EAAKnjB,MAA3DqxB,EADKnE,EACLmE,eAAgB3yB,EADXwuB,EACWxuB,QAAS+yB,EADpBvE,EACoBuE,cAAe7xB,EADnCstB,EACmCttB,UAC3CyxB,IACLlO,EAAKc,SAAS,CAAEyN,UAAU,IAC1BlrB,IAAMmrB,OAAN,eAAAjrB,OAA4BhI,EAA5B,WAAAgI,OAA6C2qB,GAAkB,CAAE1B,QAAS,CAAEC,aAAchwB,KAAeqoB,KAAK,WAC5G9E,EAAKc,SAAS,CAAEyN,UAAU,IAC1BD,IACAtsB,EAAMC,QAAN,mBACC+iB,MAAM,SAAAxlB,GACPwgB,EAAKc,SAAS,CAAEyN,UAAU,IAC1B7qB,QAAQC,IAAInE,EAAIoE,UAAYpE,GAC5B,IAAMuD,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,iCAAwBF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,6BApDrIid,EAwDfpgB,WAxDe,eAAAmE,EAAAtG,OAAAuG,EAAA,EAAAvG,CAAAuF,EAAAZ,EAAA6B,KAwDF,SAAAC,EAAMvE,GAAN,IAAA8uB,EAAAP,EAAAnuB,EAAA+sB,EAAA,OAAA9pB,EAAAZ,EAAAa,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhF,MAAA,cAAAqvB,EACyCzO,EAAKnjB,MAAjDqxB,EADGO,EACHP,eAAgBnuB,EADb0uB,EACa1uB,cAAe+sB,EAD5B2B,EAC4B3B,SAD5B1oB,EAAAhF,KAAA,EAELW,EAAcmuB,GAFT,OAGXpB,EAASntB,GAHE,wBAAAyE,EAAAP,SAAAK,MAxDE,gBAAAwqB,GAAA,OAAA3qB,EAAAS,MAAAC,KAAAxH,YAAA,GAEb+iB,EAAKhjB,MAAQ,CACXuY,MAAO,GACP4U,QAAS,GACToE,UAAU,EACVjC,QAAQ,EACRqC,eAAgB,IAPL3O,oFAWK4O,GAAW,IAAAC,EACcpqB,KAAK5H,MAAxCtB,EADqBszB,EACrBtzB,QAASK,EADYizB,EACZjzB,MAAOsyB,EADKW,EACLX,eAClBC,EAAevyB,EAAML,IAAYK,EAAML,GAAS2yB,GAAkBtyB,EAAML,GAAS2yB,GAAkB,KACrGU,EAAUV,iBAAmBzpB,KAAK5H,MAAMqxB,iBACtCC,EAAc1pB,KAAKqc,SAAS,CAAEvL,MAAO4Y,EAAa5Y,MAAO4U,QAASgE,EAAahE,UAC9E1lB,KAAKqc,SAAS,CAAEvL,MAAO,GAAI4U,QAAS,KACzCpwB,OAAO+0B,SAAS,EAAG,qCA6Cb,IAAApO,EAAAjc,KAAAsqB,EACiHtqB,KAAK5H,MAAtHtB,EADAwzB,EACAxzB,QAASE,EADTszB,EACStzB,MAAOG,EADhBmzB,EACgBnzB,MAAOsyB,EADvBa,EACuBb,eAAgBc,EADvCD,EACuCC,uBAAwB1yB,EAD/DyyB,EAC+DzyB,iBAAkBF,EADjF2yB,EACiF3yB,aAAcd,EAD/FyzB,EAC+FzzB,cACjG6yB,EAAevyB,EAAML,IAAYK,EAAML,GAAS2yB,GAAkBtyB,EAAML,GAAS2yB,GAAkB,KACrGe,GAAuB,EACvBd,IACE1pB,KAAKzH,MAAMuY,OAAS9Q,KAAKzH,MAAMuY,QAAU4Y,EAAa5Y,QAAO0Z,GAAuB,GACpFxqB,KAAKzH,MAAMmtB,SAAW1lB,KAAKzH,MAAMmtB,UAAYgE,EAAahE,UAAS8E,GAAuB,IAGhG,IAAMC,EAAezzB,EAAM0zB,UAAY7zB,EAAc6zB,SAC/CC,EAAa3zB,EAAM2zB,YAAc9zB,EAAc8zB,WAC/CC,EAAe5zB,EAAM4zB,cAAgB/zB,EAAc+zB,aACnDC,EAASnB,GAA2D,kBAApC/xB,EAAa+xB,EAAaluB,MAC1Dgf,EAAWkP,GAAgBA,EAAalP,SAC9C,OACE9c,EAAAC,EAAAC,cAACktB,GAAD,CAAW7B,UAAWS,GACpBhsB,EAAAC,EAAAC,cAACooB,GAAA,WAAD,KACAtoB,EAAAC,EAAAC,cAACmtB,GAAD,KACArtB,EAAAC,EAAAC,cAACkc,GAAD,CAAY1R,QAAQ,eAAeC,WAAY,kBAE/C3K,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACotB,GAAD,CAAUvlB,KAAMikB,EAAe,OAAS,QACtChsB,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,SACtB1K,EAAAC,EAAAC,cAACyZ,GAAD,eACKqS,EAEClP,EACE9c,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOlF,GAAOC,QAAQO,SAArC,aAA0DgpB,EAAalP,SAAvE,KACAqQ,EACEntB,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOlF,GAAOC,QAAQK,MAArC,WAAqDsc,KAAOnlB,EAAa+xB,EAAaluB,OAAOyhB,OAAO,aAApG,KACAvf,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOlF,GAAOC,QAAQM,QAArC,UAA4D5J,EAAco0B,UAAY,EAA1B,KAAAnsB,YAAuElI,IAApCe,EAAa+xB,EAAaluB,MAAsB,QAAU3E,EAAco0B,UAAYtzB,EAAa+xB,EAAaluB,OAAS3E,EAAco0B,UAAY,KAAKC,QAAQ,GAAjM,aAAiN,IALtR,SAONxtB,EAAAC,EAAAC,cAACsrB,GAAD,KACExrB,EAAAC,EAAAC,cAACyZ,GAAD,qBACFwT,GAAUrQ,EAAW,QAAWkP,EAA2BA,EAAayB,mBAA2CzB,EAAayB,mBAAqB,EAAlC,GAAArsB,OAA2E,GAAlC4qB,EAAayB,mBAAtD,qBAAArsB,OAAmG4qB,EAAayB,mBAAhH,kBAAtB,oBAA9C,SAAyNN,EAAS,KAAOntB,EAAAC,EAAAC,cAAA,KAAG+G,KAAK,qCAAqCC,OAAO,SAASC,IAAI,uBAAjE,WAExRnH,EAAAC,EAAAC,cAACsrB,GAAD,KACExrB,EAAAC,EAAAC,cAACyZ,GAAD,iBACGqS,EAA2BA,EAAa0B,QAAsBtO,KAAO4M,EAAa0B,SAASC,OAAOT,GAAc7N,GAAG0N,GAAcxN,OAAO0N,GAAtF,UAAnC,UAEpBjtB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,SACtB1K,EAAAC,EAAAC,cAACsrB,GAAD,KACExrB,EAAAC,EAAAC,cAACyZ,GAAD,cACA3Z,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOvgB,MAAOqG,KAAKzH,MAAMuY,QAAU4Y,EAAeA,EAAa5Y,MAAQ,IAAKlJ,OAAK,EAAC4S,UAAWkP,EAAcpP,SAAU,SAAApV,GAAC,OAAI+W,EAAKI,SAAS,CAAEvL,MAAO5L,EAAEN,OAAOjL,YAE5J+D,EAAAC,EAAAC,cAACsrB,GAAD,KACExrB,EAAAC,EAAAC,cAACyZ,GAAD,gBACA3Z,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAUhpB,MAAOqG,KAAKzH,MAAMmtB,UAAYgE,EAAeA,EAAahE,QAAU,IAAKjoB,QAAS8sB,EAAwB/P,UAAWkP,GAAkD,IAAlCa,EAAuB9xB,OAAcue,QAASqP,YAAUzD,WAAS,EAAChb,OAAK,EAAC0S,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKI,SAAS,CAAEqJ,QAASxsB,EAAKS,YAE9Q+D,EAAAC,EAAAC,cAACyrB,GAAD,KACE3rB,EAAAC,EAAAC,cAAC0tB,GAAD,CAAahmB,OAAK,EAACwc,UAAQ,EAAC5Y,QAAQ,QAAQsR,SAAUxa,KAAKzH,MAAMsvB,OAAQpiB,KAAM+kB,EAAuB,QAAU,OAAQhlB,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAEvL,MAAO,GAAI4U,QAAS,QAC1KhoB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,OAAO9D,MAAM,QAAQoV,UAAWgQ,EAAsBhlB,QAASxF,KAAKwpB,WAEtF9rB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,YAAYC,WAAW,qBAC7C3K,EAAAC,EAAAC,cAACsrB,GAAD,KACExrB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQuC,OAAK,EAACsB,QAAQ,gBAAgB3D,KAAK,cAAcgmB,cAAc,QAAQ/lB,QAAS,SAAAN,GAAC,OAAI+W,EAAK9gB,WAAWuJ,GAAM1D,UAAUmb,QAAStkB,EAAkB2iB,SAAU3iB,KAEpK6F,EAAAC,EAAAC,cAACsrB,GAAD,KACExrB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQuC,OAAK,EAACsB,QAAQ,UAAU3D,KAAK,cAAcgmB,cAAc,QAAQ/lB,QAAS,SAAAN,GAAC,OAAI+W,EAAK9gB,WAAWuJ,GAAMzD,UAAUkb,QAAStkB,EAAkB2iB,SAAU3iB,KAE9J6F,EAAAC,EAAAC,cAACsrB,GAAD,KACExrB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQuC,OAAK,EAACsB,QAAQ,gBAAgB3D,KAAK,cAAcgmB,cAAc,QAAQ/lB,QAAS,SAAAN,GAAC,OAAI+W,EAAK9gB,WAAWuJ,GAAMxD,gBAAgBib,QAAStkB,EAAkB2iB,SAAU3iB,KAE1K6F,EAAAC,EAAAC,cAACsrB,GAAD,KACExrB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQuC,OAAK,EAACsB,QAAQ,eAAe3D,KAAK,cAAcgmB,cAAc,QAAQ/lB,QAAS,SAAAN,GAAC,OAAI+W,EAAK9gB,WAAWuJ,GAAMvD,eAAegb,QAAStkB,EAAkB2iB,SAAU3iB,KAExK6F,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,WACtB1K,EAAAC,EAAAC,cAACsrB,GAAD,KACExrB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQuC,OAAK,EAACsB,QAAQ,SAAS5D,OAAK,EAACF,MAAM,MAAM+W,QAASnc,KAAKzH,MAAMuxB,SAAUtP,SAAUxa,KAAKzH,MAAMuxB,SAAUtkB,QAASxF,KAAK4pB,qBAtIlHtN,aAyJP9Y,gBAAW0f,YA3MF,SAAA3qB,GACtB,MAAO,CACLpB,MAAOoB,EAAMpB,MACbH,MAAOuB,EAAMvB,MACbF,QAASyB,EAAMzB,QACfe,iBAAkBU,EAAMV,iBACxBhB,cAAe0B,EAAM1B,cACrBc,aAAcY,EAAMZ,aACpBK,UAAWO,EAAMP,YAIM,SAAAmG,GACzB,MAAO,CACL7C,cAAe,SAAAzB,GAAO,OAAIsE,EAAS7C,EAAczB,OA6L3BqpB,CAA6CqG,qPCpNvE,IASMiC,GAAgBzuB,IAAOC,IAAVyuB,MAYbC,eACJ,SAAAA,IAAe,IAAAnQ,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAA0rB,IACbnQ,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAA0yB,GAAA/P,KAAA3b,QASFkV,IAAM,WACJ,IAAMtF,EAAM2L,EAAKhjB,MAAMqX,IAAIc,OACrBgV,EAAUnK,EAAKhjB,MAAMmtB,QAAQhV,OAC7BI,EAAQyK,EAAKhjB,MAAMuY,MAAMJ,OAC/B,GAAK6K,EAAKhjB,MAAMqX,KAAQ2L,EAAKhjB,MAAMmtB,QAAnC,CAJU,IAKF5uB,EAAYykB,EAAKnjB,MAAjBtB,QACFiC,EAAU,CACdyC,KAAMoU,EACN8V,QAASA,GAEP5U,IAAO/X,EAAQ+X,MAAQA,GAC3ByK,EAAKc,SAAS,CAAEwL,QAAQ,EAAM/W,QAAOlB,MAAK8V,YAC1C9mB,IAAMkpB,KAAN,eAAAhpB,OAA0BhI,EAA1B,UAA2CiC,EAAS,CAAEgvB,QAAS,CAAEC,aAAczM,EAAKnjB,MAAMJ,aAAeqoB,KAAK,SAAA/gB,GAAcA,EAAXpG,KAC/GqiB,EAAKc,SAAS,CAAEwL,QAAQ,EAAOjY,IAAK,GAAIkB,MAAO,GAAI4U,QAAS,KAC5DnoB,EAAMC,QAAN,uBACC+iB,MAAM,SAAAxlB,GACPwgB,EAAKc,SAAS,CAAEwL,QAAQ,IACxB5oB,QAAQC,IAAInE,EAAIoE,UAAYpE,GAC5B,IAAMuD,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,8BAAqBF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,6BA3B/Iid,EAAKhjB,MAAQ,CACXqX,IAAK,GACLkB,MAAO,GACP4U,QAAS,GACTmC,QAAQ,GANGtM,0EAiCL,IAAAU,EAAAjc,KACAuqB,EAA2BvqB,KAAK5H,MAAhCmyB,uBAER,OACE7sB,EAAAC,EAAAC,cAAC4tB,GAAD,KACE9tB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,YACA3Z,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOtS,OAAK,EAAC0S,SAAU,SAAApV,GAAC,OAAI+W,EAAKI,SAAS,CAAEzM,IAAK1K,EAAEN,OAAOjL,SAAUA,MAAOqG,KAAKzH,MAAMqX,IAAKsM,YAAY,WAAWE,WAAY,SAAAlX,GAAC,MAAc,UAAVA,EAAEqK,IAAkB0M,EAAK/G,MAAQ,SAEtKxX,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,gBACA3Z,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAUC,WAAS,EAAChb,OAAK,EAACnK,QAAS8sB,EAAwBvT,QAASqP,YAAU7L,SAA4C,IAAlC+P,EAAuB9xB,OAAc6hB,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKI,SAAS,CAAEqJ,QAASxsB,EAAKS,SAAUA,MAAOqG,KAAKzH,MAAMmtB,QAASxJ,YAAY,mBAAmBE,WAAY,SAAAlX,GAAC,MAAc,UAAVA,EAAEqK,IAAkB0M,EAAK/G,MAAQ,SAE1SxX,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,yBACA3Z,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOtS,OAAK,EAAC0S,SAAU,SAAApV,GAAC,OAAI+W,EAAKI,SAAS,CAAEvL,MAAO5L,EAAEN,OAAOjL,SAAUA,MAAOqG,KAAKzH,MAAMuY,MAAOoL,YAAY,oDAAoDE,WAAY,SAAAlX,GAAC,MAAc,UAAVA,EAAEqK,IAAkB0M,EAAK/G,MAAQ,SAEnNxX,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,MAAM9D,MAAM,QAAQoV,UAAWxa,KAAKzH,MAAMqX,MAAQ5P,KAAKzH,MAAMmtB,SAAW1lB,KAAKzH,MAAMsvB,OAAQriB,QAASxF,KAAKkV,eApD7GoH,aA+DP9Y,gBAAW0f,YApFF,SAAA3qB,GACtB,MAAO,CACLpB,MAAOoB,EAAMpB,MACbO,SAAUa,EAAMb,SAChBZ,QAASyB,EAAMzB,QACfkB,UAAWO,EAAMP,YA+E8B,KAAzBkrB,CAA+BwI,6wBC1FzD,IAAMC,GAAM5uB,YAAO6uB,KAAMD,IAAb5uB,CAAH8uB,MAIHC,GAAW/uB,IAAOC,IAAV+uB,KAcK,SAAA3zB,GAAK,OAAIA,EAAM4zB,UAAY,EAAI,IAS5CC,GAASlvB,IAAOC,IAAVkvB,KAGDhsB,GAAOC,QAAQS,MAIpBurB,GAAWpvB,IAAOmP,KAAVkgB,MAIRC,eACJ,SAAAA,IAAe,IAAA9Q,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAqsB,IACb9Q,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAqzB,GAAA1Q,KAAA3b,QAQFssB,SAAW,WACL/Q,EAAKhjB,MAAM2C,MAAQqgB,EAAKhjB,MAAMmM,MAAMjM,OAAS,GACjD8iB,EAAKc,SAAS,CAAEnhB,KAAMqgB,EAAKhjB,MAAM2C,KAAO,KAX3BqgB,EAcfgR,SAAW,WACLhR,EAAKhjB,MAAM2C,MAAQ,GACvBqgB,EAAKc,SAAS,CAAEnhB,KAAMqgB,EAAKhjB,MAAM2C,KAAO,KAdxCqgB,EAAKhjB,MAAQ,CACXmM,MAAO,GACPxJ,KAAM,EACN8b,OAAQ,IALGuE,0EAmBL,IAAAU,EAAAjc,KAAA+kB,EACqF/kB,KAAK5H,MAA1Fo0B,EADAzH,EACAyH,SAAUC,EADV1H,EACU0H,WAAY1T,EADtBgM,EACsBhM,MAAO2T,EAD7B3H,EAC6B2H,QAASC,EADtC5H,EACsC4H,WAAYC,EADlD7H,EACkD6H,YAAaC,EAD/D9H,EAC+D8H,WAAYvnB,EAD3Eyf,EAC2Ezf,MAC7EwnB,EAAa9sB,KAAK5H,MAAM00B,YAAc,EACtC9V,EAAShX,KAAKzH,MAAMye,OACpBtS,EAAQ,GACVqoB,EAAU,GALN3yB,GAAA,EAAAC,GAAA,EAAAC,OAAA1D,EAAA,IAMR,QAAA2D,EAAAC,EAAmBue,EAAnBte,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA0B,KAAfgP,EAAe7O,EAAAZ,MACpBqd,IAAWyV,EAAWrjB,EAAM4N,KAC5B+V,EAAQt0B,OAASq0B,EACnBC,EAAQhlB,KAAKykB,EAASpjB,KAEtB1E,EAAMqD,KAAKglB,GACXA,EAAU,CAAEP,EAASpjB,OAZjB,MAAArO,IAAAV,GAAA,EAAAC,EAAAS,GAAA,YAAAX,GAAA,MAAAI,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAX,EAAA,MAAAC,GAeJyyB,EAAQt0B,OAAS,GAAGiM,EAAMqD,KAAKglB,GAEnC,IAAMC,EAAetoB,EAAM1E,KAAKzH,MAAM2C,MAAQwJ,EAAM1E,KAAKzH,MAAM2C,MAAMzC,OAAS,EACxEw0B,EAAa,GACnB,GAAID,EAAeF,EAEjB,IADA,IAAMI,EAASJ,EAAaE,EACnBviB,EAAI,EAAGA,EAAIyiB,IAAUziB,EAC5BwiB,EAAWllB,KACTrK,EAAAC,EAAAC,cAACguB,GAAA,EAAMD,IAAP,CAAWpc,IAAG,aAAAzQ,OAAe2L,IAC1BzK,KAAK5H,MAAM2vB,QAAQte,IAAI,SAAC1E,EAAM0F,GAAP,OAAa/M,EAAAC,EAAAC,cAACguB,GAAA,EAAMuB,KAAP,CAAY5d,IAAG,SAAAzQ,OAAW2L,IAAM,cAM7E,OACE/M,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACkuB,GAAD,CAAUE,WAAYhsB,KAAK5H,MAAMg1B,QAC/B1vB,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAO3U,KAAK,SAAS4U,aAAa,OAAO+B,YAAY,YAAY5B,SAAU,SAAApV,GAAC,OAAI+W,EAAKI,SAAS,CAAErF,OAAQ9R,EAAEN,OAAOjL,SAAU0K,MAAQsoB,GAAc,KAC/I3sB,KAAK5H,MAAMg1B,QAEf1vB,EAAAC,EAAAC,cAAA,OAAKyG,MAAO,CAACgpB,UAAW,SACxB3vB,EAAAC,EAAAC,cAACguB,GAAA,EAAD,CAAO0B,QAAM,EAACC,YAAU,EAACC,OAAO,EAAOC,YAAU,EAACf,QAASA,EAASE,YAAaA,EAAaC,WAAYA,EAAYvnB,MAAOA,GAC3H5H,EAAAC,EAAAC,cAACguB,GAAA,EAAMplB,OAAP,KACE9I,EAAAC,EAAAC,cAAC+tB,GAAD,KACG3rB,KAAK5H,MAAM2vB,QAAQte,IAAI,SAAA1E,GAAI,OAAIrH,EAAAC,EAAAC,cAACguB,GAAA,EAAM8B,WAAP,CAAkBne,IAAKxK,GAAOA,OAGlErH,EAAAC,EAAAC,cAACguB,GAAA,EAAM+B,KAAP,KACGjpB,EAAM1E,KAAKzH,MAAM2C,MAAQwJ,EAAM1E,KAAKzH,MAAM2C,MAAM4D,OAAOmuB,GAAcA,KAG1EvvB,EAAAC,EAAAC,cAACquB,GAAD,KACGvnB,EAAMkO,OAAO,SAACgb,EAAKC,GAAN,OAAaD,EAAMC,EAAGp1B,QAAQ,GAD9C,SAEEiF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQE,KAAK,eAAeiV,SAAUxa,KAAKzH,MAAM2C,MAAQ,EAAGsK,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAEnhB,KAAM+gB,EAAK1jB,MAAM2C,KAAO,OAClHwC,EAAAC,EAAAC,cAACuuB,GAAD,QAAArtB,OAA+B,IAAjB4F,EAAMjM,OAAe,EAAIuH,KAAKzH,MAAM2C,KAAO,EAAzD,KAAA4D,OAA8D4F,EAAMjM,SAEpEiF,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQE,KAAK,gBAAgBiV,SAAUxa,KAAKzH,MAAM2C,MAAQwJ,EAAMjM,OAAS,EAAG+M,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAEnhB,KAAM+gB,EAAK1jB,MAAM2C,KAAO,iBAzEjHohB,aAwFdwR,GAAA,CACbX,KAAMvB,KAAMuB,KACZvB,MAAOS,GACPV,IAAKC,KAAMD,o2CCjHb,IAqBMoC,GAAchxB,IAAOC,IAAVgxB,MAYXC,GAAmBlxB,IAAOC,IAAVkxB,MAOhBC,GAAqBpxB,IAAOC,IAAVoxB,MASlBC,GAAuBtxB,IAAOC,IAAVsxB,MAUpBC,GAA4BxxB,IAAOC,IAAVwxB,MAsBzBC,GAAkB1xB,YAAO4lB,KAAP5lB,CAAH2xB,MAMfC,eACJ,SAAAA,IAAe,IAAApT,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAA2uB,IACbpT,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAA21B,GAAAhT,KAAA3b,QA2BF4uB,eAAiB,WAAM,IACbC,EAAgBtT,EAAKhjB,MAArBs2B,YACJA,GAAev5B,OAAOmyB,WAAa,KAAMlM,EAAKc,SAAS,CAAEwS,aAAa,KAChEA,GAAev5B,OAAOmyB,YAAc,MAAMlM,EAAKc,SAAS,CAAEwS,aAAa,KA/BpEtT,EAkCfuT,WAAa,SAAAC,GACXxT,EAAKc,SAAS,CAAEvL,MAAO,GAAI4U,QAAS,GAAIsJ,gBAAgB,EAAOC,cAAc,EAAOC,UAAUH,GAA0BxT,EAAKhjB,MAAM22B,SAAUrH,QAAQkH,GAA0BxT,EAAKhjB,MAAMsvB,SAC1L1vB,GAAMoO,QApCOgV,EAuCf4T,kBAAoB,SAAAp4B,GAClB,IAAM+Z,EAAQyK,EAAKhjB,MAAMuY,MAAMJ,OACzBgV,EAAUnK,EAAKhjB,MAAMmtB,QAAQhV,OAFPqU,EAGUxJ,EAAKnjB,MAAnCJ,EAHoB+sB,EAGpB/sB,UAAWlB,EAHSiuB,EAGTjuB,QACbG,EAJsB8tB,EAGA5tB,MACTL,GAASC,IAAW,GACvC,GAAK+Z,IAAU7Z,EAAK6Z,QAAUyK,EAAKhjB,MAAMmtB,SAAaA,IAAYzuB,EAAKyuB,UAAY5U,GAAWA,IAAU7Z,EAAK6Z,OAAS4U,IAAYzuB,EAAKyuB,UAAc5U,IAAU4U,EAAU,OAAOnK,EAAKuT,aACrLvT,EAAKc,SAAS,CAAEwL,QAAQ,EAAM/W,QAAO4U,YACrC,IAAM0J,EAAS,GAGf,GAFI1J,IAAS0J,EAAO1J,QAAUA,GAC1B5U,IAAOse,EAAOte,MAAQA,GACS,IAA/B9X,OAAOgV,KAAKohB,GAAQ32B,OAAc,OAAO8iB,EAAKuT,aAClDlwB,IAAM+qB,MAAN,eAAA7qB,OAA2BhI,EAA3B,WAAAgI,OAA4C/H,GAAUq4B,EAAQ,CAAErH,QAAS,CAAEC,aAAchwB,KAAeqoB,KAAK,WAC3G9E,EAAKuT,YAAW,GAChBvxB,EAAMC,QAAN,yBACC+iB,MAAM,SAAAxlB,GACPkE,QAAQC,IAAInE,EAAIoE,UAAYpE,GAC5B,IAAMuD,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KohB,EAAKc,SAAS,CAAEwL,QAAQ,IACxBtqB,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,0BAAiBF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,4BAzD9Hid,EA6Df8T,gBAAkB,SAAAt4B,GAChBwkB,EAAKc,SAAS,CAAE6S,UAAU,IAC1BtwB,IAAMmrB,OAAN,eAAAjrB,OAA4Byc,EAAKnjB,MAAMtB,QAAvC,WAAAgI,OAAwD/H,GAAU,CAAEgxB,QAAS,CAAEC,aAAczM,EAAKnjB,MAAMJ,aAAeqoB,KAAK,WAC1H9E,EAAKuT,YAAW,GAChBvxB,EAAMC,QAAN,mBACC+iB,MAAM,SAAAxlB,GACPkE,QAAQC,IAAInE,EAAIoE,UAAYpE,GAC5B,IAAMuD,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KohB,EAAKc,SAAS,CAAEwL,QAAQ,IACxBtqB,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,iCAAwBF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,4BAtErIid,EA0Ef+T,UAAY,SAAAv4B,GAAU,IAAAuuB,EACsB/J,EAAKnjB,MAAvCkD,EADYgqB,EACZhqB,cAAemuB,EADHnE,EACGmE,eACvBnuB,EAAcvE,GAAU0yB,GACxBlO,EAAKuT,cA7EQvT,EAgFfgU,eAAiB,SAAAt4B,GACf,GAAIskB,EAAKhjB,MAAMs2B,YAAa,OAAOtT,EAAKhjB,MAAMkxB,iBAAmBxyB,EAAK4C,QAAU0hB,EAAKc,SAAS,CAAEoN,eAAiB,KAAQlO,EAAKc,SAAS,CAAEoN,eAAgBxyB,EAAK4C,UAC9J0hB,EAAKc,SAAS,CAAEoN,eAAgBxyB,EAAK4C,UAFd,IAAAmwB,EAG2CzO,EAAKnjB,MAA/DvB,EAHemzB,EAGfnzB,cAAea,EAHAsyB,EAGAtyB,SAAUZ,EAHVkzB,EAGUlzB,QAASE,EAHnBgzB,EAGmBhzB,MAAOW,EAH1BqyB,EAG0BryB,aAC3C63B,EAAmBjU,EAAKhjB,MAAMuY,QAAU7Z,EAAK6Z,QAAUyK,EAAKhjB,MAAMmtB,SAAanK,EAAKhjB,MAAMmtB,UAAYzuB,EAAKyuB,UAAYnK,EAAKhjB,MAAMuY,OAAWyK,EAAKhjB,MAAMuY,QAAU7Z,EAAK6Z,OAASyK,EAAKhjB,MAAMmtB,UAAYzuB,EAAKyuB,UAAcnK,EAAKhjB,MAAMuY,QAAUyK,EAAKhjB,MAAMmtB,QAC1P+E,EAAezzB,EAAM0zB,UAAY7zB,EAAc6zB,SAC/CC,EAAa3zB,EAAM2zB,YAAc9zB,EAAc8zB,WAC/CC,EAAe5zB,EAAM4zB,cAAgB/zB,EAAc+zB,aACnD6E,EAAgB/3B,EAASZ,GACzB44B,EAAkB,GACxB,GAAID,EACF,IAAK,IAAME,KAAaF,EAAe,CACrC,IAAM/J,EAAU+J,EAAcE,GAC9BD,EAAgB3nB,KAAK,CAAEnH,KAAI,IAAA9B,OAAM4mB,EAAQ3gB,MAAQpL,MAAOg2B,IAI5D,IAAMC,EAAuB34B,EAAKyuB,SAAWhuB,EAASZ,GAASG,EAAKyuB,SAAWzuB,EAAKyuB,QAAU,KACxFttB,EAAQ,CACZ0Y,MAAO7Z,EAAK6Z,MACZ+e,SAAU54B,EAAKuE,KACfmM,OACEjK,EAAAC,EAAAC,cAACywB,GAAD,KACE3wB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQD,MAAM,MAAM8D,QAAQ,SAAS1D,QAAS,SAAAN,GAAC,OAAIqW,EAAK8T,gBAAgBp4B,EAAK4C,UAAU2gB,SAAUe,EAAKhjB,MAAMsvB,QAAUtM,EAAKhjB,MAAM22B,WACjIxxB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,aAAa1D,QAAS,SAAAN,GAAC,OAAIqW,EAAK+T,UAAUr4B,EAAK4C,YAC/D6D,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQmV,SAAUe,EAAKhjB,MAAMsvB,OAAQ3e,QAASsmB,EAAkB,QAAUjU,EAAKhjB,MAAMsvB,OAAS,YAAc,eAAgBriB,QAAS,SAAAN,GAAC,OAAIqW,EAAK4T,kBAAkBl4B,EAAK4C,eAKxKxB,EACJqF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC2wB,GAAD,KACE7wB,EAAAC,EAAAC,cAACyZ,GAAD,eAC+B,IAA7Bre,OAAOgV,KAAK/W,GAAMwB,OACd,GACAxB,EAAKujB,SACH9c,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOlF,GAAOC,QAAQO,SAArC,aAA0DzJ,EAAKujB,SAA/D,KACoC,kBAA5B7iB,EAAaV,EAAKuE,MACxBkC,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOlF,GAAOC,QAAQK,MAArC,WAAqDsc,KAAOnlB,EAAaV,EAAKuE,OAAOyhB,OAAO,aAA5F,KACAvf,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOlF,GAAOC,QAAQM,QAArC,UAA4D5J,EAAco0B,UAAY,EAA1B,IAAAnsB,YAA8DlI,IAA5Be,EAAaV,EAAKuE,MAAsB,QAAU3E,EAAco0B,UAAYtzB,EAAaV,EAAKuE,OAAS3E,EAAco0B,UAAY,KAAKC,QAAQ,GAAhL,YAA+L,IAE1QxtB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACyZ,GAAD,qBACGpgB,EAAkBA,EAAKujB,UAA+C,kBAA5B7iB,EAAaV,EAAKuE,MAAqB,QAAWvE,EAAKk0B,mBAA2Cl0B,EAAKk0B,mBAAqB,EAA1B,GAAArsB,OAA2D,GAA1B7H,EAAKk0B,mBAAtC,qBAAArsB,OAAmF7H,EAAKk0B,mBAAxF,kBAAtB,oBAA/G,SAAgQztB,EAAAC,EAAAC,cAAA,KAAGiH,IAAI,sBAAsBF,KAAK,qCAAqCC,OAAO,UAA9E,UAC1QlH,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACyZ,GAAD,iBACGpgB,EAAmBA,EAAKm0B,QAAsBtO,KAAO7lB,EAAKm0B,SAASC,OAAOT,GAAc7N,GAAG0N,GAAcxN,OAAO0N,GAA9E,UAA3B,SACVjtB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACyZ,GAAD,gBACA3Z,EAAAC,EAAAC,cAAA,WACI2d,EAAKhjB,MAAMy2B,eACXtxB,EAAAC,EAAAC,cAAC6wB,GAAD,CAAiB90B,MAAO4hB,EAAKhjB,MAAMmtB,SAAWkK,EAAsBpV,SAAUe,EAAKhjB,MAAMsvB,QAAUtM,EAAKhjB,MAAM22B,SAAUlY,QAAM,EAACvZ,QAASiyB,EAAiB9M,WAAS,EAAChb,OAAK,EAAC0S,SAAU,SAACpV,EAAGhM,GAAJ,OAAaqiB,EAAKc,SAAS,CAAEqJ,QAASxsB,EAAKS,OAAS,kBAAM4hB,EAAKgU,eAAet4B,QACjQyG,EAAAC,EAAAC,cAAA,SAAIlG,EAASZ,IAAYY,EAASZ,GAASG,EAAKyuB,SAA5C,IAAA5mB,OAA2DpH,EAASZ,GAASG,EAAKyuB,SAAS3gB,MAAS9N,EAAK64B,YAAL,IAAAhxB,OAAuB7H,EAAK64B,aAAgB74B,EAAKyuB,SAE3JhoB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAASqS,EAAKhjB,MAAMy2B,eAAiB,SAAW,OAAQxpB,QAAS,SAAAN,GAAC,OAAIqW,EAAKc,SAASd,EAAKhjB,MAAMy2B,eAAiB,CAACA,gBAAgB,EAAOtJ,QAAS,IAAO,CAACsJ,gBAAgB,EAAMtJ,QAAS,IAAM,kBAAMnK,EAAKgU,eAAet4B,UAGpOyG,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC2wB,GAAD,KACE7wB,EAAAC,EAAAC,cAACyZ,GAAD,cACA3Z,EAAAC,EAAAC,cAAA,WACI2d,EAAKhjB,MAAM02B,aACTvxB,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOM,SAAUe,EAAKhjB,MAAMsvB,QAAUtM,EAAKhjB,MAAM22B,SAAUhT,YAAajlB,EAAK6Z,MAAOlJ,OAAK,EAAC0S,SAAU,SAAApV,GAAC,OAAIqW,EAAKc,SAAS,CAAEvL,MAAO5L,EAAEN,OAAOjL,OAAS,kBAAM4hB,EAAKgU,eAAet4B,MAAQ0C,MAAO4hB,EAAKhjB,MAAMuY,OAAS7Z,EAAK6Z,QACpNpT,EAAAC,EAAAC,cAAA,SAAI3G,EAAK6Z,OAEbpT,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAASqS,EAAKhjB,MAAM02B,aAAe,SAAW,OAAQzpB,QAAS,SAAAN,GAAC,OAAIqW,EAAKc,SAASd,EAAKhjB,MAAM02B,aAAe,CAAEA,cAAc,EAAOne,MAAO,IAAO,CAAEme,cAAc,EAAMne,MAAO,IAAM,kBAAMyK,EAAKgU,eAAet4B,UAG1NyG,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,OAIJvhB,GAAMkL,KAAKjL,EAAOC,GAClBkjB,EAAKc,SAAS,CAAEoN,eAAgBxyB,EAAK4C,WAzJrC0hB,EAAKhjB,MAAQ,CACXkxB,eAAgB,GAChBpB,SAAU,GACVvX,MAAO,GACP4U,QAAS,GACTsJ,gBAAgB,EAChBC,cAAc,EACdJ,YAAav5B,OAAOmyB,YAAc,MAEpClM,EAAKwU,QAAUznB,IAAM0nB,YAXRzU,sFAebvb,KAAK5H,MAAM0oB,gBACXxrB,OAAO6yB,iBAAiB,SAAUnoB,KAAK4uB,gBACvC5uB,KAAKqc,SAAS,CAAEoN,eAAgBzpB,KAAK5H,MAAMrB,wDAI3CzB,OAAO8yB,oBAAoB,SAAUpoB,KAAK4uB,2DAGzBzE,GACbA,EAAUpzB,SAAWiJ,KAAK5H,MAAMrB,QAAQiJ,KAAKqc,SAAS,CAAEoN,eAAgBzpB,KAAK5H,MAAMrB,0CAqI/E,IAAAklB,EAAAjc,KAAAoqB,EACkEpqB,KAAK5H,MAAvEjB,EADAizB,EACAjzB,MAAOO,EADP0yB,EACO1yB,SAAUZ,EADjBszB,EACiBtzB,QAASuxB,EAD1B+B,EAC0B/B,SAAU1wB,EADpCyyB,EACoCzyB,aAAcC,EADlDwyB,EACkDxyB,YACpD6tB,EAAatuB,EAAML,GACnB24B,EAAgB/3B,EAASZ,GACzBm5B,EAAa,GACnB,IAAK,IAAMp2B,KAAW4rB,EAAY,CAChC,IAAMxuB,EAAOwuB,EAAW5rB,GACxBo2B,EAAWloB,KAAK9Q,GAGlB,IAAMszB,EAAyB,GAC/B,IAAK,IAAMzvB,KAAM20B,EACflF,EAAuBxiB,KAAK,CAAEnH,KAAM,IAAM6uB,EAAc30B,GAAIiK,KAAMpL,MAAOmB,IAG3E,OACE4C,EAAAC,EAAAC,cAAA,OAAKyG,MAAO,CAAE8S,QAAS,OAAQ7U,OAAQ,OAAQwgB,SAAU,WACvDplB,EAAAC,EAAAC,cAACooB,GAAA,WAAD,KACEtoB,EAAAC,EAAAC,cAACmwB,GAAD,CAAa/U,IAAK,SAAAA,GAAG,OAAIiD,EAAK8T,UAC5BryB,EAAAC,EAAAC,cAACkc,GAAD,CAAY1R,QAAQ,kBAAkBC,WAAW,gCACjD3K,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,UAAUC,WAAW,+BAA+B8S,cACxEzd,EAAAC,EAAAC,cAACuwB,GAAD,KACEzwB,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAO1Y,QAASxL,EAAAC,EAAAC,cAAA,0BAAiBF,EAAAC,EAAAC,cAAA,KAAG+G,KAAK,qCAAqCC,OAAO,SAASC,IAAI,uBAAjE,wBAAuHoV,SAAS,cAAc8H,cAAY,EAACmO,WAAS,EAACpO,UAAQ,EAACE,QAAStkB,EAAAC,EAAAC,cAAA,YAAOqyB,EAAWx3B,OAAlB,IAAoD,IAAzBb,EAAYd,GAAiB,SAAMc,EAAYd,MAClS4G,EAAAC,EAAAC,cAAA,KAAG+G,KAAK,qCAAqCC,OAAO,SAASC,IAAI,uBAAsBnH,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMM,MAAM,QAAQL,KAAK,wBAGpHrH,EAAAC,EAAAC,cAACkwB,GAAelC,MAAhB,CACEtmB,OAAK,EACLsnB,aAAW,EACX7T,MAAOkX,EACPvD,QAASuD,EAAWx3B,OAAS,EAC7Bq0B,WAAYmD,EAAWx3B,OAAS,EAAI,GAAK,EACzCsvB,QAAS,CAAC,SAAU,QAAS,OAAQ,WACrCyE,SAAU,SAAAv1B,GACR,OACEyG,EAAAC,EAAAC,cAACkwB,GAAenC,IAAhB,CAAoB3I,OAAQ/rB,EAAK4C,UAAYoiB,EAAK1jB,MAAMkxB,eAAgBplB,MAAO,CAAE8rB,OAAQ,WAAa5gB,IAAKtY,EAAK4C,QAAQ2L,QAAS,SAAAN,GAAC,OAAI+W,EAAKsT,eAAet4B,KAMxJyG,EAAAC,EAAAC,cAACkwB,GAAeX,KAAhB,CAAqBN,YAAU,GAC3B51B,EAAKujB,SACH9c,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,iBAAiBV,MAAO,CAAEgV,SAAU,QAAUjU,MAAM,WAC5B,kBAA5BzN,EAAaV,EAAKuE,MACvBkC,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,OAAOV,MAAO,CAAEgV,SAAU,QAAUjU,MAAM,QACrD1H,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,eAAeV,MAAO,CAAEgV,SAAU,QAAUjU,MAAM,WAGrE1H,EAAAC,EAAAC,cAACkwB,GAAeX,KAAhB,KAAsBl2B,EAAK6Z,OAC3BpT,EAAAC,EAAAC,cAACkwB,GAAeX,KAAhB,KAAsBl2B,EAAKuE,MAC3BkC,EAAAC,EAAAC,cAACkwB,GAAeX,KAAhB,KAAsBz1B,EAASZ,IAAYY,EAASZ,GAASG,EAAKyuB,SAA5C,IAAA5mB,OAA2DpH,EAASZ,GAASG,EAAKyuB,SAAS3gB,MAA3F,YAAAjG,OAAgH7H,EAAKyuB,QAArH,QAI5B+G,WAAY,SAACx1B,EAAM+f,GACjB,IAAK,IAAMzH,KAAOtY,EAChB,GAAyB,kBAAdA,EAAKsY,IAAqBtY,EAAKsY,GAAK6G,SAASY,GAAS,OAAO,EAE1E,OAAO,KAEXtZ,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,MAAMC,WAAY3K,EAAAC,EAAAC,cAAA,yDAAAkB,OAA6E,IAAzBlH,EAAYd,GAAiB,SAAMc,EAAYd,GAAnG,uBAAiI4G,EAAAC,EAAAC,cAAA,KAAG+G,KAAK,qCAAqCC,OAAO,SAASC,IAAI,uBAAjE,0BACzKnH,EAAAC,EAAAC,cAACwyB,GAAD,CAAS7F,uBAAwBA,IACjC7sB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,QAGJhc,EAAAC,EAAAC,cAACqwB,GAAD,KACEvwB,EAAAC,EAAAC,cAACyyB,GAAD,CAAS5G,eAAgBzpB,KAAKzH,MAAMkxB,eAAgBc,uBAAwBA,EAAwBV,cAAe,kBAAM5N,EAAKI,SAAS,CAAEoN,eAAgB,MAAOpB,SAAUA,aApOhK/L,aAqPL9Y,gBAAW0f,YA5UF,SAAA3qB,GACtB,MAAO,CACLpB,MAAOoB,EAAMpB,MACbO,SAAUa,EAAMb,SAChBZ,QAASyB,EAAMzB,QACfC,OAAQwB,EAAMxB,OACda,YAAaW,EAAMX,YACnBD,aAAcY,EAAMZ,aACpBX,MAAOuB,EAAMvB,MACbH,cAAe0B,EAAM1B,cACrBmB,UAAWO,EAAMP,YAIM,SAAAmG,GACzB,MAAO,CACL2iB,cAAe,kBAAM3iB,EAAShD,EAAWuJ,GAAMtD,SAC/C9F,cAAe,SAAAvE,GAAM,OAAIoH,EAAS7C,EAAcvE,OA2T1BmsB,CAA6CyL,0BC1UxD2B,yLAjBH,IAAAvL,EACyD/kB,KAAK5H,MAA9DvB,EADAkuB,EACAluB,cAAe6zB,EADf3F,EACe2F,SAAUC,EADzB5F,EACyB4F,WAAY4F,EADrCxL,EACqCwL,gBACvCC,EAAa1T,OAEnB,OACEpf,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEgV,SAAU,SAAWkX,EAAkB7yB,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOlF,GAAOC,QAAQK,MAArC,oBAAsEgwB,EAAWzT,GAAG2N,GAAY7zB,EAAc6zB,UAAUzN,OAAO0N,GAAc9zB,EAAc8zB,oBAN1LriB,IAAMC,wwBCcnC,IAeMN,GAAYlL,IAAOC,IAAVyzB,MASTC,GAAmB3zB,IAAOC,IAAV2zB,KAEXzwB,GAAOC,QAAQU,SAGpB+vB,GAAe7zB,YAAO2c,KAAP3c,CAAH8zB,MAKZC,GAAkB/zB,IAAOC,IAAV+zB,MAQfC,GAAwBj0B,IAAOC,IAAVi0B,MAOrBX,eACJ,SAAAA,IAAe,IAAA/U,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAswB,IACb/U,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAs3B,GAAA3U,KAAA3b,QAqDFkxB,YAAc,WAAM,IAAAnM,EACexJ,EAAKnjB,MAA9BvB,EADUkuB,EACVluB,cAAeG,EADL+tB,EACK/tB,MACjB0zB,EAAW1zB,EAAM0zB,SAAW5N,KAAOC,GAAGoU,KAAKn6B,EAAM0zB,UAAY,GAC7DlxB,EAAW,CACf43B,SAAS,EACTb,iBAAiB,EACjBc,OAAQr6B,EAAMq6B,QAAU,GACxBzG,aAAc5zB,EAAM4zB,cAAgB/zB,EAAc+zB,aAClDD,WAAY3zB,EAAM2zB,YAAc,GAChCD,SAAUA,EAAWA,EAAS3lB,KAAO,IAEvCvL,EAAS83B,SAATt4B,OAAAC,EAAA,EAAAD,CAAA,GAAyBQ,EAAzB,CAAmC+3B,iBAAkB16B,EAAc06B,mBACnEhW,EAAKc,SAAS7iB,IAlED+hB,EAqEfiW,cAAgB,SAACjiB,EAAKkS,GAAQ,IAAAgQ,EACpB56B,EAAkB0kB,EAAKnjB,MAAvBvB,cACF2C,GAAQi4B,EAAA,GAAAz4B,OAAAK,EAAA,EAAAL,CAAAy4B,EAAMliB,EAAMkS,GAAZzoB,OAAAK,EAAA,EAAAL,CAAAy4B,EAAA,WAA0B,GAA1BA,GACRC,EAAenW,EAAKhjB,MAAM+4B,SAAS/hB,GACnCoiB,EAAwB,WAARpiB,EAAmB,GAAK1Y,EAAc0Y,GAC5D,GAAY,aAARA,EAAoB,CACtB,IAAIqiB,GAAqB,EACrBC,GAAsB,EACpBC,EAAWhV,KAAOC,GAAGoU,KAAK1P,GAE1BsQ,EAAuBjV,KAAOC,GAAGoU,KAAKO,GAI5C,IAHMI,GAAYC,GAA0BD,IAAaC,GAA0BD,GAAYC,GAAwBD,EAAS/sB,OAASgtB,EAAqBhtB,KAAO6sB,GAAqB,EAChLE,GAAaC,GAAyBL,GAAwB,KAARjQ,IAAYmQ,GAAqB,GAE7FA,EAAoB,CACtB,IAAMI,EAAwBlV,KAAOC,GAAGoU,KAAKQ,IACvCG,GAAYE,GAA2BF,IAAaE,GAA2BF,GAAYE,GAAyBF,EAAS/sB,OAASitB,EAAsBjtB,KAAO8sB,GAAsB,EACrLC,GAAaE,GAAyBvQ,IAAQkQ,IAAeE,GAAsB,GAG3FA,GAAuBD,GACzBp4B,EAAS43B,SAAU,EACP,KAAR3P,GAAclG,EAAKhjB,MAAMg4B,gBAAiB/2B,EAAS+2B,iBAAkB,EAElEhV,EAAKhjB,MAAMg4B,iBAAoBuB,EAC3BvW,EAAKhjB,MAAMg4B,iBAAmBuB,IAAUt4B,EAAS+2B,iBAAkB,GAD9B/2B,EAAS+2B,iBAAkB,GAGlEhV,EAAKhjB,MAAMg4B,kBAAiB/2B,EAAS+2B,iBAAkB,GAC9DuB,IAAUt4B,EAAS+V,GAAOuiB,EAAS/sB,WAC9B0c,IAAQiQ,GAAgBjQ,IAAQkQ,IAAen4B,EAAS43B,SAAU,GAC7E7V,EAAKc,SAAS7iB,IAnGD+hB,EAsGf0W,eAAiB,WAAM,IAAA3M,EACU/J,EAAKnjB,MAA5BtB,EADawuB,EACbxuB,QAASkB,EADIstB,EACJttB,UACjBujB,EAAKc,SAAS,CAAE6V,mBAAmB,IACnCtzB,IAAMC,IAAN,eAAAC,OAAyBhI,GAAW,CAAEixB,QAAS,CAAEC,aAAchwB,KAAeqoB,KAAK,SAAA/gB,GAAc,IAAXpG,EAAWoG,EAAXpG,KACpFi5B,KAAan4B,KAAKE,UAAUhB,EAAM,KAAM,GAA5B,GAAA4F,OAAmChI,EAAnC,UACZykB,EAAKc,SAAS,CAAE6V,mBAAmB,MAClC3R,MAAM,SAAAxlB,GACPwgB,EAAKc,SAAS,CAAE6V,mBAAmB,IACnCjzB,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,SAChC,IAAMmE,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,qCAA4BF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,4BAhHzIid,EAoHf6W,KAAO,WACL,GAAK7W,EAAKhjB,MAAM64B,QAAhB,CADW,IAAApH,EAEoBzO,EAAKnjB,MAA5BtB,EAFGkzB,EAEHlzB,QAASkB,EAFNgyB,EAEMhyB,UAFN+oB,EAG4CxF,EAAKhjB,MACtDQ,EAAU,CACd2xB,SALS3J,EAGH2J,SAGNC,WANS5J,EAGO4J,WAIhBC,aAPS7J,EAGmB6J,aAK5ByG,OARStQ,EAGiCsQ,QAO5C9V,EAAKc,SAAS,CAAEwL,QAAQ,IACxBjpB,IAAM+qB,MAAN,eAAA7qB,OAA2BhI,GAAWiC,EAAS,CAAEgvB,QAAS,CAAEC,aAAchwB,KAAeqoB,KAAK,SAAAgS,GAAcA,EAAXn5B,KAC/FqE,EAAMC,QAAQ,UACd+d,EAAKc,SAAS,CAAEwL,QAAQ,MACvBtH,MAAM,SAAAxlB,GAEP,GADAwgB,EAAKc,SAAS,CAAEwL,QAAQ,IACpB9sB,EAAIoE,UAAoC,MAAxBpE,EAAIoE,SAAS1D,OAAgB,OAAO8B,EAAMC,QAAQ,uBACtEyB,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,SAChC,IAAMmE,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,mCAA0BF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,6BArIpJid,EAAKhjB,MAAQ,CACX64B,SAAS,EACTvJ,QAAQ,EACRqK,mBAAmB,EACnB3B,iBAAiB,EACjB3F,aAAc,GACdD,WAAY,GACZD,SAAU,GACV2G,OAAQ,GACRC,SAAU,CACRD,OAAQ,GACRzG,aAAc,GACd2G,iBAAkB,GAClB5G,WAAY,GACZD,SAAU,KAhBDnP,sFAsBbvb,KAAK5H,MAAM0oB,4DAIX9gB,KAAKkxB,yDAGa/G,GAClB,GAAIA,EAAUrzB,UAAYkJ,KAAK5H,MAAMtB,QAAS,OAAOkJ,KAAKkxB,cAE1D,IADA,IAAMoB,EAAY,CAAC,SAAU,eAAgB,aAAc,YAC3DC,EAAA,EAAAC,EAAkBF,EAAlBC,EAAAC,EAAA/5B,OAAA85B,IAA6B,CAAxB,IAAMhjB,EAAGijB,EAAAD,GACZ,GAAIpI,EAAUnzB,MAAMuY,KAASvP,KAAK5H,MAAMpB,MAAMuY,GAAM,OAAOvP,KAAKkxB,cAIlE,IAAIlxB,KAAKzH,MAAM64B,QAAf,CAR6B,IAAAhH,EASIpqB,KAAK5H,MAA9BvB,EATqBuzB,EASrBvzB,cACF47B,EAVuBrI,EASNpzB,MACKq6B,QAAU,GACtC,GAAIrxB,KAAKzH,MAAM84B,SAAWoB,EAAe,OAAOzyB,KAAKqc,SAAS,CAAE+U,SAAS,IACzE,IAAK,IAAI3mB,EAAI,EAAGA,EAAI6nB,EAAU75B,SAAUgS,EAAG,CACzC,IAAM8E,EAAM+iB,EAAU7nB,GAChBioB,EAAe1yB,KAAKzH,MAAM+4B,SAAS/hB,GACzC,GAAIvP,KAAKzH,MAAMgX,KAASmjB,GAAgB1yB,KAAKzH,MAAMgX,KAAS1Y,EAAc0Y,GAAM,CAC9E,GAAY,aAARA,EAIG,OAAOvP,KAAKqc,SAAS,CAAE+U,SAAS,IAHrC,IAAMuB,EAAe7V,KAAOC,GAAGoU,KAAKnxB,KAAKzH,MAAMgX,IACzCqjB,EAAkB9V,KAAOC,GAAGoU,KAAKuB,GACvC,IAAMC,GAAgBC,GAAqBD,IAAiBC,GAAqBD,GAAgBC,GAAmBD,EAAa5tB,OAAS6tB,EAAgB7tB,KAAO,OAAO/E,KAAKqc,SAAS,CAAE+U,SAAS,wCA2F/L,IAAAnV,EAAAjc,KACAnJ,EAAkBmJ,KAAK5H,MAAvBvB,cAER,OACE6G,EAAAC,EAAAC,cAACi1B,GAAD,KACEn1B,EAAAC,EAAAC,cAACkc,GAAD,CAAY1R,QAAQ,kBAAkBC,WAAW,+DACjD3K,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,QAAQC,WAAW,kJACzC3K,EAAAC,EAAAC,cAACyZ,GAAD,gBACA3Z,EAAAC,EAAAC,cAACk1B,GAAD,CAAMj8B,cAAeA,EAAe6zB,SAAU1qB,KAAKzH,MAAMmyB,SAAUC,WAAY3qB,KAAKzH,MAAMoyB,WAAY4F,gBAAiBvwB,KAAKzH,MAAMg4B,kBAClI7yB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACyZ,GAAD,iBACA3Z,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOtS,OAAK,EAAC0S,SAAU,SAAApV,GAAC,OAAI+W,EAAKuV,cAAc,WAAYtsB,EAAEN,OAAOjL,QAAQqE,MAAOgC,KAAKzH,MAAMg4B,gBAAiB52B,MAAOqG,KAAKzH,MAAMmyB,SAAUxO,YAAarlB,EAAc6zB,WACtKhtB,EAAAC,EAAAC,cAAC8yB,GAAD,8FAAsGhzB,EAAAC,EAAAC,cAAA,KAAG+G,KAAK,+DAA+DC,OAAO,SAASC,IAAI,uBAA3F,gFACtGnH,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACyZ,GAAD,sBACA3Z,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAUC,WAAS,EAAChb,OAAK,EAACnK,QAASuC,KAAKzH,MAAM+4B,SAASC,iBAAiB9nB,IAAI,SAAAgH,GAAU,MAAO,CAAE7P,KAAM6P,EAAM9W,MAAO8W,KAAW9W,MAAOqG,KAAKzH,MAAMqyB,aAActQ,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKuV,cAAc,eAAgBt4B,EAAKS,UAC5N+D,EAAAC,EAAAC,cAAC8yB,GAAD,2KACAhzB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACyZ,GAAD,oBACA3Z,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOtS,OAAK,EAACjO,MAAOqG,KAAKzH,MAAMoyB,WAAYrQ,SAAU,SAAApV,GAAC,OAAI+W,EAAKuV,cAAc,aAActsB,EAAEN,OAAOjL,QAAQuiB,YAAarlB,EAAc8zB,aACvIjtB,EAAAC,EAAAC,cAAC8yB,GAAD,8EAAsFhzB,EAAAC,EAAAC,cAAA,KAAG+G,KAAK,0CAA0CC,OAAO,SAASC,IAAI,uBAAtE,mDAAtF,KACAnH,EAAAC,EAAAC,cAACgzB,GAAD,MACAlzB,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,iBAAiBC,WAAW,mKAClD3K,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOtS,OAAK,EAAC0S,SAAU,SAAApV,GAAC,OAAI+W,EAAKuV,cAAc,SAAUtsB,EAAEN,OAAOjL,QAAQA,MAAOqG,KAAKzH,MAAM84B,OAAQ7W,UAAQ,IAC5G9c,EAAAC,EAAAC,cAACgzB,GAAD,MACAlzB,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,SAASC,WAAW,mJAC1C3K,EAAAC,EAAAC,cAACgzB,GAAD,MACAlzB,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,SAASC,WAAW,qRAC1C3K,EAAAC,EAAAC,cAACozB,GAAD,KACEtzB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQC,OAAK,EAAC4D,QAAQ,kBAAkB1D,QAASxF,KAAKiyB,eAAgBzX,SAAUxa,KAAKzH,MAAM25B,oBAC3Fx0B,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQC,OAAK,EAAC4D,QAAQ,yBAAyBsR,UAAQ,EAAChV,QAASxF,KAAKiyB,kBAExEv0B,EAAAC,EAAAC,cAACgzB,GAAD,MACAlzB,EAAAC,EAAAC,cAACkzB,GAAD,KACEpzB,EAAAC,EAAAC,cAAC0tB,GAAD,CAAapiB,QAAQ,QAAQ5D,OAAK,EAACwc,UAAQ,EAACrc,KAAMzF,KAAKzH,MAAMsvB,OAAS,OAAS7nB,KAAKzH,MAAM64B,QAAU,QAAU,OAAQ5rB,QAASxF,KAAKkxB,cACpIxzB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,OAAO9D,MAAM,QAAQoV,SAAUxa,KAAKzH,MAAMg4B,kBAAoBvwB,KAAKzH,MAAM64B,SAAWpxB,KAAKzH,MAAMsvB,OAAQriB,QAASxF,KAAKoyB,gBAhLlH9V,aA2Ld9Y,gBAAW0f,YA5OF,SAAA3qB,GACtB,MAAO,CACLvB,MAAOuB,EAAMvB,MACbF,QAASyB,EAAMzB,QACfD,cAAe0B,EAAM1B,cACrBmB,UAAWO,EAAMP,YAIM,SAAAmG,GACzB,MAAO,CACL2iB,cAAe,kBAAM3iB,EAAShD,EAAWuJ,GAAMrD,qBAiOzB6hB,CAA6CoN,slBC5PvE,IA4BeyC,GA5BSh2B,IAAOi2B,SAAVC,KAQV/yB,GAAOC,QAAQI,MAMV,KAAO,EACX,SAAAnI,GAAK,OAA4B,MAAvBA,EAAM86B,UAAY,IAG3BhzB,GAAOC,QAAQI,MAMRL,GAAOC,QAAQC,sSChBnC,IAQM+yB,GAAcp2B,IAAOC,IAAVo2B,MAIXC,GAAgBt2B,IAAOC,IAAVs2B,MASbC,eACJ,SAAAA,IAAe,IAAAhY,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAuzB,IACbhY,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAu6B,GAAA5X,KAAA3b,QAWFD,MAAQ,WAAM,IAAAglB,EAC4CxJ,EAAKnjB,MAArDJ,EADI+sB,EACJ/sB,UAAWlB,EADPiuB,EACOjuB,QAASC,EADhBguB,EACgBhuB,OAAQy8B,EADxBzO,EACwByO,gBACpC,GAAyB,OAArBjY,EAAKhjB,MAAMoB,OAAkB4hB,EAAKhjB,MAAMoB,QAAU65B,EAAtD,CACAjY,EAAKc,SAAS,CAAEwL,QAAQ,IACxB,IAAM9uB,EAAU,CAAEoB,QAASohB,EAAKhjB,MAAMoB,QACtB4hB,EAAKhjB,MAAMoB,MAAmHiF,IAAM+qB,MAAN,eAAA7qB,OAA2BhI,EAA3B,WAAAgI,OAA4C/H,EAA5C,YAA8DgC,EAAS,CAAEgvB,QAAS,CAAEC,aAAchwB,KAA7M4G,IAAMmrB,OAAN,eAAAjrB,OAA4BhI,EAA5B,WAAAgI,OAA6C/H,EAA7C,YAA+D,CAAEgxB,QAAS,CAAEC,aAAchwB,MAE5HqoB,KAAK,WACJ9iB,EAAMC,QAAQ,8BACd+d,EAAKc,SAAS,CAAEwL,QAAQ,EAAOluB,MAAO,SACrC4mB,MAAM,SAAAxlB,GAEP,GADAwgB,EAAKc,SAAS,CAAEwL,QAAQ,IACpB9sB,EAAIoE,UAAoC,MAAxBpE,EAAIoE,SAAS1D,OAAgB,OAAO8B,EAAMC,QAAQ,uBACtE,IAAMc,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,yCAAgCF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,yBACxJW,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,aA3BrBohB,EA+BfkY,SAAW,SAAA95B,GACLA,GAASA,EAAMlB,OAAS,OAC5B8iB,EAAKc,SAAS,CAAE1iB,UAChB4hB,EAAKnjB,MAAMq7B,SAAS95B,KAhCpB4hB,EAAKhjB,MAAQ,CACXoB,MAAO,KACPkuB,QAAQ,GAJGtM,oFAQK4O,GACdA,EAAUqJ,kBAAoBxzB,KAAK5H,MAAMo7B,iBAAiBxzB,KAAKqc,SAAS,CAAE1iB,MAAO,wCA4B7E,IAAAsiB,EAAAjc,KACAwzB,EAAoBxzB,KAAK5H,MAAzBo7B,gBACFE,EAAiC,OAArB1zB,KAAKzH,MAAMoB,OAAkBqG,KAAKzH,MAAMoB,QAAU65B,EAC9DG,EAAc3zB,KAAKzH,MAAMoB,OAA8B,KAArBqG,KAAKzH,MAAMoB,MAAeqG,KAAKzH,MAAMoB,MAAQ65B,EAErF,OACE91B,EAAAC,EAAAC,cAACu1B,GAAD,KACEz1B,EAAAC,EAAAC,cAACg2B,GAAD,CAAUtZ,SAAU,SAAApV,GAAC,OAAI+W,EAAKwX,SAASvuB,EAAEN,OAAOjL,QAAQuiB,YAAa,wBAAyBviB,MAAOg6B,EAAaT,UAAWS,EAAcA,EAAYnqB,MAAM,MAAM/Q,OAAS,IAC5KiF,EAAAC,EAAAC,cAACy1B,GAAD,KACE31B,EAAAC,EAAAC,cAAC0tB,GAAD,CAAapiB,QAAQ,QAAQ5D,OAAK,EAACwc,UAAQ,EAACtc,QAAS,SAAAN,GAAC,OAAI+W,EAAKwX,SAAS,OAAOhuB,KAAMzF,KAAKzH,MAAMsvB,OAAS,OAAS6L,EAAY,OAAS,UACvIh2B,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQmV,SAAUxa,KAAKzH,MAAMsvB,QAAU6L,EAAWxqB,QAAQ,OAAO9D,MAAM,QAAQI,QAASxF,KAAKD,MAAM8zB,KAAK7zB,iBAhDpFsI,IAAMC,eA2DrB/E,gBAAW0f,YAhFF,SAAA3qB,GACtB,MAAO,CACLzB,QAASyB,EAAMzB,QACfC,OAAQwB,EAAMxB,OACdiB,UAAWO,EAAMP,YA4EKkrB,CAAyBqQ,eC3FpCO,GAAA,CACbhjB,MAAO,QACPiP,YAAa,cACbnQ,IAAK,MACLxK,MAAO,QACP2uB,UAAW,YACXC,uBAAwB,gBACxBC,cAAe,kBACfC,oBAAqB,aACrBC,WAAY,cACZC,uBAAwB,gBACxBC,cAAe,kBACfC,oBAAqB,aACrBC,WAAY,cACZC,mBAAoB,YACpBC,UAAW,aACXC,sBAAuB,eACvBC,aAAc,gBACdC,kBAAmB,WACnBC,SAAU,ihDCPZ,IAeMC,GAAqB/3B,IAAOC,IAAV+3B,MAelBC,GAA2Bj4B,IAAOC,IAAVi4B,MAKxBC,GAAqB7yB,aAAM2yB,GAAN3yB,CAAgC,CACzDjF,MAAO,CAAEkF,OAAQ,QACjBjF,KAAM,CAAEiF,OAAQ,KAGZ6yB,GAAuBp4B,IAAOC,IAAVo4B,MAgBpBC,GAAqBt4B,YAAOu4B,gBAAPv4B,CAAHw4B,MAkCxB,SAASC,GAAap9B,GACpB,OACEsF,EAAAC,EAAAC,cAACu3B,GAAD,KACEz3B,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOvgB,MAAOvB,EAAMuB,OAAS,KAC7B+D,EAAAC,EAAAC,cAACyH,GAAA,EAAOkV,MAAR,KACE7c,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CACEvd,MAAO,CAAEoxB,WAAY,eACrB3T,UAAQ,EACR7H,SAAS,cACT3U,OAAK,EACLuc,GAAG,QACHG,QAAStkB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQE,KAAK,gBAEtB7H,EAAAC,EAAAC,cAACy3B,GAAD,CAAoBjwB,OApBLswB,EAoB2Bt9B,EAAMuB,MAhBjD,CAAE8X,GAHW,SAATikB,IAAsB,GAGrBC,GAFQ,MAATD,IAAsB,EAElB7c,EADK,IAAT6c,IAiBqDpb,SAAU,SAAClV,EAAOwwB,GACxEx9B,EAAMq7B,SAASr7B,EAAMy9B,WAAYzwB,EAAM0wB,IAAIrkB,GAAK,KAAOrM,EAAM0wB,IAAIH,GAAK,GAAKvwB,EAAM0wB,IAAIjd,GAAG6I,gBAG5FhkB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQE,KAAK,IAAIiV,UAAWpiB,EAAMuB,MAAO6L,QAAS,SAAAN,GAAC,OAAI9M,EAAMq7B,SAASr7B,EAAMy9B,SAAU,SAxB9F,IAAyBH,MA8BnB1vB,eACJ,SAAAA,IAAe,IAAAuV,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAgG,IACbuV,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAgN,GAAA2V,KAAA3b,QAEKzH,MAAQ,CACXw9B,SAAS,EACTjT,SAAU,UALCvH,0EASL,IAAAU,EAAAjc,KAAA+kB,EAC2B/kB,KAAK5H,MAAhC49B,EADAjR,EACAiR,OAAQvC,EADR1O,EACQ0O,SAAU1uB,EADlBggB,EACkBhgB,KACpBkxB,EAAO,GACb,GAAID,EACF,IADU,IAAAvN,EAAA,SACDhe,GACP,IAAMoC,EAAQmpB,EAAOvrB,GACf+P,OAA+B5jB,IAApBiW,EAAMqpB,YAAmCrpB,EAAMqpB,UAChED,EAAKluB,KACHrK,EAAAC,EAAAC,cAACupB,GAAA,EAAK0B,MAAN,CAAYtZ,IAAK9E,GACf/M,EAAAC,EAAAC,cAAA,aAAQiP,EAAMpE,OACZoE,EAAMmmB,SACJt1B,EAAAC,EAAAC,cAAA,YAAUjE,MAAOkT,EAAMlT,MAAO2gB,SAAU,SAAApV,GAAC,OAAIuuB,EAAS5mB,EAAMgpB,SAAU3wB,EAAEN,OAAOjL,QAAQ6gB,SAAUA,IACjG3N,EAAMspB,SACJz4B,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAUC,WAAS,EAAChb,OAAK,EAACnK,QAASoP,EAAMpP,QAAS6c,SAAU,SAACpV,EAAGhM,GAAJ,OAAau6B,EAAS5mB,EAAMgpB,SAAU38B,EAAKS,QAAQA,MAAOkT,EAAMlT,OAAS,OAAQ6gB,SAAUA,IACvJ3N,EAAMzH,MACJ1H,EAAAC,EAAAC,cAAC43B,GAAD,CAAa77B,MAAOkT,EAAMlT,MAAO85B,SAAUA,EAAUoC,SAAUhpB,EAAMgpB,WACrEn4B,EAAAC,EAAAC,cAAA,SAAOjE,MAAOkT,EAAMlT,MAAO2gB,SAAU,SAAApV,GAAC,OAAIuuB,EAAS5mB,EAAMgpB,SAAU3wB,EAAEN,OAAOjL,QAAQ6gB,SAAUA,OAZnG/P,EAAI,EAAGA,EAAIurB,EAAOv9B,SAAUgS,EAAGge,EAA/Bhe,GAkBX,OACE/M,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACk3B,GAAD,CAAoBtvB,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAE0Z,SAAU9Z,EAAK1jB,MAAMw9B,QAASjT,SAAU,aACxFplB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQL,KAAK,OAAOO,KAAMvF,KAAKzH,MAAMw9B,QAAU,WAAa,eAC5Dr4B,EAAAC,EAAAC,cAACub,GAAD,KAAmBpU,IAErBrH,EAAAC,EAAAC,cAACs3B,GAAD,CAAoBzvB,KAAMzF,KAAKzH,MAAMw9B,QAAU,QAAU,OAAQ1xB,MAAO,CAAEye,SAAU9iB,KAAKzH,MAAMuqB,UAAYsT,eAAgB,kBAAMna,EAAK1jB,MAAMw9B,QAAU9Z,EAAKI,SAAS,CAAEyG,SAAU,YAAe,OAC5L9iB,KAAK5H,MAAM69B,MAAQv4B,EAAAC,EAAAC,cAACupB,GAAA,EAAD,KAAO8O,YAvCf3tB,IAAMgU,WA8Db9Y,gBAAW0f,YA/KF,SAAA3qB,GACtB,MAAO,CACLzB,QAASyB,EAAMzB,QACfC,OAAQwB,EAAMxB,OACdI,MAAOoB,EAAMpB,MACba,UAAWO,EAAMP,YAIM,SAAAmG,GACzB,MAAO,CACL2iB,cAAe,kBAAM3iB,EAAShD,EAAWuJ,GAAM1D,aAoKzBkiB,CAA6Cld,miCCvKvE,IAAMqwB,GAAqB,CACzBtxB,KAAM,IACNpL,MAAO,MAkBH05B,GAAgBt2B,IAAOC,IAAVs5B,MASbC,GAAqBx5B,IAAOC,IAAVw5B,MAWlBC,GAA0B15B,IAAOC,IAAV05B,MAMvBC,GAAsB55B,YAAOqlB,GAAPrlB,CAAH65B,MAWnBC,GAAgBx0B,aAAMs0B,GAANt0B,CAA2B,CAC/CjF,MAAO,CAAE8V,QAAS,EAAG8G,MAAO,QAASlc,WAAY,CAAER,SAAU,MAC7DD,KAAM,CAAE6V,QAAS,EAAG8G,MAAO,EAAGlc,WAAY,CAAER,SAAU,QAGlDw5B,GAAmB/5B,YAAO45B,GAAP55B,CAAHg6B,MAUhBC,GAAmB,CAAC,QAAS,QAAS,UAEtCC,eACJ,SAAAA,IAAe,IAAA1b,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAi3B,IACb1b,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAi+B,GAAAtb,KAAA3b,QAuHFk3B,UAAY,WACN3b,EAAKhjB,MAAMmd,OAAS,GAAK6F,EAAKhjB,MAAM64B,SACxC7V,EAAKc,SAAS,CAAE3G,MAAO6F,EAAKhjB,MAAMmd,MAAQ,KA1H7B6F,EA6Hf4b,UAAY,WACN5b,EAAKhjB,MAAMmd,OAAS,GAAK6F,EAAKhjB,MAAM64B,SACxC7V,EAAKc,SAAS,CAAE3G,MAAO6F,EAAKhjB,MAAMmd,MAAQ,KA/H7B6F,EAkIfkY,SAAW,SAAC9W,EAAUhjB,GAAU,IACtBy9B,EAAmB7b,EAAKnjB,MAAxBg/B,eACF5/B,EAAMwB,OAAAuoB,GAAA,EAAAvoB,CAAQuiB,EAAKhjB,MAAMf,QAC3B6/B,EAAe7/B,EAAO+jB,EAAKhjB,MAAMmd,OAAlB1c,OAAAC,EAAA,EAAAD,CAAA,GAAgCxB,EAAO+jB,EAAKhjB,MAAMmd,QAAW,KAShF,GARK2hB,GAIHA,EAAa1a,GAAYhjB,EACzBnC,EAAO+jB,EAAKhjB,MAAMmd,OAAS2hB,IAJ3B7/B,EAAOuQ,KAAP/O,OAAAK,EAAA,EAAAL,CAAA,GAAe2jB,EAAWhjB,IAC1B09B,EAAe7/B,EAAOA,EAAOiB,OAAS,IAMpCkkB,IAAa2a,GAAqBvD,WAAuB,SAAVp6B,EAAkB,CACnE,KAAM4hB,EAAKhjB,MAAMf,OAAO+jB,EAAKhjB,MAAMmd,QAAW6F,EAAKhjB,MAAMf,OAAO+jB,EAAKhjB,MAAMmd,OAAOiH,IAAgBya,EAAe7b,EAAKhjB,MAAMmd,QAAW0hB,EAAe7b,EAAKhjB,MAAMmd,OAAOiH,IAAY,OAA8B,IAAvBpB,EAAKhjB,MAAM64B,QAAmB7V,EAAKc,SAAS,CAAE+U,SAAS,IAAW,MACpPiG,EAAa1a,IAAeya,EAAe7b,EAAKhjB,MAAMmd,QAAW0hB,EAAe7b,EAAKhjB,MAAMmd,OAAOiH,IAIzGnlB,EAAO+jB,EAAKhjB,MAAMmd,OAAOiH,GAAYhjB,EACrC4hB,EAAKc,SAAS,CAAE7kB,SAAQ45B,SAAS,aAJ1B55B,EAAO+jB,EAAKhjB,MAAMmd,OAAOiH,GAChCpB,EAAKc,SAAS,CAAE7kB,SAAQ45B,SAAS,SAK9B,CACL,IAAMmG,EAAQH,EAAe7b,EAAKhjB,MAAMmd,SAAY0hB,EAAe7b,EAAKhjB,MAAMmd,OAAOiH,KAAchjB,IAAYy9B,EAAe7b,EAAKhjB,MAAMmd,OAAOiH,KAAchjB,KAAcy9B,EAAe7b,EAAKhjB,MAAMmd,SAAW/b,EACjN4hB,EAAKc,SAAS,CAAE7kB,SAAQ45B,SAAUmG,IAEpChc,EAAKnjB,MAAMq7B,SAASlY,EAAKhjB,MAAMmd,MAAOiH,EAAUhjB,IA3JnC4hB,EA8Jfic,cAAgB,SAACC,EAAY9a,EAAUhjB,GACrC,KAAI08B,GAAmB1Z,IAAahjB,EAAMlB,OAAS49B,GAAmB1Z,IAAtE,CAD+C,IAEvCya,EAAmB7b,EAAKnjB,MAAxBg/B,eACF5/B,EAAMwB,OAAAuoB,GAAA,EAAAvoB,CAAQuiB,EAAKhjB,MAAMf,QAC3B6/B,EAAe7/B,EAAO+jB,EAAKhjB,MAAMmd,OAAlB1c,OAAAC,EAAA,EAAAD,CAAA,GAAgCxB,EAAO+jB,EAAKhjB,MAAMmd,QAAW,KAChF,GAAK2hB,EAIE,CACL,IAAMK,EAASL,EAAaK,OAC5B,GAAID,EAAaC,EAAOj/B,OAAQ,MAAM,IAAIk/B,MAAJ,2BAAA74B,OAAqC24B,EAArC,wCACjCC,EAAOD,GACPC,EAAOD,GAAY9a,GAAYhjB,EADX+9B,EAAO3vB,KAAP/O,OAAAK,EAAA,EAAAL,CAAA,GAAe2jB,EAAWhjB,IAEnDnC,EAAO+jB,EAAKhjB,MAAMmd,OAAS2hB,MATV,CACjB,GAAmB,IAAfI,EAAkB,MAAM,IAAIE,MAAJ,qCAAA74B,OAA+C24B,EAA/C,sCAC5BjgC,EAAOuQ,KAAK,CAAE2vB,OAAQ,CAAC1+B,OAAAK,EAAA,EAAAL,CAAA,GAAG2jB,EAAWhjB,MACrC09B,EAAe7/B,EAAOA,EAAOiB,OAAS,GAQxC,IAAI8+B,GAAO,EACX,GAAIH,EAAe7b,EAAKhjB,MAAMmd,QAAU0hB,EAAe7b,EAAKhjB,MAAMmd,OAAOgiB,QAAUN,EAAe7b,EAAKhjB,MAAMmd,OAAOgiB,OAAOD,GAAa,CAEtI,IAAMG,EAAgBR,EAAe7b,EAAKhjB,MAAMmd,OAAOgiB,OAAOD,GAC7C,WAAb9a,EAC8E4a,MAA1EK,EAAcjb,KAAchjB,GAAWi+B,EAAcjb,IAAahjB,GAGpEi+B,EAAcjb,IAAahjB,GAASi+B,EAAcjb,KAAchjB,EAAO49B,GAAO,IACvEK,EAAcjb,IAAahjB,GAAWi+B,EAAcjb,KAAchjB,KAC3E49B,GAAO,QAIP59B,GAAWy9B,EAAe7b,EAAKhjB,MAAMmd,QAAW0hB,EAAe7b,EAAKhjB,MAAMmd,OAAOgiB,QAAWN,EAAe7b,EAAKhjB,MAAMmd,OAAOgiB,OAAOD,KAAcF,GAAO,GAG/Jhc,EAAKc,SAAS,CAAE7kB,SAAQ45B,SAAUmG,IAClChc,EAAKnjB,MAAMq7B,SAASlY,EAAKhjB,MAAMmd,MAAO,SAAU2hB,EAAaK,UAhMhDnc,EAmMfsc,cAAgB,WACd,IAAMrgC,EAAMwB,OAAAuoB,GAAA,EAAAvoB,CAAQuiB,EAAKhjB,MAAMf,QAC3B6/B,EAAe7/B,EAAO+jB,EAAKhjB,MAAMmd,OAAlB1c,OAAAC,EAAA,EAAAD,CAAA,GAAgCxB,EAAO+jB,EAAKhjB,MAAMmd,QAAW,KAChF,GAAK2hB,EAIE,CACL,GAAIA,EAAaK,QAAUL,EAAaK,OAAOj/B,QAAU,GAAI,OACxD4+B,EAAaK,SAAQL,EAAaK,OAAS,IAChDL,EAAaK,OAAO3vB,KAAK,IACzBvQ,EAAO+jB,EAAKhjB,MAAMmd,OAAS2hB,OAN3B7/B,EAAOuQ,KAAK,CAAE2vB,OAAQ,CAAC,MACvBL,EAAe7/B,EAAOA,EAAOiB,OAAS,GAQxC8iB,EAAKc,SAAS,CAAE7kB,WAChB+jB,EAAKnjB,MAAMq7B,SAASlY,EAAKhjB,MAAMmd,MAAO,SAAU2hB,EAAaK,SAlNhDnc,EAqNfuc,iBAAmB,SAAAL,GACjB,IAAMjgC,EAAMwB,OAAAuoB,GAAA,EAAAvoB,CAAQuiB,EAAKhjB,MAAMf,QACzB6/B,EAAe7/B,EAAO+jB,EAAKhjB,MAAMmd,OACvC2hB,EAAaK,OAAOK,OAAON,EAAY,GACvClc,EAAKc,SAAS,CAAE7kB,WAChB+jB,EAAKnjB,MAAMq7B,SAASlY,EAAKhjB,MAAMmd,MAAO,SAAU2hB,EAAaK,SA1NhDnc,EA6Nfyc,eAAiB,WAAM,IAAAjT,EAC4BxJ,EAAKnjB,MAA9Cg/B,EADarS,EACbqS,gBACRa,EAFqBlT,EACGkT,wBAExB1c,EAAKc,SAAS,CAAE7kB,OAAQwC,KAAKC,MAAMD,KAAKE,UAAUk9B,IAAkBhG,SAAS,KAhOhE7V,EAmOfxb,MAAQ,WACN,GAAKwb,EAAKhjB,MAAM64B,QAAhB,CADY,IAAA9L,EAE2B/J,EAAKnjB,MAApCJ,EAFIstB,EAEJttB,UAAWlB,EAFPwuB,EAEOxuB,QAASC,EAFhBuuB,EAEgBvuB,OACtBgC,EAAOC,OAAAC,EAAA,EAAAD,CAAA,GAAQuiB,EAAKhjB,MAAMf,OAAO+jB,EAAKhjB,MAAMmd,QAMlD,GAJsB,OAAlB3c,EAAQqM,YAAoCxO,IAAlBmC,EAAQqM,QAAqBrM,EAAQqM,OAASrM,EAAQqM,OAE1D,SAAtBrM,EAAQg7B,YAAsBh7B,EAAQg7B,UAAY,IAElDh7B,EAAQ2+B,OACV,GAA8B,IAA1B3+B,EAAQ2+B,OAAOj/B,OAAcM,EAAQ2+B,OAAS,OAC7C,CAEH,IADA,IAAMA,EAAM1+B,OAAAuoB,GAAA,EAAAvoB,CAAQD,EAAQ2+B,QACnBjtB,EAAIitB,EAAOj/B,OAAS,EAAGgS,GAAK,IAAKA,EAAG,CAC3C,IAAMytB,EAAQR,EAAOjtB,GACrB,IAAKytB,EAAMpnB,QAAUonB,EAAMv+B,MAAO,OAAO4D,EAAMS,MAAN,6DACpC,GAAIk6B,EAAMpnB,OAASonB,EAAMv+B,QAA8B,IAArB+9B,EAAOjtB,GAAGqC,OAAkB,CAEjE,IAAMorB,EAAKl/B,OAAAC,EAAA,EAAAD,CAAA,GAAQ0+B,EAAOjtB,WACnBytB,EAAMprB,OACb4qB,EAAOjtB,GAAKytB,GAGhBn/B,EAAQ2+B,OAASA,EAGrBnc,EAAKc,SAAS,CAAEwL,QAAQ,IACxBjpB,IAAM+qB,MAAN,eAAA7qB,OAA2BhI,EAA3B,WAAAgI,OAA4C/H,EAA5C,YAAA+H,OAA6Dyc,EAAKhjB,MAAMmd,OAAS3c,EAAS,CAAEgvB,QAAS,CAAEC,aAAchwB,KAAeqoB,KAAK,WACvI9iB,EAAMC,QAAQ,gCACd+d,EAAKc,SAAS,CAAEwL,QAAQ,EAAOuJ,SAAS,MACvC7Q,MAAM,SAAAxlB,GACP,GAAIA,EAAIoE,UAAoC,MAAxBpE,EAAIoE,SAAS1D,OAE/B,OADA8f,EAAKc,SAAS,CAAEwL,QAAQ,IACjBtqB,EAAMC,QAAQ,uBAChB+d,EAAKc,SAAS,CAAEwL,QAAQ,IAC/B,IAAMvpB,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,uCAA8BF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,yBACtJW,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,aArQlCohB,EAAKhjB,MAAQ,CACXmd,MAAO,EACP0b,SAAS,EACTvJ,QAAQ,EACRrwB,OAAQ,GACR2gC,mBAAmB,GARR5c,qFAcbvb,KAAKqc,SAAS,CAAE7kB,OAAQwC,KAAKC,MAAMD,KAAKE,UAAU8F,KAAK5H,MAAMg/B,8DAG3CjN,GAAW,IACrBiN,EAAmBp3B,KAAK5H,MAAxBg/B,eAER,GAAIjN,EAAUiN,eAAe3+B,OAAS,GAA+B,IAA1B2+B,EAAe3+B,OAAc,OAAOuH,KAAKqc,SAAS,CAAE3G,MAAO,EAAGle,OAAQ,GAAI45B,SAAS,IACzH,GAAwC,IAApCjH,EAAUiN,eAAe3+B,QAAgB2+B,EAAe3+B,OAAS,EAAG,OAAOuH,KAAKqc,SAAS,CAAE3G,MAAO,EAAGle,OAAQwC,KAAKC,MAAMD,KAAKE,UAAUk9B,IAAkBhG,SAAS,IAGzK,IADA,IAAMgH,EAAYhB,EAAe3+B,OAAS0xB,EAAUiN,eAAe3+B,OAAS2+B,EAAe3+B,OAAS0xB,EAAUiN,eAAe3+B,OACpHgS,EAAI,EAAGA,EAAI2tB,IAAa3tB,EAAG,CAClC,IAAM4tB,EAAoBlO,EAAUiN,eAAe3sB,GAC7C6tB,EAAoBlB,EAAe3sB,GACzC,GAAK4tB,GAAsBC,EAA3B,CACK,IAAMD,GAAqBC,GAAuBD,IAAsBC,EAAoB,CAE/F,IAAM9+B,EAAW,CAAEhC,OAAQwC,KAAKC,MAAMD,KAAKE,UAAUk9B,IAAkBhG,SAAS,GAEhF,OADIpxB,KAAKzH,MAAMmd,MAAQ0hB,EAAe3+B,SAAQe,EAASkc,MAAQ,GACxD1V,KAAKqc,SAAS7iB,GAIvB,IAAK,IAAMmjB,KAAY2a,GAAsB,CAC3C,IAAMiB,EAAejB,GAAqB3a,GAE1C,GAAI0b,EAAkBE,KAAkBD,EAAkBC,GAAe,OAAOv4B,KAAKqc,SAAS,CAAE7kB,OAAQwC,KAAKC,MAAMD,KAAKE,UAAUk9B,IAAkBhG,SAAS,IAI/J,IAAKiH,EAAkBX,QAAUY,EAAkBZ,OAAQ,OAAO13B,KAAKqc,SAAS,CAAE7kB,OAAQwC,KAAKC,MAAMD,KAAKE,UAAUk9B,IAAkBhG,SAAS,IAC1I,GAAIiH,EAAkBX,SAAWY,EAAkBZ,OAAQ,OAAO13B,KAAKqc,SAAS,CAAE7kB,OAAQwC,KAAKC,MAAMD,KAAKE,UAAUk9B,IAAkBhG,SAAS,IAC/I,GAAIiH,EAAkBX,QAAUY,EAAkBZ,OAAQ,CAC7D,IAAMc,EAA0BH,EAAkBX,OAC5Ce,EAA0BH,EAAkBZ,OAClD,IAAMc,GAA2BC,GAA6BD,IAA4BC,EAA0B,OAAOz4B,KAAKqc,SAAS,CAAE7kB,OAAQwC,KAAKC,MAAMD,KAAKE,UAAUk9B,IAAkBhG,SAAS,IACnM,GAAIoH,GAA2BC,EAAyB,CAC3D,GAAID,EAAwB//B,SAAWggC,EAAwBhgC,OAAQ,OAAOuH,KAAKqc,SAAS,CAAE7kB,OAAQwC,KAAKC,MAAMD,KAAKE,UAAUk9B,IAAkBhG,SAAS,IAEzJ,IAAK,IAAIsH,EAAI,EAAGA,EAAIF,EAAwB//B,SAAUigC,EAGpD,IAFA,IAAMC,EAAyBH,EAAwBE,GACjDE,EAAyBH,EAAwBC,GACvDnG,EAAA,EAAAsG,EAAkB7B,GAAlBzE,EAAAsG,EAAApgC,OAAA85B,IAAoC,CAA/B,IAAMhjB,EAAGspB,EAAAtG,GACZ,GAAIoG,GAA0BC,GAA0BD,EAAuBppB,KAASqpB,EAAuBrpB,GAAM,OAAOvP,KAAKqc,SAAS,CAAE7kB,OAAQwC,KAAKC,MAAMD,KAAKE,UAAUk9B,IAAkBhG,SAAS,IACpM,IAAMuH,GAA0BC,GAA4BD,IAA2BC,EAAyB,OAAO54B,KAAKqc,SAAS,CAAE7kB,OAAQwC,KAAKC,MAAMD,KAAKE,UAAUk9B,IAAkBhG,SAAS,QASrN,IAAIpxB,KAAKzH,MAAM64B,QAAf,CAEA,IAAM0H,EAAgB1B,EAAep3B,KAAKzH,MAAMmd,OAC1CqjB,EAAY/4B,KAAKzH,MAAMf,OAAOwI,KAAKzH,MAAMmd,OAG/C,GAAIqjB,EACF,IAAK,IAAMpc,KAAY2a,GAAsB,CAC3C,IAAMiB,EAAejB,GAAqB3a,GAC1C,GAAKmc,EAEE,CACL,GAAoC,MAA/BA,EAAcP,IAAoD,MAA3BQ,EAAUR,IAAyBO,EAAcP,KAAkBQ,EAAUR,GAAgB,OAAOv4B,KAAKqc,SAAS,CAAE+U,SAAS,IACpK,GAAmC,MAA/B0H,EAAcP,IAAoD,MAA3BQ,EAAUR,GAAuB,OAAOv4B,KAAKqc,SAAS,CAAE+U,SAAS,IAC5G,GAAmC,MAA/B0H,EAAcP,IAAoD,MAA3BQ,EAAUR,GAAuB,OAAOv4B,KAAKqc,SAAS,CAAE+U,SAAS,SAJjH,GAAI2H,EAAUR,GAAe,OAAOv4B,KAAKqc,SAAS,CAAE+U,SAAS,IAUnE,IAAM4H,EAAsBF,EAAgBA,EAAcpB,OAAS,KAC7DuB,EAAkBF,EAAYA,EAAUrB,OAAS,KACvD,GAAIsB,IAAwBC,EAAiB,OAAOj5B,KAAKqc,SAAS,CAAE+U,SAAS,IACxE,IAAK4H,GAAuBC,EAAiB,KAAA7+B,GAAA,EAAAC,GAAA,EAAAC,OAAA1D,EAAA,IAChD,QAAA2D,EAAAC,EAAoBy+B,EAApBx+B,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAqC,KAA1B89B,EAA0B39B,EAAAZ,MACnC,GAAIu+B,EAAMpnB,OAASonB,EAAMv+B,MAAO,OAAOqG,KAAKqc,SAAS,CAAE+U,SAAS,KAFlB,MAAAr2B,IAAAV,GAAA,EAAAC,EAAAS,GAAA,YAAAX,GAAA,MAAAI,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAX,EAAA,MAAAC,SAI3C,GAAI0+B,GAAuBC,EAAiB,CACjD,IAAK,IAAIxuB,EAAI,EAAGA,EAAIuuB,EAAoBvgC,SAAUgS,EAGhD,IAFA,IAAMmtB,EAAgBoB,EAAoBvuB,GACpCyuB,EAAYD,EAAgBxuB,GAClC0uB,EAAA,EAAAC,EAAkBpC,GAAlBmC,EAAAC,EAAA3gC,OAAA0gC,IAAoC,CAA/B,IAAM5pB,EAAG6pB,EAAAD,GAEZ,GAAID,GAAatB,EAAcroB,IAAQ2pB,EAAU3pB,IAAQqoB,EAAcroB,KAAS2pB,EAAU3pB,GAAM,OAAOvP,KAAKqc,SAAS,CAAE+U,SAAS,IAC3H,GAAI8H,IAActB,EAAcroB,IAAQ2pB,EAAU3pB,GAAM,OAAOvP,KAAKqc,SAAS,CAAE+U,SAAS,IACxF,GAAI8H,GAAatB,EAAcroB,KAAS2pB,EAAU3pB,GAAM,OAAOvP,KAAKqc,SAAS,CAAE+U,SAAS,IAGjG,GAAI4H,EAAoBvgC,SAAWwgC,EAAgBxgC,OAAQ,CAEzD,GAAIugC,EAAoBvgC,OAASwgC,EAAgBxgC,OAAQ,OAAOuH,KAAKqc,SAAS,CAAE+U,SAAS,IAGvF,IAAK,IAAI3mB,EAAIuuB,EAAoBvgC,OAAQgS,EAAIwuB,EAAgBxgC,SAAUgS,EAAG,CACxE,IAAMyuB,EAAYD,EAAgBxuB,GAClC,GAAIyuB,EAAUpoB,OAASooB,EAAUv/B,MAAO,OAAOqG,KAAKqc,SAAS,CAAE+U,SAAS,IAG5E,2CA0JE,IAAAnV,EAAAjc,KACFyzB,EAAWzzB,KAAKyzB,SADdzJ,EAE2ChqB,KAAK5H,MAAhDg/B,EAFApN,EAEAoN,eAAgBjgC,EAFhB6yB,EAEgB7yB,MAAOL,EAFvBkzB,EAEuBlzB,QAASC,EAFhCizB,EAEgCjzB,OAClCsiC,KAAcliC,EAAML,KAAYK,EAAML,GAASC,OAAYI,EAAML,GAASC,GAAQuiC,QAClFC,EAAiBnC,EAAep3B,KAAKzH,MAAMmd,QAAU,GACrD8jB,EAAc,GACpB,IAAK,IAAMjqB,KAAO+nB,GAAsB,CACtC,IAAMiB,EAAejB,GAAqB/nB,GACpCwpB,EAAY/4B,KAAKzH,MAAMf,OAAOwI,KAAKzH,MAAMmd,OAC/C8jB,EAAYjB,GAAgBQ,GAAyC,KAA5BA,EAAUR,GAAuB,GAAKQ,GAA8B,UAAjBR,GAAwD,IAA5BQ,EAAUR,GAAsB,IAAMQ,IAAaA,EAAUR,IAAiBgB,EAAehB,KAAuB,GAI9O,IAAMnH,EAAUpxB,KAAKzH,MAAM64B,QAErBqI,EAAgB,GAChBV,EAAY/4B,KAAKzH,MAAMf,OAAOwI,KAAKzH,MAAMmd,OAC/C,GAAIqjB,GAAaA,EAAUrB,OACzB,IADiC,IAAAjP,EAAA,SACxBhe,GACP,IAAMytB,EAAQa,EAAUrB,OAAOjtB,GAC/BgvB,EAAc1xB,KACZrK,EAAAC,EAAAC,cAACi5B,GAAD,CAAetnB,IAAK9E,GAClB/M,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKyG,MAAO,CAAC8S,QAAS,OAAQuiB,WAAY,SAAUtiB,eAAgB,kBAApE,SACS3M,EAAI,EACX/M,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQC,OAAK,EAAC4D,QAAQ,SAAS1D,QAAS,SAAAN,GAAC,OAAI+W,EAAK6b,iBAAiBrtB,OAErE/M,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACub,GAAD,CAAkB9U,MAAO,CAAC8S,QAAS,UAAnC,SACAzZ,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOtS,OAAK,EAACjO,MAAOu+B,EAAMpnB,OAAS,GAAIzM,MAAO,CAACs1B,aAAc,MAAOC,UAAW,OAAQtf,SAAU,SAAApV,GAAC,OAAI+W,EAAKub,cAAc/sB,EAAG,QAASvF,EAAEN,OAAOjL,UAC9I+D,EAAAC,EAAAC,cAACub,GAAD,CAAkB9U,MAAO,CAAC8S,QAAS,UAAnC,SACAzZ,EAAAC,EAAAC,cAACg2B,GAAD,CAAUj6B,MAAOu+B,EAAMv+B,OAAS,GAAI0K,MAAO,CAACu1B,UAAW,OAAQtf,SAAU,SAAApV,GAAC,OAAI+W,EAAKub,cAAc/sB,EAAG,QAASvF,EAAEN,OAAOjL,UACtH+D,EAAAC,EAAAC,cAAA,OAAKyG,MAAO,CAAEu1B,UAAW,QACvBl8B,EAAAC,EAAAC,cAACi8B,GAAA,EAAD,CAAUpxB,MAAM,SAASqxB,QAAS5B,EAAMprB,SAAU,EAAOwN,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKub,cAAc/sB,EAAG,SAAUvR,EAAK4gC,iBAftHrvB,EAAI,EAAGA,EAAIsuB,EAAUrB,OAAOj/B,SAAUgS,EAAGge,EAAzChe,GAyBX,OACE/M,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,SAASC,WAAW,mGAAmG8S,cAAyBzd,EAAAC,EAAAC,cAACyH,GAAA,EAAOkV,MAAR,KAClK7c,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQmV,SAA+B,IAArBxa,KAAKzH,MAAMmd,OAAe0b,EAAS7rB,KAAK,eAAeC,QAASxF,KAAKk3B,UAAWlyB,KAAK,UACvGtH,EAAAC,EAAAC,cAACyH,GAAA,EAAOoV,GAAR,CAAW7Z,KAAI,GAAA9B,OAAKkB,KAAKzH,MAAMmd,MAAQ,EAAxB,KAAA5W,OAA6BkB,KAAKzH,MAAMmd,OAAS0hB,EAAe3+B,OAAS,EAAI2+B,EAAe3+B,OAASuH,KAAKzH,MAAMmd,MAAQ,KACrI2jB,EAMF37B,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQmV,SAAUxa,KAAKzH,MAAMmd,OAAS,GAAK1V,KAAKzH,MAAMmd,OAAS0hB,EAAe3+B,OAAQ8M,KAAMvF,KAAKzH,MAAMmd,OAAS0hB,EAAe3+B,OAAS,EAAI,MAAQ,gBAAiB+M,QAASxF,KAAKm3B,UAAWnyB,KAAK,UALnMtH,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CACEE,UAAQ,EACR5Y,QAAQ,wDACR8Y,QAAStkB,EAAAC,EAAAC,cAAA,YAAMF,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQmV,UAAQ,EAACjV,KAAK,MAAMw0B,UAAQ,EAAC/0B,KAAK,gBAK/DtH,EAAAC,EAAAC,cAACo8B,GAAD,CACEj1B,KAAK,SACLixB,OAAQ,CACN,CAAEvtB,MAAO,OAAQotB,SAAUyB,GAAqB/C,WAAY56B,MAAO6/B,EAAYlC,GAAqB/C,aACpG,CAAE9rB,MAAO,WAAYotB,SAAUyB,GAAqBjD,cAAe16B,MAAO6/B,EAAYlC,GAAqBjD,eAAgB6B,YAAasD,EAAYlC,GAAqB/C,aACzK,CAAE9rB,MAAO,MAAOotB,SAAUyB,GAAqB7C,UAAW96B,MAAO6/B,EAAYlC,GAAqB7C,WAAYyB,YAAasD,EAAYlC,GAAqB/C,cAE9Jd,SAAUA,IAEZ/1B,EAAAC,EAAAC,cAACo8B,GAAD,CACEj1B,KAAK,QACLixB,OAAQ,CACN,CAAEvtB,MAAO,OAAQotB,SAAUyB,GAAqBxmB,MAAOnX,MAAO6/B,EAAYlC,GAAqBxmB,QAC/F,CAAErI,MAAO,MAAOotB,SAAUyB,GAAqB1nB,IAAKjW,MAAO6/B,EAAYlC,GAAqB1nB,KAAMsmB,YAAasD,EAAYlC,GAAqBxmB,SAElJ2iB,SAAUA,IAEZ/1B,EAAAC,EAAAC,cAACo8B,GAAD,CACEj1B,KAAK,cACLixB,OAAQ,CACN,CAAEvtB,MAAO,OAAQotB,SAAUyB,GAAqBvX,YAAaiT,UAAU,EAAMr5B,MAAO6/B,EAAYlC,GAAqBvX,eAEvH0T,SAAUA,IAEZ/1B,EAAAC,EAAAC,cAACo8B,GAAD,CACEj1B,KAAK,SACLixB,OAAQ,CACN,CAAEvtB,MAAO,YAAaotB,SAAUyB,GAAqBzC,SAAUl7B,MAAO6/B,EAAYlC,GAAqBzC,WACvG,CAAEpsB,MAAO,gBAAiBotB,SAAUyB,GAAqB3C,aAAch7B,MAAO6/B,EAAYlC,GAAqB3C,gBAEjHlB,SAAUA,IAEZ/1B,EAAAC,EAAAC,cAACo8B,GAAD,CACEj1B,KAAK,SACLixB,OAAQ,CACN,CAAEvtB,MAAO,OAAQotB,SAAUyB,GAAqBnD,WAAYx6B,MAAO6/B,EAAYlC,GAAqBnD,aACpG,CAAE1rB,MAAO,WAAYotB,SAAUyB,GAAqBrD,cAAegG,OAAQT,EAAYlC,GAAqBrD,eAAgBiC,YAAasD,EAAYlC,GAAqBnD,aAC1K,CAAE1rB,MAAO,YAAaotB,SAAUyB,GAAqBvD,UAAWoC,UAAU,EAAM14B,QAAS,CAAC,CAAEmD,KAAM,OAAQjH,MAAO,QAAU,CAAEiH,KAAM,UAAWjH,MAAO,WAAa,CAAEiH,KAAM,MAAOjH,MAAO,QAAUA,MAAO6/B,EAAYlC,GAAqBvD,aAE5ON,SAAUA,IAEZ/1B,EAAAC,EAAAC,cAACo8B,GAAD,CACEj1B,KAAK,QACLixB,OAAQ,CACN,CAAEvtB,MAAO,SAAUotB,SAAUyB,GAAqBlyB,MAAOA,OAAO,EAAMzL,MAAO6/B,EAAYlC,GAAqBlyB,SAEhHquB,SAAUA,IAEZ/1B,EAAAC,EAAAC,cAACo8B,GAAD,CACEj1B,KAAK,SACLkxB,KACEv4B,EAAAC,EAAAC,cAAC24B,GAAD,KACE74B,EAAAC,EAAAC,cAACooB,GAAA,WAAD,KACEtoB,EAAAC,EAAAC,cAAC64B,GAAD,KACE/4B,EAAAC,EAAAC,cAAC8c,GAAA,EAAD,KACG+e,GAEH/7B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACk5B,GAAD,CAAkBvnB,IAAKwpB,GAAaA,EAAUrB,OAASqB,EAAUrB,OAAOj/B,OAAS,EAAG+M,QAASxF,KAAK63B,eAChGn6B,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,MAAMC,KAAK,eAQpCtH,EAAAC,EAAAC,cAACs8B,GAAD,KACEx8B,EAAAC,EAAAC,cAAC0tB,GAAD,CAAa/b,IAAI,wBAAwBrG,QAAQ,QAAQ5D,OAAK,EAACwc,UAAQ,EAACtc,QAASxF,KAAKg4B,eAAgBvyB,KAAMzF,KAAKzH,MAAMsvB,OAAS,OAASuJ,EAAU,QAAU,SAC7J1zB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQmV,SAAUxa,KAAKzH,MAAMsvB,SAAWuJ,EAASloB,QAAQ,OAAO9D,MAAM,QAAQI,QAASxF,KAAKD,iBA3Y1EuI,IAAMgU,WAuZnB9Y,gBAAW0f,YA5dF,SAAA3qB,GACtB,MAAO,CACLzB,QAASyB,EAAMzB,QACfC,OAAQwB,EAAMxB,OACdI,MAAOoB,EAAMpB,MACba,UAAWO,EAAMP,YAIM,SAAAmG,GACzB,MAAO,CACL2iB,cAAe,kBAAM3iB,EAAShD,EAAWuJ,GAAM1D,aAidzBkiB,CAA6C+T,SChfjEkD,cACJ,SAAAA,IAAgBnhC,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAm6B,GACdn6B,KAAKo6B,QAAU,GACfp6B,KAAKq6B,gBAAkB,oDAGpB1hC,EAAMyhC,EAAStY,GACdA,EAAU9hB,KAAKq6B,gBAAgB1hC,GAAQyhC,EACtCp6B,KAAKo6B,QAAQzhC,GAAQyhC,sCAGftY,GACX,IAAMwY,EAAYxY,EAAW9hB,KAAKq6B,gBAAkBr6B,KAAKo6B,QACrDG,EAAM,GACV,IAAK,IAAI5hC,KAAQ2hC,EAAW,CAC1B,IAAIE,EAAO,GACLC,EAAcH,EAAU3hC,GAC9B,IAAK,IAAI+hC,KAAKD,EACZD,GAAI,IAAA17B,OAAQ27B,EAAYC,IACpBC,SAASD,EAAG,MAAQD,EAAYhiC,OAAS,IAAG+hC,GAAQ,MAE1DD,GAAG,KAAAz7B,OAASnG,EAAT,KAAAmG,OAAiB07B,GAEtB,OAAOD,WAIX,SAASK,GAAiBC,EAAY3xB,GAIpC,IAAIkxB,EAAU,GACVC,EAAkB,GAGlBS,EAAU,GAEd,GAAI1tB,MAAMC,QAAQwtB,IAAeA,EAAWpiC,OAAS,EACnD,GAAuB,kBAAZyQ,EAET,IAAK,IAAID,KADTC,EAAUA,EAAQyY,cACDkZ,EAAY,CAC3B,IAAIE,GAAiB,EACjBllB,EAAaglB,EAAW5xB,GAAM0Y,cAMlC,GALI9L,EAAWmlB,WAAW,OACxBD,GAAiB,EACjBllB,EAAaA,EAAW+E,MAAM,EAAG/E,EAAWpd,SAG1Cod,EAAWmlB,WAAW,KACxBnlB,EAAaA,EAAW+E,MAAM,EAAG/E,EAAWpd,QACxCyQ,EAAQkN,SAASP,IACdklB,EACIA,GAAgBV,EAAgBtyB,KAAK8yB,EAAW5xB,IADpCmxB,EAAQryB,KAAK8yB,EAAW5xB,IAE7C6xB,EAAQ/yB,KAAK,CAAEkzB,QAAQ,EAAMnZ,SAAUiZ,KAClCD,EAAQ/yB,KAAK,CAAEkzB,QAAQ,EAAOnZ,SAAUiZ,QAC1C,CACLllB,EAAaA,EAAWmlB,WAAW,OAASnlB,EAAW+E,MAAM,EAAG/E,EAAWpd,QAAUod,EAAWmlB,WAAW,OAASnlB,EAAW+E,MAAM,EAAG/E,EAAWpd,QAAUod,EAC7J,IAAIqlB,EAAa,IAAIzsB,OAAJ,UAAA3P,OAAkC+W,EA5DhD3K,QAAQ,yBAAyB,QA4DnB,WAAwD,OACrC,IAAhChC,EAAQ8N,OAAOkkB,IACZH,EACIA,GAAgBV,EAAgBtyB,KAAK8yB,EAAW5xB,IADpCmxB,EAAQryB,KAAK8yB,EAAW5xB,IAE7C6xB,EAAQ/yB,KAAK,CAAEkzB,QAAQ,EAAMnZ,SAAUiZ,KAClCD,EAAQ/yB,KAAK,CAAEkzB,QAAQ,EAAOnZ,SAAUiZ,UAG9C,GAAI3tB,MAAMC,QAAQnE,GACvB,IAAK,IAAIE,KAAQF,EAAS,CACxB,IAAM9K,EAAMw8B,GAAgBC,EAAY3xB,EAAQE,IAChD0xB,EAAUA,EAAQh8B,OAAOV,EAAI+8B,aACzB/8B,EAAIg8B,UAASA,EAAUA,EAAQt7B,OAAOV,EAAIg8B,UAC1Ch8B,EAAIi8B,kBAAiBA,EAAkBA,EAAgBv7B,OAAOV,EAAIi8B,kBAK5E,MAAO,CACLc,YAAaL,EACbV,QAASA,EAAQ3hC,OAAS,EAAI2hC,EAAU,KACxCC,gBAAiBA,EAAgB5hC,OAAS,EAAI4hC,EAAkB,MAIrD,IAAAe,GAAA,SAAC9jC,EAAS+jC,GACvB,IAAMC,EAAqB,CACzBvb,YAAasb,EAAQE,iBACrBjZ,QAAS+Y,EAAQG,aACjB1qB,MAAOuqB,EAAQI,WACfrxB,KAAMixB,EAAQjxB,KAAOixB,EAAQjxB,KAAKZ,MAAM,MAAQ,IAG5CyxB,EAAS,CACbS,iBAAiB,EACjBC,gBAAgB,GAEdC,GAAuB,EACvBC,GAAwB,EAEtBC,EAAgB,IAAI3B,GAC1B,IAAK,IAAI4B,KAAkBzkC,EAAS,CAClC,IAAM0kC,EAAc1kC,EAAQykC,GACtBE,EAAYX,EAAmBS,IAAmBV,EAAQU,GAEhE,GAAKE,EAAL,CAKA,IAAMC,EAAatB,GAAgBoB,EAAaC,GAMhD,IAAK,IAAIxxB,KAJLyxB,EAAW9B,SAAS0B,EAAc5mB,IAAI6mB,EAAgBG,EAAW9B,SAAS,GAC1E8B,EAAW7B,iBAAiByB,EAAc5mB,IAAI6mB,EAAgBG,EAAW7B,iBAAiB,GAGhF6B,EAAWf,YAAa,CACpC,IAAML,EAAUoB,EAAWf,YAAY1wB,GAChB,IAAnBqwB,EAAQriC,SAERqiC,EAAQhZ,UACV+Z,GAAwB,GACD,IAAnBf,EAAQG,SAAiBA,EAAOS,iBAAkB,IAC5CZ,EAAQhZ,WAClB8Z,GAAuB,GACA,IAAnBd,EAAQG,SAAiBA,EAAOU,gBAAiB,WAnBvDC,GAAuB,EA+B3B,OAPKC,GAA0BD,GAGnBC,GAAyBD,EAAsBX,EAAOS,iBAAkB,GAC1EE,GAAwBC,IAAuBZ,EAAOU,gBAAiB,IAH/EV,EAAOS,iBAAkB,EACzBT,EAAOU,gBAAiB,GAI1BG,EAAcb,OAASA,EAAOS,iBAAmBT,EAAOU,eACjDG,igICtGT,IAAM1Z,GAAUrlB,IAAOC,IAAVm/B,MAOPC,GAAWr/B,IAAOmP,KAAVmwB,MAKRC,GAAWv/B,IAAOC,IAAVu/B,KAaU,SAAAnkC,GAAK,cAAA0G,OAAY1G,EAAMytB,OAAlB,QAUvB3B,GAAUnnB,IAAOC,IAAVw/B,MASPC,GAAQ1/B,IAAOC,IAAV0/B,MAQLC,GAAO5/B,IAAOC,IAAV4/B,KAKY,SAAAxkC,GAAK,OAAmB,MAAfA,EAAMgN,MAhErC,SAAyBswB,GACvB,IACMC,GAAc,MAATD,IAAsB,EAC3B7c,EAAc,IAAT6c,EACX,aAAA52B,QAHoB,SAAT42B,IAAsB,GAGjC,KAAA52B,OAAmB62B,EAAnB,KAAA72B,OAAwB+Z,EAAxB,KA4DmDgkB,CAAezkC,EAAMgN,OAAS,YAE7E03B,GAAU//B,IAAOC,IAAV+/B,MAUPC,GAAcjgC,IAAOC,IAAVigC,KAGF,SAAA7kC,GAAK,OAAIA,EAAM8kC,aAAe,QAAU,UAIjDC,GAASpgC,IAAOC,IAAVogC,MAoBNz7B,GAAQ5E,IAAOY,EAAV0/B,MAKLC,GAAcvgC,IAAOC,IAAVugC,MAKXtb,GAAQllB,IAAOY,EAAV6/B,MAQLC,GAAY1gC,IAAOY,EAAV+/B,MAQTzR,GAASlvB,IAAOC,IAAV2gC,KAKDz9B,GAAOC,QAAQS,MAYpBg9B,GAAS7gC,IAAOmP,KAAV2xB,MAWNC,GAAU/gC,IAAOmP,KAAV6xB,MAOPC,GAAcjhC,IAAOC,IAAVihC,MAOXC,GAAanhC,IAAOC,IAAVmhC,KAEN,SAAA/lC,GAAK,OAAIA,EAAM0U,OAAS,EAAI,GACvB,SAAA1U,GAAK,OAAIA,EAAM0U,OAAS,QAAU,QAC7C,SAAA1U,GAAK,OAAIA,EAAM0U,OAAS,mBAAqB,KAG3CsxB,GAAkBrhC,IAAOC,IAAVqhC,MAOfC,GAAkBvhC,IAAOC,IAAVuhC,MAOfC,gMACav1B,GAAM,IAAA8b,EAC4C/kB,KAAK5H,MAA9DqmC,EADa1Z,EACb0Z,UAAWvnC,EADE6tB,EACF7tB,YAAaJ,EADXiuB,EACWjuB,QAASC,EADpBguB,EACoBhuB,OAAQM,EAD5B0tB,EAC4B1tB,YAC3CgkC,EAAUnkC,EAAYunC,GAE5B,GAAoB,IAAhBx1B,EAAKxQ,OAAc,OAAOwQ,EAC9B,IAAIC,EAAUD,EACd,IAAK,IAAMy1B,KAAmBrD,EAC5B,IAAI3e,GAAiBgiB,IACG,kBAApBA,EAAJ,CACA,IAAMC,EAAwB,IAAA7/B,OAAO4/B,EAAgBxzB,QAAQ,SAAU,IAAzC,KAE9BhC,EAAUA,EAAQgC,QAAQyzB,EAA0BtD,EAAQqD,IAG9D,GAAIx1B,EAAQkN,SAAS,oBAAsBrf,GAAUD,EAAS,CAC5D,IAAM8nC,EAAkB,GAClBC,EAAkBxnC,EAAYP,GAASC,GAC7C,IAAK,IAAM+D,KAAM+jC,EAAiB,CAChC,IAAMhkC,EAAagkC,EAAgB/jC,GAChBD,EAAWvD,SAAyC,kBAAvBuD,EAAWvD,SAAwB0B,OAAOgV,KAAKnT,EAAWvD,SAASmB,OAAS,EAEnH4iC,GAAWyD,GAAYjkC,EAAWvD,QAAS+jC,GAASJ,QAAQ2D,EAAgB72B,KAAhB,KAAAjJ,OAA0BhE,EAA1B,MADpD8jC,EAAgB72B,KAAhB,KAAAjJ,OAA0BhE,EAA1B,OAGnBoO,EAAUA,EAAQgC,QAAQ,kBAAmB0zB,EAAgBnmC,OAAS,EAAImmC,EAAgBpwB,KAAK,KAAO,IAExG,OAAOtF,mCASP,IANQ,IAAAoc,EACgEtlB,KAAK5H,MAArEZ,EADA8tB,EACA9tB,OAAQ2C,EADRmrB,EACQnrB,QAASskC,EADjBnZ,EACiBmZ,UAAWvnC,EAD5BouB,EAC4BpuB,YAAa6nC,EADzCzZ,EACyCyZ,IAAKloC,EAD9CyuB,EAC8CzuB,cAChDmoC,EAAgB,GAChB3D,EAAUnkC,EAAYunC,GACxBQ,GAAY,EAEPx0B,EAAI,EAAGA,EAAIjT,EAAOiB,SAAUgS,EAAG,CACtC,IAAM8R,EAAa/kB,EAAOiT,GACpBy0B,EAAmB,GACrBC,GAAiB,EACrB,IAAK,IAAM5G,KAAgB6G,GAAiB,CAC1C,IAAMC,EAAWD,GAAgB7G,QACJ3hC,IAAzB2lB,EAAW8iB,KACfH,EAAiBG,GAAYhE,GAAwB,UAAbgE,EAAuBr/B,KAAKs/B,gBAAgB/iB,EAAW8iB,IAAa9iB,EAAW8iB,GACvHF,EAAiBA,KAAoB5iB,EAAW8iB,IAElD,IAAM3H,EAASnb,EAAWmb,OACpB+B,EAAgB,GACtB,GAAI/B,EACF,IAAK,IAAIjtB,EAAI,EAAGA,EAAIitB,EAAOj/B,SAAUgS,EAAG,CACtC,IAAMytB,EAAQR,EAAOjtB,GAChBytB,EAAMpnB,OAAUonB,EAAMv+B,QACtBwlC,IAAgBA,GAAiB,GACtC1F,EAAc1xB,KACZrK,EAAAC,EAAAC,cAACsgC,GAAD,CAAY3uB,IAAG,QAAAzQ,OAAU2L,GAAKqC,OAAQorB,EAAMprB,QAC1CpP,EAAAC,EAAAC,cAACwgC,GAAD,KAAkB5xB,GAAOmG,gBAAgB3S,KAAKs/B,gBAAgBpH,EAAMpnB,SACpEpT,EAAAC,EAAAC,cAAC0gC,GAAD,KAAkB9xB,GAAOkG,gBAAgB1S,KAAKs/B,gBAAgBpH,EAAMv+B,YAKxEwlC,IACGF,IAAWA,GAAY,GAC5BD,EAAcj3B,KACZrK,EAAAC,EAAAC,cAAC6+B,GAAD,CAAOltB,IAAG,gBAAAzQ,OAAkB2L,IAC1B/M,EAAAC,EAAAC,cAAC++B,GAAD,CAAMv3B,MAAOmX,EAAW6iB,GAAgBh6B,SACxC1H,EAAAC,EAAAC,cAACk/B,GAAD,KACEp/B,EAAAC,EAAAC,cAACo/B,GAAD,CAAaE,gBAAiB3gB,EAAW6iB,GAAgBvK,YAAatY,EAAW6iB,GAAgBxK,qBAC/Fl3B,EAAAC,EAAAC,cAAA,WACI2e,EAAW6iB,GAAgB7K,aAAehY,EAAW6iB,GAAgB9K,qBACnE52B,EAAAC,EAAAC,cAACu/B,GAAD,KACE5gB,EAAW6iB,GAAgB/K,gBAAkB9X,EAAW6iB,GAAgBhL,wBAA0B12B,EAAAC,EAAAC,cAAA,OAAKwI,IAAI,oBAAoB3B,IAAKy6B,EAAiBE,GAAgB/K,gBAAkB6K,EAAiBE,GAAgBhL,0BAA8B,KACtP8K,EAAiBE,GAAgB3K,YAAcyK,EAAiBE,GAAgB5K,oBAAsB92B,EAAAC,EAAAC,cAAA,KAAGgH,OAAO,SAASC,IAAI,sBAAsBF,KAAMu6B,EAAiBE,GAAgB3K,YAAcyK,EAAiBE,GAAgB5K,qBAAsB0K,EAAiBE,GAAgB7K,aAAe2K,EAAiBE,GAAgB9K,sBAA4B4K,EAAiBE,GAAgB7K,aAAe2K,EAAiBE,GAAgB9K,2BAE/b19B,EAEJ8G,EAAAC,EAAAC,cAAC2hC,GAAD,CAAOnmB,GAAImD,EAAW6iB,GAAgBxvB,KAAO,IAAM,OAAQjL,KAAMu6B,EAAiBE,GAAgBxvB,KAAMhL,OAAO,UAC5G4H,GAAOmG,gBAAgBusB,EAAiBE,GAAgBtuB,SAE3DpT,EAAAC,EAAAC,cAAC0/B,GAAD,KAAc9wB,GAAOkG,gBAAgBwsB,EAAiBE,GAAgBrf,eACpE0Z,EAAchhC,OAAS,EACrBiF,EAAAC,EAAAC,cAACogC,GAAD,KAAcvE,GACd,IAEJld,EAAW6iB,GAAgBzK,eAAiBpY,EAAW6iB,GAAgB1K,uBACrEh3B,EAAAC,EAAAC,cAAC6/B,GAAD,CAAW94B,KAAMu6B,EAAiBE,GAAgBzK,eAAiBuK,EAAiBE,GAAgB1K,uBAAwB9vB,OAAO,UACnIlH,EAAAC,EAAAC,cAAA,OAAK6G,IAAKy6B,EAAiBE,GAAgBzK,eAAiBuK,EAAiBE,GAAgB1K,uBAAwBtuB,IAAI,0BAEzHxP,GAEJ2lB,EAAW6iB,GAAgBvK,WAAatY,EAAW6iB,GAAgBxK,mBACjEl3B,EAAAC,EAAAC,cAAC4hC,GAAD,CAAO76B,KAAMu6B,EAAiBE,GAAgBvK,WAAaqK,EAAiBE,GAAgBxK,mBAAoBhwB,OAAO,UACvHlH,EAAAC,EAAAC,cAAA,OAAK6G,IAAKy6B,EAAiBE,GAAgBvK,WAAaqK,EAAiBE,GAAgBxK,mBAAoBxuB,IAAI,0BAEjHxP,EAEF2lB,EAAW6iB,GAAgBjL,aAAe5X,EAAW6iB,GAAgBlL,sBAAyBgL,EAAiBE,GAAgBrL,YAA8D,SAAhDmL,EAAiBE,GAAgBrL,WAC5Kr2B,EAAAC,EAAAC,cAAC6hC,GAAD,KACEP,EAAiBE,GAAgBnL,gBAAkBiL,EAAiBE,GAAgBpL,wBAA0Bt2B,EAAAC,EAAAC,cAAA,OAAK6G,IAAKy6B,EAAiBE,GAAgBnL,gBAAkBiL,EAAiBE,GAAgBpL,wBAAyB5tB,IAAI,sBAAyB,KACnQmW,EAAW6iB,GAAgBjL,aAAe5X,EAAW6iB,GAAgBlL,qBAAuBgL,EAAiBE,GAAgBrL,YAA8D,SAAhDmL,EAAiBE,GAAgBrL,WAAjF,GAAAj1B,OAA6GogC,EAAiBE,GAAgBjL,aAAe+K,EAAiBE,GAAgBlL,qBAAuB,WAAQ,GAA7N,KAAAp1B,OAAmR,YAAhDogC,EAAiBE,GAAgBrL,WAA2B,oBAAsB,gBAArT,KAA0U,SAEtan9B,MAOd,OACE8G,EAAAC,EAAAC,cAAC8hC,GAAD,KACEhiC,EAAAC,EAAAC,cAAC0+B,GAAD,CAAUzW,OAAQkZ,EAAMA,EAAInZ,iBAAmB,IAC7CloB,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACw+B,GAAD,KAAW2C,EAAMA,EAAI7Y,SAAW,WAChCxoB,EAAAC,EAAAC,cAACggC,GAAD,YACAlgC,EAAAC,EAAAC,cAACkgC,GAAD,4BAGJpgC,EAAAC,EAAAC,cAAC+hC,GAAD,KACkD,aAA7CxlC,GAAWtD,EAAc+oC,iBAAiCX,EAAY,GAAK5D,EAAU7uB,GAAOvS,MAAM+F,KAAKs/B,gBAAgBnlC,GAAWtD,EAAc+oC,gBAAkB,KAAK,EAAM,GAAIpzB,GAAOqG,UAAYrG,GAAOvS,MAAME,GAAWtD,EAAc+oC,gBAAkB,IAAI,EAAM,GAAIpzB,GAAOqG,UACnRmsB,WAvHW1iB,aA0IP9Y,gBAAW0f,YA3VF,SAAA3qB,GACtB,MAAO,CACL1B,cAAe0B,EAAM1B,cACrBK,YAAaqB,EAAMrB,YACnBJ,QAASyB,EAAMzB,QACfC,OAAQwB,EAAMxB,OACdM,YAAakB,EAAMlB,YACnB0nC,IAAKxmC,EAAMwmC,MAIY,SAAA5gC,GACzB,MAAO,CACL2iB,cAAe,kBAAM3iB,EAAShD,EAAWuJ,GAAM1D,aA8UzBkiB,CAA6Csb,mwDCzVtE,OA+BKqB,GAAa9iC,IAAOC,IAAV8iC,MAWVC,GAA8BhjC,YAAOqlB,GAAPrlB,CAAHijC,KAGtB9/B,GAAOC,QAAQS,MAepBq/B,GAA6BljC,IAAOC,IAAVkjC,KAM5B,SAAA9nC,GAAK,OAAIA,EAAM+nC,MAAN,uIAMP,KAGAC,GAAwB/9B,aAAM09B,GAAN19B,CAAmC,CAC/D89B,MAAO,CAAEE,UAAW,IAAK/9B,OAAQ,KACjCg+B,IAAK,CAAED,UAAW,IAAK/9B,OAAQ,OAG3Bi+B,GAAmBxjC,IAAOC,IAAVwjC,MAoBhBC,GAA2B1jC,IAAOC,IAAV0jC,MAWxBC,GAAW5jC,IAAOmP,KAAV00B,KAEQ1gC,GAAOC,QAAQE,SAQ/BwgC,GAAsB9jC,IAAOC,IAAV8jC,MAInBC,eACJ,SAAAA,IAAe,IAAAxlB,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAA+gC,IACbxlB,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAA+nC,GAAAplB,KAAA3b,QAQFghC,aAAe,SAAAvC,GACbljB,EAAKc,SAAS,CAAEoiB,cAChBljB,EAAKnjB,MAAM6oC,gBAAgBxC,IAXdljB,EAcf2lB,uBAAyB,WACM,IAAzB3lB,EAAKhjB,MAAMkmC,WACfljB,EAAKylB,aAAazlB,EAAKhjB,MAAMkmC,UAAY,IAhB5BljB,EAmBf4lB,mBAAqB,WACf5lB,EAAKhjB,MAAMkmC,YAAcljB,EAAKnjB,MAAMlB,YAAYuB,OAAS,GAC7D8iB,EAAKylB,aAAazlB,EAAKhjB,MAAMkmC,UAAY,IAnBzCljB,EAAKhjB,MAAQ,CACXkmC,UAAW,EACX2C,cAAe,GACfC,kBAAmB,IALR9lB,0EAwBL,IAAAU,EAAAjc,KAAA+kB,EACiD/kB,KAAK5H,MAAtDlB,EADA6tB,EACA7tB,YAAaY,EADbitB,EACajtB,cAAeD,EAD5BktB,EAC4BltB,iBAC9BypC,EAAsB,GACtBjG,EAAUnkC,EAAY8I,KAAKzH,MAAMkmC,WAGnC2C,EAAgBphC,KAAKzH,MAAM6oC,cACzBG,EAAmB,GAPjBnnC,GAAA,EAAAC,GAAA,EAAAC,OAAA1D,EAAA,IAQR,QAAA2D,EAAAC,EAAsBtD,EAAtBuD,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAmC,KAAxBihC,EAAwB9gC,EAAAZ,MACjC,IAAK,IAAMuiB,KAAemf,EACpBnf,EAAY8e,WAAW,WAAate,GAAiBR,IAAgBA,EAAY8e,WAAW,SAC5FK,EAAQnf,KAAcqlB,EAAiBrlB,IAAe,IAXtD,MAAAnhB,IAAAV,GAAA,EAAAC,EAAAS,GAAA,YAAAX,GAAA,MAAAI,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAX,EAAA,MAAAC,GAeR,IAAMknC,EAAuBxoC,OAAOgV,KAAKuzB,GAAkB93B,IAAI,SAAAyS,GAE7D,OADKklB,GAAiC,UAAhBllB,IAAyBklB,EAAgBllB,GACxD,CAAEtb,KAAMsb,EAAaviB,MAAOuiB,MAEhCklB,GAAiBI,EAAqB/oC,OAAS,IAAG2oC,EAAgBI,EAAqB,GAAG7nC,OAG/F,IAAM8nC,EAAyBvqC,EAAYuS,IAAI,SAACiW,EAAchK,GAC5D,MAAO,CAAE9U,KAAM8e,EAAa0hB,GAAgBznC,MAAO+b,KAIrD,GAAI2lB,EAAS,KAAA5S,EAAA,SACAiW,GACT,IAAMx1B,EAAUmyB,EAAQqD,GACxB,IAAKx1B,GAAWw1B,EAAgB1D,WAAW,SAAW0D,EAAgB1D,WAAW,KAAM,iBACvF,IAAM0G,EAAShD,EAAgBxzB,QAAQ,SAAU,IACjD,GAAK+Q,EAAK1jB,MAAM8oC,oBAAsBK,EAAOtrB,SAAS6F,EAAK1jB,MAAM8oC,oBAAuBK,EAAO1G,WAAW,KAAM,iBAChHsG,EAAoBv5B,KAClBrK,EAAAC,EAAAC,cAAC2iC,GAAD,CAAkBhxB,IAAG,GAAAzQ,OAAK4/B,IACxBhhC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6iC,GAAD,KACE/iC,EAAAC,EAAAC,cAAA,KAAGG,UAAU,4BAAb,IAAAe,OAA6C4iC,EAA7C,MACEhD,EAAgB1D,WAAW,SAAWt9B,EAAAC,EAAAC,cAAC+iC,GAAD,cAA6B,MAKrEjjC,EAAAC,EAAAC,cAAA,SAAI4O,GAAOvS,MAAMiP,KAGnBw4B,EAAOtrB,SAAS,SAAW1Y,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,OAAK4H,QAAS,SAAAN,GAAC,OAAI/M,GAAMgO,UAAU+C,EAASw4B,IAASt7B,IAAKs7B,EAAQj9B,IAAKyE,KAAoB,MAE/HxL,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,SArBN,IAAK,IAAMglB,KAAmBrD,EAAS5S,EAA5BiW,GA2Bb,IAAMiD,KAAsB9pC,IAAsBC,GAC5C8pC,EAA4B/pC,GAAoBC,IAAmBD,GAAmD,IAA/BypC,EAAoB7oC,OACjH,OACEiF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,0BACA3Z,EAAAC,EAAAC,cAACiiC,GAAD,KACEniC,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAUC,WAAS,EAAChb,OAAK,EAACnK,QAAS+jC,EAAsB7nC,MAAOynC,EAAe9mB,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKI,SAAS,CAAE+kB,cAAeloC,EAAKS,SAAU6gB,SAAUmnB,EAAkBxlB,QAAStkB,EAAkBqkB,YAA+C,IAAlCulB,EAAuBhpC,QAAiBZ,EAA2C,qBAAxB,wBACnR6F,EAAAC,EAAAC,cAACijC,GAAD,KACEnjC,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAU3L,QAAM,EAAC4L,WAAS,EAAChb,OAAK,EAACnK,QAASgkC,EAAwB9nC,MAAOqG,KAAKzH,MAAMkmC,UAAWnkB,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAK+kB,aAAa9nC,EAAKS,QAAQ6gB,SAAUmnB,EAAkBxlB,QAAStkB,EAAkBqkB,YAA+C,IAAlCulB,EAAuBhpC,QAAiBZ,EAA2C,oBAAxB,wBACpR6F,EAAAC,EAAAC,cAACikC,GAAA,EAAD,KACEnkC,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQE,KAAK,WAAWC,QAASxF,KAAKkhC,uBAAwB1mB,SAAmC,IAAzBxa,KAAKzH,MAAMkmC,WAA0C,IAAvBvnC,EAAYuB,SAClHiF,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQE,KAAK,aAAaC,QAASxF,KAAKmhC,mBAAoB3mB,SAAUxa,KAAKzH,MAAMkmC,YAAcvnC,EAAYuB,OAAS,GAA4B,IAAvBvB,EAAYuB,YAI3IiF,EAAAC,EAAAC,cAACyZ,GAAD,qBAEA3Z,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOtS,OAAK,EAACrC,KAAK,SAAS4U,aAAa,OAAO+B,YAAY,mBAAmB5B,SAAU,SAAApV,GAAC,OAAI+W,EAAKI,SAAS,CAAEglB,kBAAmBn8B,EAAEN,OAAOjL,SAAUA,MAAOqG,KAAKzH,MAAM8oC,oBACrK3jC,EAAAC,EAAAC,cAACwiC,GAAD,CAAuB36B,KAAMm8B,EAA4B,QAAU,OACnElkC,EAAAC,EAAAC,cAACooB,GAAA,WAAD,KACEtoB,EAAAC,EAAAC,cAACqiC,GAAD,CAA4BE,MAAOyB,GAClC/pC,EACG6F,EAAAC,EAAAC,cAACmlB,GAAA,EAAD,CAAQjB,UAAQ,EAAC9c,KAAK,MAAMge,QAAM,IAClClrB,EACE4F,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACykB,GAAD,CAA4Bhe,MAAO,CAAEe,MAAOlF,GAAOC,QAAQK,MAA3D,2BACA9C,EAAAC,EAAAC,cAACykB,GAAD,KAA6BvqB,GAAiB,kBAEf,IAA/BwpC,EAAoB7oC,OAClBiF,EAAAC,EAAAC,cAACykB,GAAD,4BACAif,aA9GSh5B,IAAMgU,WA8HlB4G,eA3PU,SAAA3qB,GACvB,MAAO,CACLxB,OAAQwB,EAAMxB,OACdG,YAAaqB,EAAMrB,YACnBY,cAAeS,EAAMT,cACrBD,iBAAkBU,EAAMV,mBAsPbqrB,CAAyB6d,ovBCxPxC,IACMe,IAAsBC,GAAA,GAAA/oC,OAAAK,EAAA,EAAAL,CAAA+oC,GACzB3C,GAAgBtuB,MAAQ,KADC9X,OAAAK,EAAA,EAAAL,CAAA+oC,GAEzB3C,GAAgBrf,YAAc,MAFL/mB,OAAAK,EAAA,EAAAL,CAAA+oC,GAGzB3C,GAAgBjL,WAAa,MAHJn7B,OAAAK,EAAA,EAAAL,CAAA+oC,GAIzB3C,GAAgBlL,oBAAsB,MAJbl7B,OAAAK,EAAA,EAAAL,CAAA+oC,GAKzB3C,GAAgB7K,WAAa,KALJv7B,OAAAK,EAAA,EAAAL,CAAA+oC,GAMzB3C,GAAgB9K,oBAAsB,KANbyN,IA6BtBC,GAAWjlC,IAAOC,IAAVilC,MAIRC,GAAenlC,IAAOC,IAAVmlC,MASZC,GAAcrlC,IAAOC,IAAVqlC,MAYXC,GAAgBvlC,IAAOC,IAAVulC,MASb/D,eACJ,SAAAA,IAAe,IAAAjjB,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAw+B,IACbjjB,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAwlC,GAAA7iB,KAAA3b,QAqBFwiC,uBAAyB,WACvB,IAAMhpC,EAAW,CAAElE,OAAQ,CAAE0kB,MAAO1kB,OAAOmyB,WAAYnlB,OAAQhN,OAAOmtC,cACtElnB,EAAKc,SAAS7iB,IAxBD+hB,EA8DfmnB,iBAAmB,SAAAC,GAAU,OAAIpnB,EAAKc,SAAS,CAAEsmB,gBA9DlCpnB,EA4EfqnB,sBAAwB,SAACC,EAAYlmB,EAAUhjB,GAC7C,KAAImoC,GAAuBnlB,IAAahjB,EAAMlB,QAAUqpC,GAAuBnlB,IAA/E,CACA,IAAMnlB,EAAMwB,OAAAuoB,GAAA,EAAAvoB,CAAQuiB,EAAKhjB,MAAMf,QAC/B,GAAKA,EAAOqrC,GAGL,CACL,IAAMC,EAAK9pC,OAAAC,EAAA,EAAAD,CAAA,GAAQxB,EAAOqrC,IAC1BC,EAAMnmB,GAAYhjB,EAClBnC,EAAOqrC,GAAcC,MANE,CACvB,GAAID,EAAarrC,EAAOiB,OAAQ,MAAM,IAAIk/B,MAAM,2DAChDngC,EAAOuQ,KAAP/O,OAAAK,EAAA,EAAAL,CAAA,GAAe2jB,EAAWhjB,IAM5B4hB,EAAKc,SAAS,CAAE7kB,aAvFH+jB,EA0Ff0c,qBAAuB,WACrB1c,EAAKc,SAAS,CAAE7kB,OAAQwC,KAAKC,MAAMD,KAAKE,UAAUqhB,EAAKhjB,MAAM6+B,oBA3FhD7b,EA8FfwnB,gBAAkB,SAAA5oC,GAChBohB,EAAKc,SAAS,CAAEliB,QAASA,KA7FzBohB,EAAKhjB,MAAQ,CACXkmC,UAAW,EACXnpC,OAAQ,CACN0kB,MAAO1kB,OAAOmyB,WACdnlB,OAAQhN,OAAOmtC,aAEjBrL,eAAgB,GAChB5/B,OAAQ,GACRg8B,gBAAiB,GACjBr5B,QAAS,GACT6oC,YAAY,GAZDznB,sFAiBbvb,KAAK5H,MAAM0oB,gBACXxrB,OAAO6yB,iBAAiB,SAAUnoB,KAAKwiC,wBACvCxiC,KAAKijC,mEASL3tC,OAAO8yB,oBAAoB,SAAUpoB,KAAKwiC,mEAGxBrY,EAAW+Y,GAAW,IAAAne,EAEa/kB,KAAK5H,MAAlDrB,EAFgCguB,EAEhChuB,OAAQI,EAFwB4tB,EAExB5tB,MAAOL,EAFiBiuB,EAEjBjuB,QAASW,EAFQstB,EAERttB,SAAUD,EAFFutB,EAEEvtB,OAE1C,GAAI2yB,EAAUpzB,SAAWA,EAAQ,OAAOiJ,KAAKijC,oBAC7C,IAAME,EAAWhZ,EAAUhzB,MAAML,GAAWqzB,EAAUhzB,MAAML,GAASC,GAAU,KACzEqsC,EAAUjsC,EAAML,GAAWK,EAAML,GAASC,GAAU,KAC1D,GAAIosC,GAAYC,EAAS,CACvB,IAAM5pC,EAAW,GAEb/B,EAASX,GAASC,KAAYozB,EAAU1yB,SAASX,GAASC,KAC5DyC,EAASg6B,gBAAkB/7B,EAASX,GAASC,IAAW,GACxDyC,EAASW,QAAU1C,EAASX,GAASC,IAAW,IAIlD,IAAMssC,EAAalZ,EAAU3yB,OAAOV,GAASC,IAAW,KAClDusC,EAAY9rC,EAAOV,GAASC,IAAW,KACzCssC,IAAeC,GACjB9pC,EAAShC,OAAS,GAClBgC,EAAS49B,eAAiB,MACfiM,GAAcC,GAAeD,GAAcC,GAAatpC,KAAKE,UAAUmpC,KAAgBrpC,KAAKE,UAAUopC,MACjH9pC,EAAShC,OAAS8rC,EAClB9pC,EAAS49B,eAAiBkM,GAIxBtqC,OAAOgV,KAAKxU,GAAUf,OAAS,GAAGuH,KAAKqc,SAAS7iB,gDAMnC,IAAA8rB,EACkCtlB,KAAK5H,MAAlDtB,EADWwuB,EACXxuB,QAASC,EADEuuB,EACFvuB,OAAQI,EADNmuB,EACMnuB,MAAOK,EADb8tB,EACa9tB,OAAQC,EADrB6tB,EACqB7tB,SACrBN,EAAML,IAEzBkJ,KAAKqc,SAAS,CACZliB,QAAS1C,EAASX,GAASC,IAAW,GACtCy8B,gBAAiB/7B,EAASX,GAASC,IAAW,GAC9CS,OAAQA,EAAOV,GAASC,IAAW,GACnCqgC,eAAgB5/B,EAAOV,GAASC,IAAW,sCA0BrC,IAAAklB,EAAAjc,KAAAgqB,EACwBhqB,KAAK5H,MAA7BrB,EADAizB,EACAjzB,OAAQM,EADR2yB,EACQ3yB,YAChB,IAAKN,EAEH,OADAiJ,KAAK5H,MAAMmrC,cACJ7lC,EAAAC,EAAAC,cAAC4lC,GAAA,EAAD,CAAUh/B,GAAG,MAEtB,IAAMi/B,EAAyC,MAAtBzjC,KAAKzH,MAAM4B,QAAkB6F,KAAKzH,MAAMi7B,gBAAkBxzB,KAAKzH,MAAM4B,QAC1FupC,GAAiB,EACrB,IAAK,IAAM5sC,KAAWO,EACpB,IAAIqsC,EAAJ,CACA,IACM9E,EADmBvnC,EAAYP,GACIC,GACrC6nC,GAAmB5lC,OAAOgV,KAAK4wB,GAAiBnmC,OAAS,IAAGirC,GAAiB,GAGnF,OACEhmC,EAAAC,EAAAC,cAACokC,GAAD,KACEtkC,EAAAC,EAAAC,cAACskC,GAAD,CAAclpB,IAAKhZ,KAAK0iC,kBAWtBhlC,EAAAC,EAAAC,cAACkc,GAAD,KACEpc,EAAAC,EAAAC,cAAA,yCACAF,EAAAC,EAAAC,cAAA,8DAEFF,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,eAAeC,WAAW,mEAChD3K,EAAAC,EAAAC,cAAC+lC,GAAD,CAAc1C,gBAAiB,SAAAxC,GAAS,OAAIxiB,EAAKI,SAAS,CAAEoiB,iBAC5D/gC,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,UAAUC,WAC9B3K,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,+OACG8lC,EAEsB,KAArBD,GAA2BA,EAAiBrtB,SAAS,mBAAqB,GAAK1Y,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOlF,GAAOC,QAAQO,SAArC,4HAD/E,QAKRhD,EAAAC,EAAAC,cAACgmC,GAAD,CAAiBpQ,gBAAiBxzB,KAAKzH,MAAMi7B,gBAAiBC,SAAUzzB,KAAK+iC,kBAC7ErlC,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACimC,GAAD,CAAepQ,SAAUzzB,KAAK4iC,sBAAuBprC,OAAQwI,KAAKzH,MAAMf,OAAQ4/B,eAAgBp3B,KAAKzH,MAAM6+B,eAAgBa,qBAAsBj4B,KAAKi4B,uBACtJv6B,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACC1Z,KAAKzH,MAAMjD,OAAO0kB,OApNK,KAqNtB,KACAtc,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,UAAUC,WAAW,iDAE7C3K,EAAAC,EAAAC,cAACikC,GAAA,EAAD,CAAaj6B,OAAK,GAChBlK,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,MAAM1D,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAE2mB,YAAY,KAAUxoB,UAAWxa,KAAKzH,MAAMyqC,aAChGtlC,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,MAAM1D,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAE2mB,YAAY,KAASxoB,SAAUxa,KAAKzH,MAAMyqC,cAEhGtlC,EAAAC,EAAAC,cAAA,OAAKyG,MAAO,CAAEu1B,UAAW,SACvBl8B,EAAAC,EAAAC,cAACkmC,GAAD,CAAgBtsC,OAAQwI,KAAKzH,MAAMyqC,WAAahjC,KAAKzH,MAAMf,OAASwI,KAAKzH,MAAM6+B,eAAgBj9B,QAAS6F,KAAKzH,MAAMyqC,WAAaS,EAAmBzjC,KAAKzH,MAAMi7B,gBAAiBiL,UAAWz+B,KAAKzH,MAAMkmC,aAEvM/gC,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,QAgBL1Z,KAAKzH,MAAMjD,OAAO0kB,MAjPO,KAkPxB,KACAtc,EAAAC,EAAAC,cAACmmC,GAAA,EAAD,CAAQC,QAAShkC,KAAKzH,MAAMoqC,WAAYsB,OAAQ,IAC9CvmC,EAAAC,EAAAC,cAACwkC,GAAD,CAAa8B,UAAQ,GACnBxmC,EAAAC,EAAAC,cAAC0kC,GAAD,KACE5kC,EAAAC,EAAAC,cAACkc,GAAD,CAAY1R,QAAQ,aAEtB1K,EAAAC,EAAAC,cAAA,OAAMyG,MAAO,CAAEu1B,UAAW,QACxBl8B,EAAAC,EAAAC,cAACikC,GAAA,EAAD,CAAaj6B,OAAK,GAChBlK,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,MAAM1D,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAE2mB,YAAY,KAAUxoB,UAAWxa,KAAKzH,MAAMyqC,aAChGtlC,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ6D,QAAQ,MAAM1D,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAE2mB,YAAY,KAASxoB,SAAUxa,KAAKzH,MAAMyqC,eAGlGtlC,EAAAC,EAAAC,cAAA,OAAKyG,MAAO,CAAE/B,OAAQtC,KAAKzH,MAAMjD,OAAOgN,OAAS,GAAK,GAAK,IAAKs3B,UAAW,SAA3E,IACEl8B,EAAAC,EAAAC,cAACooB,GAAA,WAAD,KACEtoB,EAAAC,EAAAC,cAACkmC,GAAD,CAAgBtsC,OAAQwI,KAAKzH,MAAMyqC,WAAahjC,KAAKzH,MAAMf,OAASwI,KAAKzH,MAAM6+B,eAAgBj9B,QAAS6F,KAAKzH,MAAMyqC,WAAaS,EAAmBzjC,KAAKzH,MAAMi7B,gBAAiBiL,UAAWz+B,KAAKzH,MAAMkmC,wBAhMjMniB,aA+MP9Y,gBAAW0f,YArQF,SAAA3qB,GACtB,MAAO,CACL1B,cAAe0B,EAAM1B,cACrBC,QAASyB,EAAMzB,QACfC,OAAQwB,EAAMxB,OACdQ,OAAQgB,EAAMhB,OACdJ,MAAOoB,EAAMpB,MACbM,SAAUc,EAAMd,SAChBJ,YAAakB,EAAMlB,YACnBG,OAAQe,EAAMf,SAIS,SAAA2G,GACzB,MAAO,CACL2iB,cAAe,kBAAM3iB,EAAShD,EAAWuJ,GAAM1D,WAC/CuiC,YAAa,kBAAMplC,EAAShD,EAAWuJ,GAAM3D,eAqPvBmiB,CAA6Csb,uiBCvRvE,IASM2F,GAAYpnC,YAAOsvB,GAAeV,IAAtB5uB,CAAHqnC,KACH,SAAAhsC,GAAK,OAAKA,EAAMisC,UAAiB,UAAL,IAE1B,SAAAjsC,GAAK,OAAKA,EAAMisC,UAAiBjsC,EAAM2K,SAAW,GAAK,UAA3B,KAIpCuhC,GAAavnC,IAAOC,IAAVunC,KASZ,SAAAnsC,GAAK,OAAIA,EAAM4F,MAAN,UAAAc,OAAwBoB,GAAOC,QAAQK,IAAvC,gBAA2D,KAIlEgkC,GAAYznC,IAAOC,IAAVynC,MAKTC,eACJ,SAAAA,IAAe,IAAAnpB,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAA0kC,IACbnpB,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAA0rC,GAAA/oB,KAAA3b,QAWF2kC,qCAAuC,SAAAhrC,GACrC4hB,EAAKc,SAAS,CAAEuoB,+BAAgCjrC,KAbnC4hB,EAoBfspB,qCAAuC,WACrC,IAAMxJ,EAAU9f,EAAKnjB,MAAMlB,YAAY,GACvC,GAAKmkC,EAAL,CACA,GAAIA,EAAQvqB,OAASyK,EAAKnjB,MAAMlB,YAAY,IAAMqkB,EAAKnjB,MAAMlB,YAAY,GAAG4Z,QAAUuqB,EAAQvqB,MAAO,OAAOyK,EAAKc,SAAS,CAAEuoB,+BAAgC,UAC5J,IAAK,IAAM1oB,KAAemf,EACxB,GAAKnf,EAAL,CACA,IAAIX,EAAKnjB,MAAMlB,YAAY,GAEpB,OAAOqkB,EAAKc,SAAS,CAAEuoB,+BAAgC1oB,IAD5D,GAAIX,EAAKnjB,MAAMlB,YAAY,GAAGglB,KAAiBmf,EAAQnf,GAAc,OAAOX,EAAKc,SAAS,CAAEuoB,+BAAgC1oB,IAIhIX,EAAKc,SAAS,CAAEuoB,+BAAgC5rC,OAAOgV,KAAKqtB,GAAS,OA/BxD9f,EAkCfupB,eAAiB,SAACzJ,EAASvgC,GAAO,IACxBgqC,EAAmBvpB,EAAKnjB,MAAxB0sC,eACHA,IACLA,EAAezJ,GACf9f,EAAKc,SAAS,CAAE0oB,kBAAmBjqC,MApCnCygB,EAAKhjB,MAAQ,CACXqsC,+BAAgC,GAChCG,kBAAmB,IAJRxpB,sFASbvb,KAAK6kC,kFAOa1a,IACdA,EAAUpzB,SAAWiJ,KAAK5H,MAAMrB,QAAWiJ,KAAK5H,MAAMlB,YAAYuB,OAAS,IAAMuH,KAAKzH,MAAMqsC,iCAAiC5kC,KAAK6kC,wEAwB9H,IAAA5oB,EAAAjc,KAAA+kB,EACsF/kB,KAAK5H,MAA3FlB,EADA6tB,EACA7tB,YAAa8tC,EADbjgB,EACaigB,WAAYC,EADzBlgB,EACyBkgB,wBAAyBptC,EADlDktB,EACkDltB,iBAAkBC,EADpEitB,EACoEjtB,cAC5E,GAAIA,EACF,OACE4F,EAAAC,EAAAC,cAAC0mC,GAAD,KACE5mC,EAAAC,EAAAC,cAAC4mC,GAAD,KACE9mC,EAAAC,EAAAC,cAACykB,GAAD,CAA4Bhe,MAAO,CAAEe,MAAOlF,GAAOC,QAAQK,MAA3D,2BACA9C,EAAAC,EAAAC,cAACykB,GAAD,KAA6BvqB,GAAiB,mBAMtD,GAAID,EACF,OACE6F,EAAAC,EAAAC,cAAC0mC,GAAD,KACE5mC,EAAAC,EAAAC,cAACmlB,GAAA,EAAD,CAAQjB,UAAQ,EAAC9c,KAAK,MAAMge,QAAM,KAKxC,IAAIkiB,EAAe,GACfC,EAAiB,GACjBC,EAAkB,GACtB,GAAIJ,EAAY,KAAA5qC,GAAA,EAAAC,GAAA,EAAAC,OAAA1D,EAAA,IACd,QAAA2D,EAAAC,EAAmBwqC,EAAnBvqC,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA+B,KAApBlB,EAAoBqB,EAAAZ,MAC7B,IAAKT,EAAK6uB,QAAS,MAAM,IAAI4P,MAAM,gCACnC,IAAKz+B,EAAKmsC,UAAW,MAAM,IAAI1N,MAAM,gCACrCuN,EAAeA,EAAapmC,OAAO5F,EAAK6uB,SACxCod,EAAiBA,EAAermC,OAAO5F,EAAKmsC,WAC5CD,EAAkBA,EAAgBtmC,OAAO5F,EAAK2zB,aANlC,MAAA9xB,IAAAV,GAAA,EAAAC,EAAAS,GAAA,YAAAX,GAAA,MAAAI,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAX,EAAA,MAAAC,IAShB,IAAMgrC,EAAuBpuC,EACvBquC,EAAiC,GACnCC,EAAQ,GAnCJ17B,GAAA,EAAAC,GAAA,EAAAC,OAAApT,EAAA,IAoCR,QAAAqT,EAAAC,EAAsBhT,EAAtBuD,OAAAC,cAAAoP,GAAAG,EAAAC,EAAAvP,QAAAC,MAAAkP,GAAA,EAAmC,KAAxBuxB,EAAwBpxB,EAAAtQ,MACjC,IAAK,IAAMuiB,KAAemf,EACxB,IAAImK,EAAMtpB,GAAV,CACA,IAAMupB,EAAqBvpB,EAAY9F,SAAS,UAC1CsvB,EAAwBxpB,EAAYhR,QAAQ,SAAU,IACvDwR,GAAiBR,KACpBqpB,EAA+Bx9B,KAAK,CAAEnH,KAAM6kC,EAAkB,GAAA3mC,OAAM4mC,EAAN,YAAwCA,EAAuB/rC,MAAOuiB,IACpIspB,EAAMtpB,IAAe,KA3CnB,MAAAnhB,IAAAgP,GAAA,EAAAC,EAAAjP,GAAA,YAAA+O,GAAA,MAAAI,EAAAlP,QAAAkP,EAAAlP,SAAA,WAAA+O,EAAA,MAAAC,GAoER,OACEtM,EAAAC,EAAAC,cAACkwB,GAAelC,MAAhB,CACEc,SAAO,EACPE,aAAW,EACXE,WAAY,GACZ/T,MAAOusB,EACPK,iBAAe,EACf5d,QAASmd,EAAapmC,OAAO,CAACkB,KAAKzH,MAAMqsC,+BAA+B15B,QAAQ,SAAU,MAC1FshB,SA5BgC,SAAAtzB,GAClC,IAAM0sC,EAAWX,EAA0BA,EAAwB/rC,GAAQ,KACrE4B,EAAK5B,EAAKipB,IAChB,OACAzkB,EAAAC,EAAAC,cAACumC,GAAD,CACEE,aAAcpoB,EAAK7jB,MAAM0sC,gBAAgBpjB,WACzClc,QAAS,SAAAN,GAAC,OAAI+W,EAAK6oB,eAAe5rC,EAAM4B,IACxCkoB,OAAQ/G,EAAK1jB,MAAMwsC,oBAAsBjqC,EACzCyU,IAAKzU,EACL8qC,UAAuB,IAAbA,EACVC,UAAuB,IAAbD,GAERT,EAAe17B,IAAI,SAACq8B,EAAMr7B,GAAP,OAAa/M,EAAAC,EAAAC,cAACkwB,GAAeX,KAAhB,CAAqBN,WAAYuY,EAAgB36B,GAAI8E,IAAG,OAAAzQ,OAAS2L,IAAMq7B,EAAK5sC,MAC9GwE,EAAAC,EAAAC,cAACkwB,GAAeX,KAAhB,KAAsBj0B,EAAK+iB,EAAK1jB,MAAMqsC,mCAgBtCnY,WAXmC,SAACvzB,EAAM8d,GAAP,OAAkB9d,EAAK+iB,EAAK1jB,MAAMqsC,iCAAkC1rC,EAAK+iB,EAAK1jB,MAAMqsC,gCAAgCjjB,cAAcvL,SAASY,IAY9KoW,OAAQ1vB,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAUC,WAAS,EAACnlB,QAAS8nC,EAAgCjrB,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAK0oB,qCAAqCzrC,EAAKS,QAAQA,MAAOqG,KAAKzH,MAAMqsC,0CAxHhJt8B,IAAMC,eAmIpB2a,eArKS,SAAA3qB,GACtB,MAAO,CACLxB,OAAQwB,EAAMxB,OACdG,YAAaqB,EAAMrB,YACnBW,iBAAkBU,EAAMV,iBACxBC,cAAeS,EAAMT,gBAgKVorB,CAAyBwhB,uoBCvKxC,IAMMqB,GAAYhpC,IAAOC,IAAVgpC,MAKTC,GAAqBlpC,IAAOC,IAAVkpC,MAyBlBC,eACJ,SAAAA,IAAe,IAAA5qB,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAmmC,IACb5qB,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAmtC,GAAAxqB,KAAA3b,QAQFomC,UAAY,WAAM,IAAArhB,EACiBxJ,EAAKnjB,MAA9BiuC,EADQthB,EACRshB,UAAWruC,EADH+sB,EACG/sB,UACnB,GAAKujB,EAAKhjB,MAAM+tC,eAAkB/qB,EAAKhjB,MAAMguC,cAA7C,CACAhrB,EAAKc,SAAS,CAAEmqB,QAAQ,IACxB,IAAMztC,EAAU,CAAEJ,KAAM4iB,EAAKhjB,MAAM+tC,cAAenuB,KAAMoD,EAAKhjB,MAAMguC,eACnE3nC,IAAM6nC,IAAIJ,EAAWttC,EAAS,CAAEgvB,QAAS,CAAEC,aAAchwB,KACxDqoB,KAAK,WACJ9iB,EAAMC,QAAN,oBAAAsB,OAAkCyc,EAAKhjB,MAAMguC,cAA7C,QAAAznC,OAAiEyc,EAAKhjB,MAAM+tC,gBAC5E/qB,EAAKc,SAAS,CAAEmqB,QAAQ,EAAOD,cAAe,OAC7ChmB,MAAM,SAAAxlB,GAEP,GADAwgB,EAAKc,SAAS,CAAEmqB,QAAQ,IACpBzrC,EAAIoE,UAAoC,MAAxBpE,EAAIoE,SAAS1D,OAAgB,OAAO8B,EAAMC,QAAQ,uBACtEyB,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,SAChC,IAAMmE,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,gCAAuBF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,6BAvBpIid,EA2BfmrB,iBAAmB,SAACxhC,EAAD5F,GAAkB,IAAZ3F,EAAY2F,EAAZ3F,MACvB,IAAKA,EAAMqhC,WAAW,QAAS,OAAOz9B,EAAMS,MAAM,+DAClDud,EAAKc,SAAS,CAAE5e,QAAO,CAAG,CAAEmD,KAAMjH,EAAOA,UAAlBmF,OAAA9F,OAAAuoB,GAAA,EAAAvoB,CAA8BuiB,EAAKhjB,MAAMkF,aA3BhE8d,EAAKhjB,MAAQ,CACX+tC,cAAe,QACfC,cAAe,GACf9oC,QAAS,CAAC,CAAEmD,KAAM,QAASjH,MAAO,SAAW,CAAEiH,KAAM,cAAejH,MAAO,eAAiB,CAAEiH,KAAM,UAAWjH,MAAO,WAAa,CAAEiH,KAAM,SAAUjH,MAAO,UAAY,CAAEiH,KAAM,OAAQjH,MAAO,UALpL4hB,0EAgCL,IAAAU,EAAAjc,KAER,OACItC,EAAAC,EAAAC,cAACqoC,GAAD,KACEvoC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAU3L,QAAM,EAAC2vB,gBAAc,EAAC/jB,WAAS,EAACjpB,MAAOqG,KAAKzH,MAAM+tC,cAAe7oC,QAASuC,KAAKzH,MAAMkF,QAAS6c,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKI,SAAS,CAAEiqB,cAAeptC,EAAKS,SAAUitC,UAAW5mC,KAAK0mC,mBAC7LhpC,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOgC,YAAY,iBAAiBviB,MAAOqG,KAAKzH,MAAMguC,cAAejsB,SAAU,SAAApV,GAAC,OAAI+W,EAAKI,SAAS,CAAEkqB,cAAerhC,EAAEN,OAAOjL,SAAUyiB,WAAY,SAAAlX,GAAC,MAAc,UAAVA,EAAEqK,IAAkB0M,EAAKmqB,YAAc,SAEhM1oC,EAAAC,EAAAC,cAACmoC,GAAD,KAAWroC,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQmV,SAAUxa,KAAKzH,MAAMiuC,SAAWxmC,KAAKzH,MAAM+tC,gBAAkBtmC,KAAKzH,MAAMguC,cAAer9B,QAAQ,MAAM9D,MAAM,QAAQI,QAASxF,KAAKomC,qBAzCtI9pB,aAmDT4G,eAvFS,SAAA3qB,GACtB,MAAO,CACLP,UAAWO,EAAMP,YAqFNkrB,CAAyBijB,ICjFlCU,GAAyB,SAAC3tC,EAAM8d,GAAP,OAAkB9d,EAAKP,KAAKgpB,cAAcvL,SAASY,IAAW9d,EAAKif,KAAKwJ,cAAcvL,SAASY,IAExH8vB,eACJ,SAAAA,IAAe,IAAAvrB,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAA8mC,IACbvrB,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAA8tC,GAAAnrB,KAAA3b,QAQF+mC,aAAe,SAACpuC,EAAMwf,GAAS,IAAA4M,EACOxJ,EAAKnjB,MAAjC4uC,EADqBjiB,EACrBiiB,aAAchvC,EADO+sB,EACP/sB,UAChBe,EAAU,CAAEJ,OAAMwf,QACxBoD,EAAKc,SAAS,CAAE6S,SAAUn2B,IAC1B6F,IAAMmrB,OAAOid,EAAc,CAAE9tC,KAAMH,EAASgvB,QAAS,CAAEC,aAAchwB,KACpEqoB,KAAK,WACJ9iB,EAAMC,QAAN,kBAAAsB,OAAgCqZ,EAAhC,UAAArZ,OAA6CnG,IAC7C4iB,EAAKc,SAAS,CAAE6S,SAAU,SACzB3O,MAAM,SAAAxlB,GAEP,GADAwgB,EAAKc,SAAS,CAAE6S,SAAU,OACtBn0B,EAAIoE,UAAoC,MAAxBpE,EAAIoE,SAAS1D,OAAgB,OAAO8B,EAAMC,QAAQ,uBACtEyB,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,SAChC,IAAMmE,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,mCAA0BF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,4BApBpJid,EAAKhjB,MAAQ,CACX+tC,cAAe,QACfC,cAAe,GACf3B,+BAAgC,IALrBrpB,0EA0BL,IAAAU,EAAAjc,KACA1I,EAAY0I,KAAK5H,MAAjBd,QACF2vC,EAAe,GACrB,IAAK,IAAMpM,KAAcvjC,EAAS,CAChC,IAAM4vC,EAAc5vC,EAAQujC,GADIzgC,GAAA,EAAAC,GAAA,EAAAC,OAAA1D,EAAA,IAEhC,QAAA2D,EAAAC,EAAyB0sC,EAAzBzsC,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAsC,KAA3B+sC,EAA2B5sC,EAAAZ,MACpCstC,EAAal/B,KAAK,CAAEpP,KAAMkiC,EAAY1iB,KAAMgvB,KAHd,MAAApsC,IAAAV,GAAA,EAAAC,EAAAS,GAAA,YAAAX,GAAA,MAAAI,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAX,EAAA,MAAAC,IAqBlC,OACIoD,EAAAC,EAAAC,cAACkwB,GAAelC,MAAhB,CACEc,SAAO,EACPE,aAAW,EACX7T,MAAOkuB,EACPlf,QAAS,CAAC,SAAU,WAAY,WAAY,SAAU,UACtDyE,SApBsB,SAAAtzB,GAAI,OAC9BwE,EAAAC,EAAAC,cAACkwB,GAAenC,IAAhB,CAAoBpc,IAAKrW,EAAKif,MAC5Bza,EAAAC,EAAAC,cAACkwB,GAAeX,KAAhB,KAAsBj0B,EAAKif,MAC3Bza,EAAAC,EAAAC,cAACkwB,GAAeX,KAAhB,CAAqBN,YAAU,GAAE3zB,EAAKP,MACtC+E,EAAAC,EAAAC,cAACkwB,GAAeX,KAAhB,CAAqBN,YAAU,GAAE3zB,EAAKif,KAAK6iB,WAAW,KAAOt9B,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,QAAQK,MAAM,UAAa,MACnG1H,EAAAC,EAAAC,cAACkwB,GAAeX,KAAhB,CAAqBN,YAAU,GAAE3zB,EAAKif,KAAK6iB,WAAW,OAAS9hC,EAAKif,KAAK6iB,WAAW,KAAOt9B,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,QAAQK,MAAM,UAAa,MACjI1H,EAAAC,EAAAC,cAACkwB,GAAeX,KAAhB,CAAqBN,YAAU,GAC7BnvB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQuC,OAAK,EAACrC,KAAK,QAAQD,OAAK,EAACF,MAAM,MAAMoV,SAAUyB,EAAK1jB,MAAM22B,UAAYjT,EAAK1jB,MAAM22B,SAAS/W,OAASjf,EAAKif,MAAQ8D,EAAK1jB,MAAM22B,SAASv2B,OAASO,EAAKP,KAAM6M,QAAS,SAAAN,GAAC,OAAI+W,EAAK8qB,aAAa7tC,EAAKP,KAAMO,EAAKif,KAAMjT,SActNunB,WAAYoa,YA1DKvqB,aAqEZ4G,eA7ES,SAAA3qB,GACtB,MAAO,CACLP,UAAWO,EAAMP,YA2ENkrB,CAAyB4jB,mjCCnExC,IAiBM7+B,GAAYlL,IAAOC,IAAVoqC,MASTC,GAAgBtqC,IAAOC,IAAVsqC,MAIbC,GAAoBxqC,IAAOC,IAAVwqC,MAMjBC,GAAqB1qC,IAAOC,IAAV0qC,MAsBlBC,GAAY5qC,IAAOY,EAAViqC,KAKO,SAAAxvC,GAAK,OAAIA,EAAMgN,QAG/ByiC,eACJ,SAAAA,IAAe,IAAAtsB,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAA6nC,IACbtsB,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAA6uC,GAAAlsB,KAAA3b,QAUF+mC,aAAe,SAACpuC,EAAMwf,GACpB,IAAMpf,EAAU,CAAEJ,OAAMwf,QADK4M,EAEUxJ,EAAKnjB,MAApCJ,EAFqB+sB,EAErB/sB,UAAWlB,EAFUiuB,EAEVjuB,QAASC,EAFCguB,EAEDhuB,OAC5BwkB,EAAKc,SAAS,CAAE6S,SAAUn2B,IAC1B6F,IAAMmrB,OAAN,eAAAjrB,OAA4BhI,EAA5B,WAAAgI,OAA6C/H,EAA7C,YAA+D,CAAEmC,KAAMH,GAAW,CAAEgvB,QAAS,CAAEC,aAAchwB,KAC5GqoB,KAAK,WACJ9iB,EAAMC,QAAN,kBAAAsB,OAAgCqZ,IAChCoD,EAAKc,SAAS,CAAE6S,SAAU,SACzB3O,MAAM,SAAAxlB,GAEP,GADAwgB,EAAKc,SAAS,CAAE6S,SAAU,OACtBn0B,EAAIoE,UAAoC,MAAxBpE,EAAIoE,SAAS1D,OAAgB,OAAO8B,EAAMC,QAAQ,uBACtE,IAAMc,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,mCAA0BF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,yBAClJW,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,YAtBlCohB,EAAKhjB,MAAQ,CACXuvC,gBAAiB,IAHNvsB,sFAQbvb,KAAK5H,MAAM0oB,iDAoBH,IAAA7E,EAAAjc,KAAAslB,EAC6BtlB,KAAK5H,MAAlCd,EADAguB,EACAhuB,QAASR,EADTwuB,EACSxuB,QAASC,EADlBuuB,EACkBvuB,OAC1B,IAAKA,EAEH,OADAiJ,KAAK5H,MAAMmrC,cACJ7lC,EAAAC,EAAAC,cAAC4lC,GAAA,EAAD,CAAUh/B,GAAG,MAEtB,IAAMujC,EAAczwC,EAAQR,IAAYQ,EAAQR,GAASC,GAAUO,EAAQR,GAASC,GAAU,GACxFixC,EAA+BhoC,KAAKzH,MAAMuvC,gBAAkBhJ,GAAYiJ,EAAa/nC,KAAKzH,MAAMuvC,iBAAmB,KAEnHG,EAAqB,GACrBC,EAAoB,GAC1B,GAAIF,EAA8B,CAChC,IAAM5N,EAAU4N,EAA6B5N,QADb3R,EAAA,SAErBoS,GACT,IAAMsN,EAAQ,GAHgB/tC,GAAA,EAAAC,GAAA,EAAAC,OAAA1D,EAAA,IAI9B,IAJ8B,IAI9B2D,EAJ8B6tC,EAAA,eAInBC,EAJmB9tC,EAAAZ,MAK5BwuC,EAAMpgC,KACJrK,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CACEC,GAAG,QACHC,UAAQ,EACRC,cAAY,EACZC,QAAStkB,EAAAC,EAAAC,cAAC+pC,GAAD,CAAWviC,MAAM,uBAAuBijC,GACjDn/B,QAASxL,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQD,MAAM,MAAMI,QAAS,SAAAN,GAAC,OAAI+W,EAAK8qB,aAAalM,EAAYwN,IAAan/B,QAAQ,eAPpG1O,EAAyB4/B,EAAQS,GAAjCpgC,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA8CguC,IAJhB,MAAArtC,IAAAV,GAAA,EAAAC,EAAAS,GAAA,YAAAX,GAAA,MAAAI,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAX,EAAA,MAAAC,GAe9B4tC,EAAkBngC,KAAKrK,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACyZ,GAAD,KAAkBwjB,GAA8BsN,KAb9E,IAAK,IAAMtN,KAAcT,EAAS3R,EAAvBoS,GAeX,IAAMR,EAAkB2N,EAA6B3N,gBAjBrBiO,EAAA,SAkBrBzN,GACT,IAAMsN,EAAQ,GAnBgBr+B,GAAA,EAAAC,GAAA,EAAAC,OAAApT,EAAA,IAoB9B,IApB8B,IAoB9BqT,EApB8Bs+B,EAAA,eAoBnBF,EApBmBp+B,EAAAtQ,MAqB5BwuC,EAAMpgC,KACJrK,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CACEC,GAAG,QACHC,UAAQ,EACRC,cAAY,EACZC,QAAStkB,EAAAC,EAAAC,cAAC+pC,GAAD,CAAWviC,MAAM,uBAAuBijC,GACjDn/B,QAASxL,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQD,MAAM,MAAMI,QAAS,SAAAN,GAAC,OAAI+W,EAAK8qB,aAAalM,EAAYwN,IAAan/B,QAAQ,eAPpGgB,EAAyBmwB,EAAgBQ,GAAzCpgC,OAAAC,cAAAoP,GAAAG,EAAAC,EAAAvP,QAAAC,MAAAkP,GAAA,EAAsDy+B,IApBxB,MAAAxtC,IAAAgP,GAAA,EAAAC,EAAAjP,GAAA,YAAA+O,GAAA,MAAAI,EAAAlP,QAAAkP,EAAAlP,SAAA,WAAA+O,EAAA,MAAAC,GA+B9Bi+B,EAAmBlgC,KAAKrK,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACyZ,GAAD,KAAkBwjB,GAA8BsN,KAb/E,IAAK,IAAMtN,KAAcR,EAAiBiO,EAA/BzN,GAiBb,OACEn9B,EAAAC,EAAAC,cAAC4qC,GAAD,KACE9qC,EAAAC,EAAAC,cAACkc,GAAD,KACEpc,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,gFAEFF,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,UAAUC,WAAW,0CAC3C3K,EAAAC,EAAAC,cAAC6qC,GAAD,CAAcnxC,QAASywC,EAAaf,aAAY,eAAAloC,OAAiBhI,EAAjB,WAAAgI,OAAkC/H,EAAlC,cAChD2G,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,MAAMC,WAAW,sFACvC3K,EAAAC,EAAAC,cAAC8qC,GAAD,CAAWrC,UAAS,eAAAvnC,OAAiBhI,EAAjB,WAAAgI,OAAkC/H,EAAlC,cACpB2G,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MAEAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,kBAAkBC,WAAW,wHACnD3K,EAAAC,EAAAC,cAAC+qC,GAAD,CACE7D,eAAgB,SAAAzJ,GAAO,OAAIpf,EAAKI,SAAS,CAAEyrB,gBAAiBzM,KAC5D4J,wBAAyB,SAAA/rC,GAAI,QAAM4lC,GAAYiJ,EAAa7uC,GAAM+hC,QAClE+J,WAAY,CACV,CACEnY,YAAY,EACZ9E,QAAS,CAAC,UACVsd,UAAW,CACT,SAAAhK,GAEE,OADsByD,GAAYiJ,EAAa1M,GAASJ,OACjCv9B,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,QAAQK,MAAM,UAAa1H,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,IAAIK,MAAM,cAOvF4iC,EAEGtqC,EAAAC,EAAAC,cAACypC,GAAD,KACA3pC,EAAAC,EAAAC,cAACyZ,GAAD,kCACE3Z,EAAAC,EAAAC,cAAC2pC,GAAD,KACIS,EAA6B/M,OAIkC,IAA7DjiC,OAAOgV,KAAKg6B,EAA6B5N,SAAS3hC,OAChDiF,EAAAC,EAAAC,cAAA,yFACAF,EAAAC,EAAAC,cAAA,mHAA2GF,EAAAC,EAAAC,cAAC6pC,GAAD,KAAqBS,IAL7D,IAArElvC,OAAOgV,KAAKg6B,EAA6B3N,iBAAiB5hC,OACxDiF,EAAAC,EAAAC,cAAA,qGACAF,EAAAC,EAAAC,cAAA,+GAAuGF,EAAAC,EAAAC,cAAC6pC,GAAD,KAAqBQ,MAPtI,KAeRvqC,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,cA3Hc4C,aAsIP4G,eAxMS,SAAA3qB,GACtB,MAAO,CACLjB,QAASiB,EAAMjB,QACfP,OAAQwB,EAAMxB,OACdD,QAASyB,EAAMzB,QACfI,YAAaqB,EAAMrB,YACnBc,UAAWO,EAAMP,YAIM,SAAAmG,GACzB,MAAO,CACL2iB,cAAe,kBAAM3iB,EAAShD,EAAWuJ,GAAMzD,WAC/CsiC,YAAa,kBAAMplC,EAAShD,EAAWuJ,GAAM3D,eA2LlCmiB,CAA6C2kB,yxJCpM5D,IAiBM5/B,GAAYlL,IAAOC,IAAV4rC,MASTC,GAA0B9rC,IAAOC,IAAV8rC,MAuBvBC,GAAwBhsC,YAAOqlB,GAAPrlB,CAAHisC,MAoBrBC,GAAiBlsC,IAAO2F,GAAVwmC,KAQPhpC,GAAOC,QAAQS,KAGbV,GAAOC,QAAQS,MAKxBuoC,GAAqBpsC,IAAO8F,GAAVumC,KACV,SAAAhxC,GAAK,OAAIA,EAAM2K,SAAW,UAAY,WAWnBqJ,aAAe,GAAKlM,GAAOC,QAAQS,MAuBpD,SAAAxI,GAAK,OAAIA,EAAM2K,SAAW,UAAY,WAUvC,SAAA3K,GAAK,OAAIA,EAAM2K,SAAW,QAAU3K,EAAMgN,OAASlF,GAAOC,QAAQS,MAEvD,SAAAxI,GAAK,OAAIA,EAAM2K,SAAW3K,EAAMgN,OAASlF,GAAOC,QAAQC,QAAU,eAEhE,SAAAhI,GAAK,OAAIA,EAAM2K,SAAY3K,EAAMgN,OAASlF,GAAOC,QAAQC,QAAWhI,EAAMgN,MAAQgH,aAAe,GAAKhU,EAAMgN,OAAS,wBAEhI,SAAAhN,GAAK,OAAIA,EAAM2K,SAAW,QAAU3K,EAAMgN,OAAS,SAGxC,SAAAhN,GAAK,OAAIA,EAAM2K,SAAY3K,EAAMgN,OAASlF,GAAOC,QAAQC,QAAWgM,aAAe,GAAKhU,EAAMgN,OAASlF,GAAOC,QAAQS,QA4C5IyoC,GAAgBtsC,YAAOqlB,GAAPrlB,CAAHusC,KAmBJ,SAAAlxC,GAAK,OAAIA,EAAMgN,OAASlF,GAAOC,QAAQS,OAoBhD2oC,GAAuBxsC,YAAOqlB,GAAPrlB,CAAHysC,MAOpBC,GAAiBpnC,aAAMknC,GAANlnC,CAA4B,CACjDjF,MAAO,CAAE8V,QAAS,EAAGw2B,UAAW,SAChCrsC,KAAM,CAAE6V,QAAS,EAAGw2B,UAAW,KAG3BC,GAAwBtnC,KAAMrF,IAAI,CACtCI,MAAO,CAAE2rB,MAAO,EAAG7V,QAAS,EAAGw2B,UAAW,SAC1CrsC,KAAM,CAAE0rB,MAAO,EAAG7V,QAAS,EAAGw2B,UAAW,KAGrCE,GAAuB7sC,IAAOC,IAAV6sC,MAyBpBC,GAA+B/sC,IAAOC,IAAV+sC,MAe5BC,GAAqBjtC,IAAOC,IAAVitC,MAWlBC,GAAsBntC,IAAOY,EAAVwsC,KAKH,SAAA/xC,GAAK,OAAIA,EAAMgN,OAASlF,GAAOC,QAAQC,SAGrC,SAAAhI,GAAK,OAAKA,EAAMgN,OAASlF,GAAOC,QAAQC,SAMxC,SAAAhI,GAAK,OAAKA,EAAMgN,OAASlF,GAAOC,QAAQC,UAI1DgqC,GAAgB/nC,aAAM6nC,GAAN7nC,CAA2B,CAC/CjF,MAAO,CAAE2rB,MAAO,EAAG7V,QAAS,GAC5B7V,KAAM,CAAE0rB,MAAO,EAAG7V,QAAS,KAIvBm3B,eACJ,SAAAA,IAAe,IAAA9uB,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAqqC,IACb9uB,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAqxC,GAAA1uB,KAAA3b,QAkBFsqC,cAAgB,WACd,IAAM3xC,EAAO4iB,EAAKhjB,MAAMgyC,kBAClBzvC,EAAKygB,EAAKhjB,MAAMiyC,gBACtB,GAAK7xC,GAASmC,EAAd,CAHoB,IAAAiqB,EAImBxJ,EAAKnjB,MAApCtB,EAJYiuB,EAIZjuB,QAASC,EAJGguB,EAIHhuB,OAAQiB,EAJL+sB,EAIK/sB,UACzBujB,EAAKc,SAAS,CAAEouB,kBAAkB,IAClC,IAAM1xC,EAAU,CAAEJ,OAAMmC,MACxB8D,IAAM6nC,IAAN,eAAA3nC,OAAyBhI,EAAzB,WAAAgI,OAA0C/H,EAA1C,gBAAgEgC,EAAS,CAAEgvB,QAAS,CAAEC,aAAchwB,KAAeqoB,KAAK,WACtH9iB,EAAMC,QAAN,2BACA+d,EAAKc,SAAS,CAAEouB,kBAAkB,EAAOD,gBAAiB,GAAIE,mBAAoB5vC,MACjFylB,MAAM,SAAAxlB,GAEP,GADAwgB,EAAKc,SAAS,CAAEouB,kBAAkB,IAC9B1vC,EAAIoE,UAAoC,MAAxBpE,EAAIoE,SAAS1D,OAAgB,OAAO8B,EAAMC,QAAQ,uBACtE,GAAIzC,EAAIoE,UAAoC,MAAxBpE,EAAIoE,SAAS1D,QAAmD,SAAjC8f,EAAKhjB,MAAMgyC,kBAA8B,OAAOhtC,EAAMS,MAAM,4CAC/GiB,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,SAChC,IAAMmE,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,oCAA2BF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,6BAnCxIid,EAuCfovB,iBAAmB,WACjB,IAAM7vC,EAAKygB,EAAKhjB,MAAMmyC,mBACtB,GAAK5vC,EAAL,CAFuB,IAAAwqB,EAGgB/J,EAAKnjB,MAApCtB,EAHewuB,EAGfxuB,QAASC,EAHMuuB,EAGNvuB,OAAQiB,EAHFstB,EAGEttB,UACzBujB,EAAKc,SAAS,CAAEuuB,oBAAoB,IACpChsC,IAAMmrB,OAAN,eAAAjrB,OAA4BhI,EAA5B,WAAAgI,OAA6C/H,EAA7C,iBAAA+H,OAAmEhE,GAAM,CAAEitB,QAAS,CAAEC,aAAchwB,KAAeqoB,KAAK,WACtH9iB,EAAMC,QAAQ,sBACd+d,EAAKc,SAAS,CAAEuuB,oBAAoB,MACnCrqB,MAAM,SAAAxlB,GAEP,GADAwgB,EAAKc,SAAS,CAAEuuB,oBAAoB,IAChC7vC,EAAIoE,UAAoC,MAAxBpE,EAAIoE,SAAS1D,OAAgB,OAAO8B,EAAMC,QAAQ,uBACtEyB,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,SAChC,IAAMmE,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,uCAA8BF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,6BAlDxJid,EAAKhjB,MAAQ,CACXye,OAAQ,GACR0zB,mBAAoB,GACpBG,kBAAkB,EAClBC,uBAAuB,EACvBC,4BAA6B,GAC7BR,kBAAmB,OACnBC,gBAAiB,GACjBC,kBAAkB,EAClBG,oBAAoB,GAXTrvB,sFAgBbvb,KAAK5H,MAAM0oB,iDAwCH,IAAA7E,EAAAjc,KAAAgqB,EACwChqB,KAAK5H,MAA7CtB,EADAkzB,EACAlzB,QAASC,EADTizB,EACSjzB,OAAQK,EADjB4yB,EACiB5yB,MAAOC,EADxB2yB,EACwB3yB,YAChC,IAAKN,EAEH,OADAiJ,KAAK5H,MAAMmrC,cACJ7lC,EAAAC,EAAAC,cAAC4lC,GAAA,EAAD,CAAUh/B,GAAG,MAEtB,IAAMwmC,EAAY5zC,EAAMN,GAClBm0C,EAAiB,GAKnBP,EAAqB,GACrBQ,EAAgC,GAE9BC,EAAsB,GAC5B,GAAI9zC,EAAYP,IAAYO,EAAYP,GAASC,GAAS,CACxD,IAAM6nC,EAAkBvnC,EAAYP,GAASC,GAC7C,IAAK,IAAMuZ,KAAgBsuB,EAAiB,CAC1C,IAAM/jC,EAAa+jC,EAAgBtuB,GACX,SAApBzV,EAAWlC,KAAiBsyC,EAAeljC,KAAf/O,OAAAC,EAAA,EAAAD,CAAA,GAAyB6B,EAAemwC,EAAUnwC,EAAWC,MACxFmwC,EAAeljC,KAAf/O,OAAAC,EAAA,EAAAD,CAAA,GAAyB6B,EAAzB,CAAqC0V,SAAU,MACpD46B,EAAoB76B,IAAgB,EAEtC,IAAM86B,EAAoBxM,EAAgB5+B,KAAKzH,MAAMmyC,oBACrD,GAAIU,EAAmB,CACrBV,EAAkB1xC,OAAAC,EAAA,EAAAD,CAAA,GAAQoyC,EAAR,CAA2B76B,SAAqC,SAA3B66B,EAAkBzyC,KAAkBqyC,EAAUhrC,KAAKzH,MAAMmyC,oBAAoBn6B,SAAWrQ,GAAOC,QAAQS,OAC9J,IAAMyqC,EAAoBD,EAAkB9zC,QAC5C,GAAI+zC,EACF,IAAK,IAAMxQ,KAAcwQ,EAAmB,KAAAjxC,GAAA,EAAAC,GAAA,EAAAC,OAAA1D,EAAA,IAC1C,QAAA2D,EAAAC,EAAoB6wC,EAAkBxQ,GAAtCpgC,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,OAAWT,EAAXY,EAAAZ,MAAmDuxC,EAA8BnjC,KAAK,CAAEpP,KAAMkiC,EAAYlhC,WADhE,MAAAoB,IAAAV,GAAA,EAAAC,EAAAS,GAAA,YAAAX,GAAA,MAAAI,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAX,EAAA,MAAAC,MAOlD,IAAMgxC,EAAoBx0C,GAAWM,EAAMN,GAAWkC,OAAOgV,KAAK5W,EAAMN,IAAUsU,OAAO,SAAAtQ,GAAE,OAAKqwC,EAAoBrwC,IAA8B,cAAvBkwC,EAAUlwC,GAAIiK,OAAsB0E,IAAI,SAAA3O,GAAE,OAAIkwC,EAAUlwC,KAAO,GACpLywC,EAA2BvyC,OAAOgV,KAAK08B,GAAoBjyC,OAAS,EACpE+yC,EAA6BxrC,KAAKzH,MAAMwyC,4BAA4BthC,IAAI,SAAA5O,GAAU,OAAI6C,EAAAC,EAAAC,cAACwsC,GAAD,CAAe5kC,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAEquB,mBAAoB7vC,EAAWC,MAAOyU,IAAK1U,EAAWC,GAAIsK,MAAOvK,EAAW0V,UAAW1V,EAAWkK,QAC3O,OACErH,EAAAC,EAAAC,cAAC6tC,GAAD,KACE/tC,EAAAC,EAAAC,cAACkc,GAAD,KACEpc,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,uGAEFF,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,UAAUC,WAAW,6DAC3C3K,EAAAC,EAAAC,cAACirC,GAAD,KACEnrC,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOtS,OAAK,EAACrC,KAAK,SAAS4U,aAAa,OAAO+B,YAAY,YAAY5B,SAAU,SAAApV,GAAC,OAAI+W,EAAKI,SAAS,CAAErF,OAAQ9R,EAAEN,OAAOjL,YAEzH+D,EAAAC,EAAAC,cAACmrC,GAAD,KACErrC,EAAAC,EAAAC,cAACqrC,GAAD,KAEIgC,EAAexhC,IAAI,SAAA5O,GACjB,OAAIohB,EAAK1jB,MAAMye,SAAWnc,EAAWkK,KAAK4c,cAAcvL,SAAS6F,EAAK1jB,MAAMye,QAAgB,KAE1FtZ,EAAAC,EAAAC,cAACurC,GAAD,CAAoB55B,IAAK1U,EAAWC,GAAIsK,MAAOvK,EAAW0V,SAAUxN,SAAUlI,EAAWC,KAAOmhB,EAAK1jB,MAAMmyC,oBACzGhtC,EAAAC,EAAAC,cAAA,UAAQ4H,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAEquB,mBAAoB7vC,EAAWC,OAClED,EAAWkK,MAEdrH,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CACEG,cAAY,EACZC,QAAStkB,EAAAC,EAAAC,cAAA,WACPF,EAAAC,EAAAC,cAACyZ,GAAD,KACGxc,EAAWvD,SAAW0B,OAAOgV,KAAKnT,EAAWvD,SAASmB,OAAS,EAAI,WAAa,UAEnFiF,EAAAC,EAAAC,cAACyZ,GAAD,KACGxc,EAAWlC,OAGhBmpB,UAAQ,EACR7H,SAAS,YACT/Q,QAAQ,uEAQtBxL,EAAAC,EAAAC,cAACyZ,GAAD,2BACA3Z,EAAAC,EAAAC,cAACyrC,GAAD,CAAejkC,MAAOslC,EAAmBn6B,UACtCg7B,EAA2B7tC,EAAAC,EAAAC,cAAA,YAAO8sC,EAAmB3lC,MAAe,gBACrErH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC0tB,GAAD,CAAa7lB,KAAM8lC,EAA2B,QAAU,OAAQriC,QAASlJ,KAAKzH,MAAMuyC,sBAAwB,eAAiB,eAAgBtlC,QAAS,SAAAN,GAAC,OAAI+W,EAAKI,SAAS,CAAEyuB,uBAAwB7uB,EAAK1jB,MAAMuyC,2BAC9MptC,EAAAC,EAAAC,cAAC0tB,GAAD,CAAa7lB,KAAM8lC,EAA2B,QAAU,OAAQhmC,KAAK,QAAQH,MAAM,MAAMI,QAASxF,KAAK2qC,iBAAkBnwB,SAAUxa,KAAKzH,MAAMqyC,uBAGlJltC,EAAAC,EAAAC,cAAC6rC,GAAD,CAAgBhkC,KAAMzF,KAAKzH,MAAMuyC,uBAAyBS,EAA2B,QAAU,OAAQnmC,MAAOslC,EAAmBn6B,UAC/H7S,EAAAC,EAAAC,cAAC+rC,GAAD,CAAuBlkC,KAAMylC,EAA8BzyC,OAAS,EAAI,QAAU,QAChFiF,EAAAC,EAAAC,cAACyZ,GAAD,wBACA3Z,EAAAC,EAAAC,cAAC6qC,GAAD,CAAczB,aAAY,eAAAloC,OAAiBhI,EAAjB,WAAAgI,OAAkC/H,EAAlC,iBAAA+H,OAAwD4rC,EAAmB5vC,GAA3E,YAAyFxD,QAASozC,EAAmBpzC,UAC/IoG,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,OAEFhc,EAAAC,EAAAC,cAACyZ,GAAD,mBACA3Z,EAAAC,EAAAC,cAAC8qC,GAAD,CAAWrC,UAAS,eAAAvnC,OAAiBhI,EAAjB,WAAAgI,OAAkC/H,EAAlC,iBAAA+H,OAAwD4rC,EAAmB5vC,GAA3E,eAEtB4C,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,MAAMC,WAAW,8FACvC3K,EAAAC,EAAAC,cAACgsC,GAAD,KACElsC,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAUC,WAAS,EAACnlB,QAAS,CAAC,CAAEmD,KAAM,OAAQjH,MAAO,QAAU,CAAEiH,KAAM,OAAQjH,MAAO,SAAWA,MAAOqG,KAAKzH,MAAMgyC,kBAAmBjwB,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAK1jB,MAAMgyC,oBAAsBrxC,EAAKS,MAAQ,KAAOsiB,EAAKI,SAAS,CAAEkuB,kBAAmBrxC,EAAKS,MAAO6wC,gBAAiB,QAChP,SAAjCxqC,KAAKzH,MAAMgyC,kBACV7sC,EAAAC,EAAAC,cAAC+kB,GAAA,EAAD,CAAUC,WAAS,EAAC5L,QAAM,EAACkF,YAAY,gBAAgBze,QAAS6tC,EAAkB7hC,IAAI,SAAA5O,GAAgB,MAAO,CAAE+F,KAAMlD,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOvK,EAAW0V,WAAa1V,EAAWkK,MAAcpL,MAAOkB,EAAWC,MAASwf,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKI,SAAS,CAAEmuB,gBAAiBtxC,EAAKS,SAAUA,MAAOqG,KAAKzH,MAAMiyC,kBAChT9sC,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAOvgB,MAAOqG,KAAKzH,MAAMiyC,gBAAiBhwB,UAAQ,EAAC0B,YAAY,0CAA0C5B,SAAU,SAAApV,GAAC,OAAIwmC,MAAMxmC,EAAEN,OAAOjL,OAAS,KAAOsiB,EAAKI,SAAS,CAAEmuB,gBAAiBtlC,EAAEN,OAAOjL,SAAUyiB,WAAY,SAAAlX,GAAC,MAAc,UAAVA,EAAEqK,IAAkB0M,EAAKquB,gBAAkB,SAG3Q5sC,EAAAC,EAAAC,cAACksC,GAAD,KACEpsC,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQD,MAAM,QAAQ8D,QAAQ,MAAMsR,UAAWxa,KAAKzH,MAAMiyC,kBAAoBxqC,KAAKzH,MAAMgyC,mBAAqBvqC,KAAKzH,MAAMkyC,iBAAkBjlC,QAASxF,KAAKsqC,iBAE3J5sC,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,UAAUC,WAAW,iIAC3C3K,EAAAC,EAAAC,cAAC+qC,GAAD,CACE7D,eAAgB,SAAAzJ,GAEd,IADA,IAAMsQ,EAAU,GAChBpZ,EAAA,EAAAqZ,EAAyBX,EAAzB1Y,EAAAqZ,EAAAnzC,OAAA85B,IAAyC,CAApC,IAAM13B,EAAU+wC,EAAArZ,GACd13B,EAAWvD,QACPwnC,GAAYjkC,EAAWvD,QAAS+jC,GAASJ,QAAQ0Q,EAAQ5jC,KAAKlN,GAD9C8wC,EAAQ5jC,KAAKlN,GAGxCohB,EAAKI,SAAS,CAAE0uB,4BAA6BY,KAE/C3G,WAAY,CACV,CACEnY,YAAY,EACZ9E,QAAS,CAAC,eACVsd,UAAW,CACT,SAAAhK,GAEE,IADA,IAAIwQ,EAAoB,EACxBC,EAAA,EAAAC,EAAyBd,EAAzBa,EAAAC,EAAAtzC,OAAAqzC,IAAyC,CAApC,IAAMjxC,EAAUkxC,EAAAD,GACdjxC,EAAWvD,QACPwnC,GAAYjkC,EAAWvD,QAAS+jC,GAASJ,UAAU4Q,EADnCA,IAG3B,OAAOA,QAMhBL,EAA2B/yC,OAAS,EACnCiF,EAAAC,EAAAC,cAACosC,GAAD,KACAtsC,EAAAC,EAAAC,cAACyZ,GAAD,8BACA3Z,EAAAC,EAAAC,cAAC8c,GAAA,EAAD,CAAWuI,gBAAc,GACtBuoB,IAGH,KAEF9tC,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,cA3MoB4C,aAqNb9Y,gBAAW0f,YA/gBF,SAAA3qB,GACtB,MAAO,CACLzB,QAASyB,EAAMzB,QACfC,OAAQwB,EAAMxB,OACdK,MAAOmB,EAAMnB,MACbC,YAAakB,EAAMlB,YACnBW,UAAWO,EAAMP,YAIM,SAAAmG,GACzB,MAAO,CACL2iB,cAAe,kBAAM3iB,EAAShD,EAAWuJ,GAAMxD,iBAC/CqiC,YAAa,kBAAMplC,EAAShD,EAAWuJ,GAAM3D,eAkgBvBmiB,CAA6CmnB,wzBCrhBvE,IAiBMpiC,GAAYlL,IAAOC,IAAVgvC,MASTC,GAAsBlvC,IAAOC,IAAVkvC,MASnBC,GAAsBpvC,IAAOC,IAAVovC,MAQnBC,GAAatvC,IAAOC,IAAVsvC,MASVhP,GAAcvgC,IAAOoX,EAAVo4B,KACNrsC,GAAOC,QAAQU,SAGpB2rC,GAAa,SAAAC,GAAI,OAAIA,EAAO,UAAY,YACxCC,GAAiB,CACrBC,YAAa,cACbC,WAAY,aACZC,YAAa,cACbC,kBAAmB,oBACnBC,aAAc,eACdC,mBAAoB,sBAEhBC,GAAaj0C,OAAOgV,KAAK0+B,IAEzBQ,eACJ,SAAAA,IAAe,IAAA3xB,EAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAktC,IACb3xB,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAk0C,GAAAvxB,KAAA3b,QAkCFmtC,MAAQ,WAAM,IAAApoB,EACoBxJ,EAAKnjB,MAA7BnB,EADI8tB,EACJ9tB,KAAMJ,EADFkuB,EACEluB,cACd,IAAKI,EAEH,OADAskB,EAAKnjB,MAAMmrC,cACJ7lC,EAAAC,EAAAC,cAAC4lC,GAAA,EAAD,CAAUh/B,GAAG,MAEtB,IAAMhL,EAAW,GACZ+hB,EAAKhjB,MAAM60C,cAAa5zC,EAAS4zC,aAAc,GACpDH,GAAW9jC,QAAQ,SAAAoG,GACjB/V,EAAS+V,QAAqB3Y,IAAdK,EAAKsY,GAAqB1Y,EAAc0Y,GAAOtY,EAAKsY,KAEtEgM,EAAKc,SAAS7iB,IA9CD+hB,EAiDf8xB,gBAAkB,WAEhB,IADiB9xB,EAAKnjB,MAAdnB,KAGN,OADAskB,EAAKnjB,MAAMmrC,cACJ7lC,EAAAC,EAAAC,cAAC4lC,GAAA,EAAD,CAAUh/B,GAAG,OArDT+W,EAyDf+xB,eAAiB,SAAC/9B,EAAKkS,GACrBlG,EAAKc,SAALrjB,OAAAK,EAAA,EAAAL,CAAA,GAAiBuW,EAAMkS,KA1DVlG,EA6Dfxb,MAAQ,WAGN,IAHY,IAAAulB,EAC2B/J,EAAKnjB,MAApCJ,EADIstB,EACJttB,UAAWlB,EADPwuB,EACOxuB,QAASC,EADhBuuB,EACgBvuB,OACtBgC,EAAU,GAChBw5B,EAAA,EAAAgb,EAAkBN,GAAlB1a,EAAAgb,EAAA90C,OAAA85B,IAAA,CAAK,IAAMhjB,EAAGg+B,EAAAhb,GAAgBx5B,EAAQwW,GAAOgM,EAAKhjB,MAAMgX,GACxD3Q,IAAM+qB,MAAN,eAAA7qB,OAA2BhI,EAA3B,WAAAgI,OAA4C/H,GAAUgC,EAAS,CAAEgvB,QAAS,CAAEC,aAAchwB,KAAeqoB,KAAK,WAC5G9iB,EAAMC,QAAQ,0BACd+d,EAAKc,SAAS,CAAEwL,QAAQ,MACvBtH,MAAM,SAAAxlB,GACP,GAAIA,EAAIoE,UAAoC,MAAxBpE,EAAIoE,SAAS1D,OAE/B,OADA8f,EAAKc,SAAS,CAAEwL,QAAQ,IACjBtqB,EAAMC,QAAQ,uBAChB+d,EAAKc,SAAS,CAAEwL,QAAQ,IAC/B5oB,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,SAChC,IAAMmE,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KoD,EAAMS,MAAMN,EAAAC,EAAAC,cAAA,uCAA8BF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMU,EAAmC,kBAAfA,EAA0BtE,KAAKE,UAAUoE,EAAY,KAAM,GAAKA,EAAa,4BAzExJ,IAAM/F,EAAQ,CACZsvB,QAAQ,EACRulB,aAAa,GAJF,OAMbH,GAAW9jC,QAAQ,SAAAoG,GACjBhX,EAAMgX,IAAO,IAGfgM,EAAKhjB,MAAQA,EAVAgjB,sFAeb,IADiBvb,KAAK5H,MAAdnB,KAGN,OADA+I,KAAK5H,MAAMmrC,cACJ7lC,EAAAC,EAAAC,cAAC4lC,GAAA,EAAD,CAAUh/B,GAAG,MACfxE,KAAK5H,MAAM0oB,4DAIlB9gB,KAAKmtC,mDAGahjB,GAAW,IACrBlzB,EAAS+I,KAAK5H,MAAdnB,KACFksC,EAAWhZ,EAAUlzB,KAC3B,GAAIA,GAAQksC,EACV,QAAA2I,EAAA,EAAA0B,EAAkBP,GAAlBnB,EAAA0B,EAAA/0C,OAAAqzC,IAA8B,CAAzB,IAAMv8B,EAAGi+B,EAAA1B,GACZ,GAAI70C,EAAKsY,KAAS4zB,EAAS5zB,GAAM,OAAOvP,KAAKmtC,aAE1C,IAAKhK,GAAYlsC,EAAM,OAAO+I,KAAKmtC,yCA+ClC,IAAAlxB,EAAAjc,KAAAgqB,EACwBhqB,KAAK5H,MAA7BnB,EADA+yB,EACA/yB,KAAMJ,EADNmzB,EACMnzB,cACd,IAAKI,EAEH,OADA+I,KAAK5H,MAAMmrC,cACJ7lC,EAAAC,EAAAC,cAAC4lC,GAAA,EAAD,CAAUh/B,GAAG,MAGtB,IAAI4sB,GAAU,EACd,GAAIpxB,KAAKzH,MAAM60C,YACb,QAAAjU,EAAA,EAAAsU,EAAkBR,GAAlB9T,EAAAsU,EAAAh1C,OAAA0gC,IAA8B,CAAzB,IAAM5pB,EAAGk+B,EAAAtU,GACZ,IAAI/H,QAC+Bx6B,IAAdK,EAAKsY,GAAqB1Y,EAAc0Y,GAAOtY,EAAKsY,MACvDvP,KAAKzH,MAAMgX,KACG6hB,GAAU,GAI9C,OACE1zB,EAAAC,EAAAC,cAAC8vC,GAAD,KACEhwC,EAAAC,EAAAC,cAACkc,GAAD,KACEpc,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAC+vC,GAAD,0EAEFjwC,EAAAC,EAAAC,cAACyuC,GAAD,KACE3uC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,mBACA3Z,EAAAC,EAAAC,cAACquC,GAAD,KACEvuC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACub,GAAD,qBACAzb,EAAAC,EAAAC,cAAC+vC,GAAD,mJACAjwC,EAAAC,EAAAC,cAAC+vC,GAAD,iBAAuBnB,GAAW31C,EAAc81C,eAElDjvC,EAAAC,EAAAC,cAACi8B,GAAA,EAAD,CAAUrf,UAAWxa,KAAKzH,MAAM60C,YAAatT,QAAS95B,KAAKzH,MAAMo0C,YAAaiB,QAAM,EAACtzB,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKqxB,eAAeZ,GAAeC,YAAazzC,EAAK4gC,aAEnKp8B,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACquC,GAAD,KACEvuC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACub,GAAD,oBACAzb,EAAAC,EAAAC,cAAC+vC,GAAD,uEAA6E92C,EAAcg3C,YAA3F,OAA4Gh3C,EAAcg3C,YAAc,EAAI,IAAM,GAAlJ,uHACAnwC,EAAAC,EAAAC,cAAC+vC,GAAD,iBAAuBnB,GAAW31C,EAAc+1C,cAElDlvC,EAAAC,EAAAC,cAACi8B,GAAA,EAAD,CAAUrf,UAAWxa,KAAKzH,MAAM60C,YAAatT,QAAS95B,KAAKzH,MAAMq0C,WAAYgB,QAAM,EAACtzB,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKqxB,eAAeZ,GAAeE,WAAY1zC,EAAK4gC,aAEjKp8B,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,OAGFhc,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,mBACA3Z,EAAAC,EAAAC,cAACquC,GAAD,KACEvuC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACub,GAAD,4BACAzb,EAAAC,EAAAC,cAAC+vC,GAAD,qIACAjwC,EAAAC,EAAAC,cAAC+vC,GAAD,iBAAuBnB,GAAW31C,EAAcg2C,eAElDnvC,EAAAC,EAAAC,cAACi8B,GAAA,EAAD,CAAUrf,UAAWxa,KAAKzH,MAAM60C,YAAatT,QAAS95B,KAAKzH,MAAMs0C,YAAae,QAAM,EAACtzB,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKqxB,eAAeZ,GAAeG,YAAa3zC,EAAK4gC,aAEnKp8B,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACquC,GAAD,KACEvuC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACub,GAAD,8BACAzb,EAAAC,EAAAC,cAAC+vC,GAAD,yJACAjwC,EAAAC,EAAAC,cAAC+vC,GAAD,iBAAuBnB,GAAW31C,EAAci2C,qBAElDpvC,EAAAC,EAAAC,cAACi8B,GAAA,EAAD,CAAUrf,UAAWxa,KAAKzH,MAAM60C,YAAatT,QAAS95B,KAAKzH,MAAMu0C,kBAAmBc,QAAM,EAACtzB,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKqxB,eAAeZ,GAAeI,kBAAmB5zC,EAAK4gC,aAE/Kp8B,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAACquC,GAAD,KACEvuC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACub,GAAD,uBACAzb,EAAAC,EAAAC,cAAC+vC,GAAD,0GACAjwC,EAAAC,EAAAC,cAAC+vC,GAAD,iBAAuBnB,GAAW31C,EAAck2C,gBAElDrvC,EAAAC,EAAAC,cAACi8B,GAAA,EAAD,CAAUrf,UAAWxa,KAAKzH,MAAM60C,YAAatT,QAAS95B,KAAKzH,MAAMw0C,aAAca,QAAM,EAACtzB,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKqxB,eAAeZ,GAAeK,aAAc7zC,EAAK4gC,aAErKp8B,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,OAGFhc,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,cACA3Z,EAAAC,EAAAC,cAACquC,GAAD,KACEvuC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACub,GAAD,wBACAzb,EAAAC,EAAAC,cAAC+vC,GAAD,0LACAjwC,EAAAC,EAAAC,cAAC+vC,GAAD,iBAAuBnB,GAAW31C,EAAcm2C,sBAElDtvC,EAAAC,EAAAC,cAACi8B,GAAA,EAAD,CAAUrf,UAAWxa,KAAKzH,MAAM60C,YAAatT,QAAS95B,KAAKzH,MAAMy0C,mBAAoBY,QAAM,EAACtzB,SAAU,SAACpV,EAAGhM,GAAJ,OAAa+iB,EAAKqxB,eAAeZ,GAAeM,mBAAoB9zC,EAAK4gC,aAEjLp8B,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,QAGJhc,EAAAC,EAAAC,cAACuuC,GAAD,KACEzuC,EAAAC,EAAAC,cAAC0tB,GAAD,CAAa7lB,KAAMzF,KAAKzH,MAAMsvB,OAAS,OAASuJ,EAAU,QAAU,OAAQ9rB,OAAK,EAACwc,UAAQ,EAAC5Y,QAAQ,QAAQ1D,QAASxF,KAAKmtC,QACzHzvC,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQmV,UAAW4W,GAAWpxB,KAAKzH,MAAMsvB,OAAQ3e,QAAQ,OAAO9D,MAAM,QAAQI,QAASxF,KAAKD,iBA5K5Euc,aA2LX9Y,gBAAW0f,YA9PF,SAAA3qB,GACtB,MAAO,CACL1B,cAAe0B,EAAM1B,cACrBC,QAASyB,EAAMzB,QACfC,OAAQwB,EAAMxB,OACdE,KAAMsB,EAAMtB,KACZe,UAAWO,EAAMP,YAIM,SAAAmG,GACzB,MAAO,CACL2iB,cAAe,kBAAM3iB,EAAShD,EAAWuJ,GAAMvD,gBAC/CoiC,YAAa,kBAAMplC,EAAShD,EAAWuJ,GAAM3D,eAiPvBmiB,CAA6CgqB,qPC5QxDnwC,WAAOC,IAAtB8wC,ogDCOA,IAAMrqB,GAAc1mB,IAAOY,EAAVowC,KAQF,SAAA31C,GAAK,OAAIA,EAAMoiB,SAAW1Y,aAAO,GAAK5B,GAAOC,QAAQS,MAAQV,GAAOC,QAAQS,MAUhF,SAAAxI,GAAK,OAAIA,EAAMoiB,SAAW1Y,aAAO,GAAK5B,GAAOC,QAAQS,MAAQxI,EAAM2K,SAAW,QAAUyW,aAAQ,IAAMtZ,GAAOC,QAAQG,kBAC1G,SAAAlI,GAAK,OAAIA,EAAMoiB,SAAW,cAAgBpiB,EAAM2K,SAAW,UAAY,eAG3EjB,aAAO,GAAD,sBAGZ,SAAA1J,GAAK,OAAIA,EAAMoiB,SAAW,cAAgB,WAKzC,SAAApiB,GAAK,OAAIA,EAAMoiB,SAAW1Y,aAAO,GAAK5B,GAAOC,QAAQS,MAAQ,SAClD,SAAAxI,GAAK,OAAIA,EAAMoiB,SAAW,cAAgBpiB,EAAM2K,SAAW,UAAY,WAIvE,SAAA3K,GAAK,OAAIA,EAAMoiB,SAAW,cAAgB,YAI5DwzB,GAAajxC,YAAOkxC,GAAPlxC,CAAHmxC,KAMH,SAAA91C,GAAK,OAAIA,EAAM6rB,SAAW,OAAS,GACpC,SAAA7rB,GAAK,OAAIA,EAAM6rB,SAAW,OAAS,IA+B/C,SAASkqB,GAAc/1C,GAAO,IACpBg2C,EAAoDh2C,EAApDg2C,YAAa1Y,EAAuCt9B,EAAvCs9B,OAAQ5kB,EAA+B1Y,EAA/B0Y,MAAO0J,EAAwBpiB,EAAxBoiB,SAAU6zB,EAAcj2C,EAAdi2C,UADlB5qC,EAEFC,oBAAS,GAFPC,EAAA3K,OAAA4K,EAAA,EAAA5K,CAAAyK,EAAA,GAEpBJ,EAFoBM,EAAA,GAEd2qC,EAFc3qC,EAAA,GAGtBypB,EACJ1vB,EAAAC,EAAAC,cAAC2wC,GAAD,CAAa/oC,QAAS,SAAAN,GAAC,OAAe,IAAXwwB,EAAe4Y,GAASjrC,GAAQ,MAAMN,SAAUM,EAAMmX,SAAUA,GACzF9c,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAMyV,EAAW,IAAMnX,EAAO,WAAa,eACjD3F,EAAAC,EAAAC,cAAA,YAAOkT,IAETpT,EAAAC,EAAAC,cAAA,QAAMyG,MAAO+pC,EAAc,CAAEhpC,MAAOgpC,GAAgB,MAAQ1Y,IAsBhE,OAlBEh4B,EAAAC,EAAAC,cAAA,OAAKG,UAAU,sBACXswC,EACE3wC,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAOE,UAAQ,EAACE,QAASoL,EAAQlkB,QAASmlC,EAAWp0B,SAAS,kBAC9DmT,EAEJ1vB,EAAAC,EAAAC,cAACowC,GAAD,CAAY/pB,SAAU5gB,EAAMtF,UAAU,cACpCL,EAAAC,EAAAC,cAACooB,GAAA,WAAD,CAAYwoB,YAAU,EAACC,cAAe,EAAGC,cAAe,KACtDhxC,EAAAC,EAAAC,cAAA,OAAKyG,MAAO,CAAEsf,QAAS,cACpBvrB,EAAMC,aAanB81C,GAAaQ,UAAY,CACvBN,UAAWO,KAAUC,OACrBr0B,SAAUo0B,KAAUnC,KACpB37B,MAAO89B,KAAUC,OACjBT,YAAaQ,KAAUC,OACvBnZ,OAAQkZ,KAAUlZ,OAClBr9B,SAAUu2C,KAAU1hC,MAGPihC,kjCC7Gf,IAAMlmC,GAAYlL,IAAOC,IAAV8xC,MAUTC,GAAehyC,IAAOC,IAAVgyC,KAEL9uC,GAAOC,QAAQK,KAKtByuC,GAAalyC,IAAOC,IAAVkyC,MA2BVC,GAAgBpyC,IAAOC,IAAVoyC,MAKbC,GAAqBtyC,IAAOC,IAAVsyC,MAMxB,SAASC,GAAiBlU,GACxB,IAAMmU,EAAKx2C,OAAAC,EAAA,EAAAD,CAAA,GAAQqiC,GADcjhC,GAAA,EAAAC,GAAA,EAAAC,OAAA1D,EAAA,IAEjC,QAAA2D,EAAAC,EAAmBi1C,GAAnBh1C,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAqC,QAC5Bo1C,EAD4Bj1C,EAAAZ,QAFJ,MAAAoB,IAAAV,GAAA,EAAAC,EAAAS,GAAA,YAAAX,GAAA,MAAAI,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAX,EAAA,MAAAC,GAKjC,OAAON,KAAKE,UAAUs1C,EAAO,KAAM,GAoBrC,IAAME,GAAqB,CACzBrpC,iBAAiB,EACjBspC,mBAAmB,EACnBC,WAAW,EACXjoC,OAAQjK,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQuC,OAAK,EAACsB,QAAQ,QAAQ1D,QAAS,SAAAN,GAAC,OAAI/M,GAAMoO,WAGtDspC,GAAY,EAmVHC,OAjVf,SAAmB13C,GAAO,IAAA23C,EACyFC,YAAY,SAAAz3C,GAAK,MAAK,CACrItB,KAAMsB,EAAMtB,KAAMH,QAASyB,EAAMzB,QAASC,OAAQwB,EAAMxB,OAAQG,YAAaqB,EAAMrB,YAAaY,cAAeS,EAAMT,cAAeD,iBAAkBU,EAAMV,iBAAkBhB,cAAe0B,EAAM1B,cAAea,SAAUa,EAAMb,WAChOu4C,KAFIh5C,EADgB84C,EAChB94C,KAAMH,EADUi5C,EACVj5C,QAASC,EADCg5C,EACDh5C,OAAQG,EADP64C,EACO74C,YAAaY,EADpBi4C,EACoBj4C,cAAeD,EADnCk4C,EACmCl4C,iBAAiCq4C,EADpEH,EACqDl5C,cAAuBa,EAD5Eq4C,EAC4Er4C,SAG9FyG,EAAWgyC,cAJO1sC,EAKUC,qBALVC,EAAA3K,OAAA4K,EAAA,EAAA5K,CAAAyK,EAAA,GAKhB2sC,EALgBzsC,EAAA,GAKN0sC,EALM1sC,EAAA,GAAAI,EAMkBL,mBAASmsC,IAN3B7rC,EAAAhL,OAAA4K,EAAA,EAAA5K,CAAA+K,EAAA,GAMhBusC,EANgBtsC,EAAA,GAMFusC,EANEvsC,EAAA,GAAAmS,EAOYzS,qBAPZ4S,EAAAtd,OAAA4K,EAAA,EAAA5K,CAAAmd,EAAA,GAOhBq6B,EAPgBl6B,EAAA,GAOLm6B,EAPKn6B,EAAA,GAQlBo6B,EAAkB,GARA5mC,GAAA,EAAAC,GAAA,EAAAC,OAAApT,EAAA,IASxB,QAAAqT,EAAAC,EAAsBhT,EAAtBuD,OAAAC,cAAAoP,GAAAG,EAAAC,EAAAvP,QAAAC,MAAAkP,GAAA,OAAWuxB,EAAXpxB,EAAAtQ,MAAmC+2C,EAAgBrV,EAAQlZ,KAAOkZ,GAT1C,MAAAtgC,IAAAgP,GAAA,EAAAC,EAAAjP,GAAA,YAAA+O,GAAA,MAAAI,EAAAlP,QAAAkP,EAAAlP,SAAA,WAAA+O,EAAA,MAAAC,GAUxB,IAAM2mC,EAAgB15C,EAEjBA,EAAKk0B,mBAIJl0B,EAAKk0B,mBAAqB,EAA1B,GAAArsB,OAA2D,GAA1B7H,EAAKk0B,mBAAtC,iBAAArsB,OAA+E7H,EAAKk0B,mBAApF,cAHA+kB,EAAOl0C,mBAAqB,EAA5B,GAAA8C,OACiC,GAA5BoxC,EAAOl0C,mBADZ,iBAAA8C,OAEKoxC,EAAOl0C,mBAFZ,cAFF,UAOJ4a,oBAAU,WACH/e,GAAsC,IAAjBy4C,GAAuC,IAAjBA,GAC9CC,EAAgBD,EAAe,IAEhC,CAAEz4C,EAAkBy4C,IAEvB15B,oBAAU,WACa,IAAjB05B,IACJD,IACAI,IACA7xC,IAAMC,IAAN,eAAAC,OAAyBhI,EAAzB,WAAAgI,OAA0C/H,EAA1C,WACGspB,KAAK,SAAAjiB,GACJiyC,EAAYjyC,EAAIlF,MAChBq3C,EAAgBD,EAAe,KAC9B/vB,MAAM,SAAAxlB,GACPkE,QAAQC,IAAInE,EAAIoE,UAAYpE,GAC5B,IAAMuD,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5K8E,QAAQC,IAAIZ,GACZmyC,EAAanyC,OAEhB,CAAEgyC,EAAcx5C,EAASC,IAM5B6f,oBAAU,WACH7f,EAIHoH,EAAShD,EAAWuJ,GAAMpD,YAH1BnD,EAAShD,EAAWuJ,GAAM3D,YAC1B3I,EAAM0P,QAAQC,KAAK,OAKpB,IAGH6O,oBAAU,WACJ7f,GAAUc,GAAoBy4C,GAAgB,GAAGC,EAAgB,IACpE,CAAEx5C,EAAQc,EAAkBy4C,IAE/B,IAAMM,EAA2B35C,GAAQmW,MAAMC,QAAQpW,EAAK45C,oBAAsB55C,EAAK45C,kBAAkBp4C,OAAS,EAG5Gq4C,EAAc,GACdC,EAAc,GACdC,EAAsB,GACtBC,EAAuB,GACvBC,EAAsB,GACtBC,EAAmB,GACnBC,EAA0B,GAE1BC,EAASnB,EAAOrC,YAChByD,EAAYx0B,OAASy0B,SAASF,EAAQ,QAEtCG,EAAkBtB,EAAOtD,WACzB6E,EAAiBx6C,EAAK21C,WACtB8E,EAAsC,mBAAnBD,EAA+BD,EAAkBC,EAEpEE,EAAmBzB,EAAOvD,YAC1BiF,EAAkB36C,EAAK01C,YACvBkF,EAAyC,mBAArBF,EAAiCA,EAAmBC,EAE1EE,GAAuB,EAE3B,GAAI1B,GAAYl5C,EAAYuB,OAAS,GAAKy3C,EAAQ,CAChD,IAAMW,GAAoB55C,EAAK45C,kBACzBkB,GAAQ,IAAIx9B,IACZy9B,GAAW,IAAIz9B,IACf09B,GAAsB,GAJoBrnC,IAAA,EAAAC,IAAA,EAAAC,QAAAlU,EAAA,IAMhD,QAAAmU,GAAAC,GAAmBolC,EAAnB31C,OAAAC,cAAAkQ,IAAAG,GAAAC,GAAArQ,QAAAC,MAAAgQ,IAAA,EAA6B,KAAlBxB,GAAkB2B,GAAApR,MAC3Bo4C,GAAM78B,IAAI9L,GAAKtO,IACfk3C,GAAS98B,IAAI9L,GAAK0H,OAClB,IAAMohC,GAAuB9oC,GAAKynC,kBAClC,QAA6Bj6C,IAAzBs7C,IAAsCl5C,OAAOgV,KAAKkkC,IAAsBz5C,OAAS,EACnF,IAAK,IAAI6U,MAAK4kC,GACPD,GAAoB3kC,IACpB2kC,GAAoB3kC,IAAGvF,KAAKmqC,GAAqB5kC,KADzB2kC,GAAoB3kC,IAAK,CAAC4kC,GAAqB5kC,MAZlC,MAAAvS,IAAA8P,IAAA,EAAAC,GAAA/P,GAAA,YAAA6P,IAAA,MAAAI,GAAAhQ,QAAAgQ,GAAAhQ,SAAA,WAAA6P,GAAA,MAAAC,IAqBhD,IAFA,IAAMqnC,GAAa,IAAI59B,IAEd5W,GAAIzG,EAAYuB,OAAS,EAAGkF,IAAK,IAAKA,GAAG,CAChD,IAAM09B,GAAUnkC,EAAYyG,IACtBy0C,GAAgC,IAAfL,GAAM/sC,MAAqC,IAAvB9N,EAAYuB,OACjD45C,GAAYN,GAAMn1B,IAAIye,GAAQlZ,KAC9BmwB,GAAeT,IAAeG,GAASp1B,IAAIye,GAAQI,aAAe0W,GAAWv1B,IAAIye,GAAQI,aACzF8W,GAAcb,KAAerW,GAAQzb,MAASyb,GAAQzb,MAAQ9C,KAAOue,GAAQmX,WAAalB,GAC3FjW,GAAQzb,OAAMkyB,GAAuB,GACrCM,IAAmBC,GAWtBvB,EAAY/oC,KAAKszB,GAAQlZ,MAVzB4uB,EAAYhpC,KAAKszB,GAAQlZ,KACrBmwB,GAAcrB,EAAqBlpC,KAAKszB,GAAQlZ,KAC3CowB,GAAarB,EAAoBnpC,KAAKszB,GAAQlZ,MAEjD0vB,GAAcxW,GAAQI,YAAY0W,GAAWj9B,IAAImmB,GAAQI,aACtCxkC,EAAKK,SAAiBA,GAAQL,EAAKK,QAAS+jC,IAASJ,OAEvE+V,EAAoBjpC,KAAKszB,GAAQlZ,KADlBgvB,EAAiBppC,KAAKszB,GAAQlZ,OASxD,GAAIyuB,EAA0B,CAC5B,IAAM6B,GAAe,GAAA3zC,OAAQgyC,EAAgBI,EAAwBC,EAAqBF,GAD9Dn5B,IAAA,EAAAC,IAAA,EAAAC,QAAAphB,EAAA,IAE5B,QAAAqhB,GAAAC,GAAwBu6B,GAAxBh4C,OAAAC,cAAAod,IAAAG,GAAAC,GAAAvd,QAAAC,MAAAkd,IAAA,EAEE,IAFuC,IAA9B46B,GAA8Bz6B,GAAAte,MACjC0hC,GAAUqV,EAAgBgC,IACvBC,GAAI,EAAGA,GAAI9B,GAAkBp4C,SAAUk6C,GAAG,CACjD,IAAMC,GAAiB/B,GAAkB8B,IACnCE,GAA2BZ,GAAoBW,IAC/CE,GAA+BzX,GAAQuX,IAC7C,GAAKC,KAA4BA,GAAyBz8B,SAAS08B,KAAkCA,GAArG,CAGA1B,EAAwBrpC,KAAK2qC,IAC7B,QAZwB,MAAA33C,IAAAgd,IAAA,EAAAC,GAAAjd,GAAA,YAAA+c,IAAA,MAAAI,GAAAld,QAAAkd,GAAAld,SAAA,WAAA+c,GAAA,MAAAC,MAkBhC,IAAM+E,GAAKg2B,KAAKC,iBAAiBC,kBAAkBC,SAE7CC,GAAkB,SAACC,EAAcC,GAAf,OAA8BD,EAAa3pC,IAAI,SAAAipC,GACrE,IAAMrX,EAAUqV,EAAgBgC,GAChC,OACEh1C,EAAAC,EAAAC,cAAA,MAAI2R,IAAK8rB,EAAQlZ,KACfzkB,EAAAC,EAAAC,cAAA,WACmB,IAAfy1C,EACE31C,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,sBAAsBV,MAAO,CAAEe,MAAOlF,GAAOC,QAAQO,OAAQ2Y,SAAU,UACnE,IAAfg6B,EACE31C,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,IAAIV,MAAO,CAAEe,MAAOlF,GAAOC,QAAQK,IAAK6Y,SAAU,UAC7D3b,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,QAAQV,MAAO,CAAEe,MAAOlF,GAAOC,QAAQM,MAAO4Y,SAAU,UAEzE3b,EAAAC,EAAAC,cAACyZ,GAAD,aAAwCgkB,EAAQlZ,IAAM,sCACtDzkB,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOlF,GAAOC,QAAQU,UAAYw6B,EAAQzb,KAAR,KAAA9gB,OAzL3D,SAAkBw0C,GAChB,IAAMC,EAAMz2B,OACZ7d,QAAQC,IAAI,GACZ,IAAMs0C,EAAW12B,KAAOw2B,GACxBr0C,QAAQC,IAAI,IACZ,IAAMu0C,EAAcF,EAAIG,KAAKF,EAAU,WACvC,GAAIC,EAAc,GAAI,SAAA30C,OAAU20C,EAAV,KACtB,IAAME,EAAcJ,EAAIG,KAAKF,EAAU,WACvC,GAAIG,EAAc,GAAI,SAAA70C,OAAU60C,EAAV,MAAA70C,OAA0B20C,EAAe,GAAKE,EAA9C,KACtB,IAAMC,EAAYL,EAAIG,KAAKF,EAAU,SACrC,GAAII,EAAY,GAAI,SAAA90C,OAAU80C,EAAV,MAAA90C,OAAwB60C,EAAe,GAAKC,EAA5C,KACpB,IAAMC,EAAWN,EAAIG,KAAKF,EAAU,QAC9BM,EAAaP,EAAIG,KAAKF,EAAU,UACtC,OAAIM,GAAc,EAAG,GAAAh1C,OAAUg1C,EAAV,MACrB,GAAAh1C,OAAU+0C,EAAV,MAAA/0C,OAAuB80C,EAAvB,KA2K6EG,CAAQ1Y,EAAQzb,MAApC,SAAmD,KAEtGliB,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQE,KAAK,OAAOD,OAAK,EAACN,KAAK,OAAOQ,QAAS,SAAAN,GAAC,OAAI/M,GAAMkL,KAAKqsC,GAAoBhyC,EAAAC,EAAAC,cAAA,OAAKyG,MAAO,CAAE2V,MAAO,OAAQg6B,SAAU,SAAUt2C,EAAAC,EAAAC,cAAA,QAAMwU,wBAAyB,CAAEC,OAAQN,KAAKG,UAAU,OAAQq9B,GAAgBlU,IAAU1hC,kBAMhOs6C,GAAe,KACnB,GAAIh9C,IAAS+5C,EAAoBv4C,OAAS,GAAK24C,EAAwB34C,OAAS,GAAI,CAClF,IACIy7C,GADEC,GAAa,GAAAr1C,OAAQkyC,EAAwBI,GAD+Bh5B,IAAA,EAAAC,IAAA,EAAAC,QAAA1hB,EAAA,IAGlF,QAAA2hB,GAAAC,GAAwB27B,GAAxB15C,OAAAC,cAAA0d,IAAAG,GAAAC,GAAA7d,QAAAC,MAAAwd,IAAA,EAAuC,KAA5Bs6B,GAA4Bn6B,GAAA5e,MAC/B0hC,GAAUqV,EAAgBgC,IAChC,GAAKrX,GAAQzb,KAAb,CACA,IAAMw0B,GAAgBt3B,KAAOue,GAAQzb,QAChCs0B,IAA0BE,GAAgBF,MAAwBA,GAAwBE,MAPf,MAAAr5C,IAAAsd,IAAA,EAAAC,GAAAvd,GAAA,YAAAqd,IAAA,MAAAI,GAAAxd,QAAAwd,GAAAxd,SAAA,WAAAqd,GAAA,MAAAC,IASlF,GAAK47B,GACA,CACH,IAAMG,GAAQp9C,EAAKk0B,oBAAsB+kB,EAAOl0C,mBAChDk4C,GAAsBh/B,IAAIm/B,GAAO,WACjCJ,GAAY,GAAAn1C,OAAMo1C,GAAsBR,KAAK52B,OAAU,WAA3C,iBAJcm3B,GAAe,eAQ7C,IAAMK,GACJ52C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,iBACtB1K,EAAAC,EAAAC,cAACqxC,GAAD,KACEvxC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,YACA3Z,EAAAC,EAAAC,cAAA,YAAQ3G,EAAOyG,EAAAC,EAAAC,cAAA,KAAG+G,KAAM1N,EAAKuE,KAAMoJ,OAAO,SAASC,IAAI,uBAAuB5N,EAAKuE,MAAY,OAEjGkC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,iBACA3Z,EAAAC,EAAAC,cAAA,YAAQ3G,GAAQA,EAAKm0B,QAAUtO,KAAO7lB,EAAKm0B,SAASrO,GAAGA,IAAIE,OAAO,8BAAgC,QAGtGvf,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACqxC,GAAD,KACEvxC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,gBACA3Z,EAAAC,EAAAC,cAAA,YAAQ3G,GAAQS,EAASZ,IAAYY,EAASZ,GAASG,EAAKyuB,SAApD,IAAA5mB,OAAmEpH,EAASZ,GAASG,EAAKyuB,SAAS3gB,MAASrH,EAAAC,EAAAC,cAAA,QAAMyG,MAAO,CAAEe,MAAOlF,GAAOC,QAAQK,MAArC,aAEtH9C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,qBACA3Z,EAAAC,EAAAC,cAAA,YAAO+yC,KAKXjzC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACqxC,GAAD,KACEvxC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,0BACA3Z,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAOE,UAAQ,EAACxc,OAAK,EAAC4D,QAAQ,gDAAgD8Y,QAAStkB,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,kBAAkBV,MAAO,CAAEgV,SAAU,aAEzI3b,EAAAC,EAAAC,cAAA,YAAQwyC,EAAWA,EAAS33C,OAAS,MAEvCiF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyZ,GAAD,sBACA3Z,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAOE,UAAQ,EAACxc,OAAK,EAAC4D,QAAQ,kDAAkD8Y,QAAStkB,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,kBAAkBV,MAAO,CAAEgV,SAAU,aAE3I3b,EAAAC,EAAAC,cAAA,YAAQ1G,EAAYuB,UAGxBiF,EAAAC,EAAAC,cAAA,YAKGk0C,GAAwBJ,EAAYh0C,EAAAC,EAAAC,cAACgrB,GAAD,CAAUrC,MAAI,GAAd,wLAAiN,KACxP7oB,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,UAAUC,WAAW,6NAE3C3K,EAAAC,EAAAC,cAACyZ,GAAD,0BACA3Z,EAAAC,EAAAC,cAAC22C,GAAD,CAAczjC,MAAM,eAAe4kB,OAAQqb,EAAYt4C,OAAQ21C,YAAa2C,EAAYt4C,OAAS,EAAIyH,GAAOC,QAAQO,OAAS,MAC3HhD,EAAAC,EAAAC,cAAA,UAAMu1C,GAAgBpC,EAAa,KAErCrzC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC22C,GAAD,CAAc/5B,UAAWk3B,EAAWrD,UAAYqD,EAA0D,GAA9C,4CAAkD5gC,MAAM,yBAAyB4kB,QAAsC,EAA9Bwb,EAAoBz4C,OAAa21C,YAAa8C,EAAoBz4C,OAAS,EAAIyH,GAAOC,QAAQK,IAAM,MACvP9C,EAAAC,EAAAC,cAAA,UAAMu1C,GAAgBjC,EAAqB,KAE7CxzC,EAAAC,EAAAC,cAAC22C,GAAD,CAAc/5B,UAAWq3B,EAAYxD,UAAYwD,EAA4D,GAA/C,6CAAmD/gC,MAAM,0BAA0B4kB,QAAuC,EAA/Bub,EAAqBx4C,OAAa21C,YAAa6C,EAAqBx4C,OAAS,EAAIyH,GAAOC,QAAQK,IAAM,MAC7P9C,EAAAC,EAAAC,cAAA,UAAMu1C,GAAgBlC,EAAsB,KAE9CvzC,EAAAC,EAAAC,cAAC22C,GAAD,CAAc/5B,UAAWvjB,IAASA,EAAKK,QAAS+2C,UAAYp3C,GAASA,EAAKK,QAAsD,GAA5C,0CAAgDwZ,MAAM,qBAAqB4kB,QAAmC,EAA3Byb,EAAiB14C,OAAa21C,YAAa+C,EAAiB14C,OAAS,EAAIyH,GAAOC,QAAQK,IAAM,MACnQ9C,EAAAC,EAAAC,cAAA,UAAMu1C,GAAgBhC,EAAkB,KAE1CzzC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC22C,GAAD,CAAczjC,MAAM,6BAA6B4kB,OAAQsb,EAAoBv4C,OAAQ21C,YAAa4C,EAAoBv4C,OAAS,EAAIyH,GAAOC,QAAQM,MAAQ,MACxJ/C,EAAAC,EAAAC,cAAA,UAAMu1C,GAAgBnC,EAAqB,KAE7CtzC,EAAAC,EAAAC,cAAA,WAAMF,EAAAC,EAAAC,cAAA,WAENF,EAAAC,EAAAC,cAACyZ,GAAD,qCACA3Z,EAAAC,EAAAC,cAAC22C,GAAD,CAAc/5B,UAAWo2B,EAA0BvC,UAAYuC,EAAgF,GAArD,mDAAyD9/B,MAAM,6BAA6B4kB,OAAQ0b,EAAwB34C,OAAQ21C,YAAagD,EAAwB34C,OAAS,EAAIyH,GAAOC,QAAQM,MAAQ,MACrS/C,EAAAC,EAAAC,cAAA,UAAMu1C,GAAgB/B,EAAyB,KAEjD1zC,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,YACtB1K,EAAAC,EAAAC,cAAA,KAAGyG,MAAO,CAAEgV,SAAU,SACK,IAAvB03B,EAAYt4C,QAAmD,IAAnC24C,EAAwB34C,OAApD,4FAAAqG,OAC8F6xC,EAD9F,8BAEyB,IAAvBI,EAAYt4C,QAAgB24C,EAAwB34C,OAAS,EAA7D,kIAAAqG,OACoI6xC,EADpI,8BAEEI,EAAYt4C,OAAS,GAAK24C,EAAwB34C,OAAS,EAA3D,2GAAAqG,OAC6G6xC,EAD7G,8BAEEK,EAAoBv4C,OAASs4C,EAAYt4C,OACR,IAA/Bu4C,EAAoBv4C,OAApB,2OAAAqG,OAE8I6xC,EAF9I,kBADF,iDAAA7xC,OAImD6xC,EAJnD,mBAORsD,GACEv2C,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACyZ,GAAD,kBACC48B,IAED,IAYR,OACEv2C,EAAAC,EAAAC,cAAC42C,GAAD,KACE92C,EAAAC,EAAAC,cAACkc,GAAD,CAAY1R,QAAQ,WAAWC,WAAW,6DAC1C3K,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MAEEziB,EAAKujB,SACH9c,EAAAC,EAAAC,cAACgrB,GAAD,CAAUrC,MAAI,GAAd,yDAAsE7oB,EAAAC,EAAAC,cAAA,cAAS3G,EAAKujB,UAAY,wBAChG1iB,EACE4F,EAAAC,EAAAC,cAACmxC,GAAD,KAAcrxC,EAAAC,EAAAC,cAAA,0CAAqCF,EAAAC,EAAAC,cAAA,UAAK9F,IACxD04C,EACE9yC,EAAAC,EAAAC,cAACmxC,GAAD,KAAcrxC,EAAAC,EAAAC,cAAA,wCAAmCF,EAAAC,EAAAC,cAAA,UAAK4yC,IACrC,IAAjBF,EACE5yC,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQL,KAAK,OAAO4C,OAAK,EAACxC,MAAM,QAAQ8D,QAAQ,kBAAkB1D,QAAS,SAAAN,GAC3EqrC,EAAgB,MAEC,IAAjBD,GAAuC,IAAjBA,EACpB5yC,EAAAC,EAAAC,cAACuxC,GAAD,KAAezxC,EAAAC,EAAAC,cAACmlB,GAAA,EAAD,CAAQC,QAAM,EAAC9Z,QAAQ,aACtCorC,GACZ52C,EAAAC,EAAAC,cAAC8b,GAAA,EAAD,MACAhc,EAAAC,EAAAC,cAAC8kB,GAAD,CAActa,QAAQ,cACtB1K,EAAAC,EAAAC,cAACyxC,GAAD,KACE3xC,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQuC,OAAK,EAACrC,MAAI,EAACgmB,cAAc,QAAQ/lB,QAAS,SAAAN,GAAC,OAAI9M,EAAM0P,QAAQC,KAAK,UAA1E,6BAEErK,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,iBAEbrH,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQuC,OAAK,EAACrC,MAAI,EAACgmB,cAAc,QAAQ/lB,QAAS,SAAAN,GAAC,OAAI9M,EAAM0P,QAAQC,KAAd,GAAAjJ,OAAsB4F,GAAMhD,aAA5B,KAAA5C,OAA4CshB,mBAAmBnpB,EAAKuE,UAA3H,eAEEkC,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,iBAEbrH,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQ+T,GAAG,IAAIxR,OAAK,EAACrC,MAAI,EAACgmB,cAAc,QAAQ3mB,OAAO,SAASD,KAAK,8BAArE,iBAEEjH,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,oNCjarB,IAOM4oB,GAAO5wB,IAAOC,IAAVy3C,MAQJC,eACJ,SAAAA,IAAe,IAAAn5B,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAA00C,IACbn5B,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAA07C,GAAA/4B,KAAA3b,QAMFqoB,SAAW,SAAAntB,IAETC,EADuBogB,EAAKnjB,MAApB+C,YACGD,GACXqgB,EAAKnjB,MAAM0P,QAAQC,KAAK7M,IARxBqgB,EAAKhjB,MAAQ,GAFAgjB,0EAaL,IAAAU,EAAAjc,KACR,OACEtC,EAAAC,EAAAC,cAAC+vB,GAAD,KAEEjwB,EAAAC,EAAAC,cAACooB,GAAA,WAAD,KACEtoB,EAAAC,EAAAC,cAAC+2C,GAAA,EAAD,KAEEj3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOC,OAAK,EAAC1wC,KAAMO,GAAM3D,UAAW+zC,OAAQ,SAAAC,GAAW,OAAIr3C,EAAAC,EAAAC,cAACo3C,GAADh8C,OAAAsqB,OAAA,CAAM+E,SAAUpM,EAAKoM,UAAc0sB,OAC9Fr3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOC,OAAK,EAAC1wC,KAAMO,GAAMtD,MAAO0zC,OAAQ,SAAAC,GAAW,OAAIr3C,EAAAC,EAAAC,cAACq3C,GAADj8C,OAAAsqB,OAAA,CAAO+E,SAAUpM,EAAKoM,UAAc0sB,OAC3Fr3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOC,OAAK,EAAC1wC,KAAMO,GAAMrD,gBAAiByzC,OAAQ,SAAAC,GAAW,OAAIr3C,EAAAC,EAAAC,cAACs3C,GAAaH,MAC/Er3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOC,OAAK,EAAC1wC,KAAMO,GAAM1D,QAAS8zC,OAAQ,SAAAC,GAAW,OAAIr3C,EAAAC,EAAAC,cAACu3C,GAAYJ,MACtEr3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOC,OAAK,EAAC1wC,KAAMO,GAAMzD,QAAS6zC,OAAQ,SAAAC,GAAW,OAAIr3C,EAAAC,EAAAC,cAACw3C,GAAYL,MACtEr3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOC,OAAK,EAAC1wC,KAAMO,GAAMxD,cAAe4zC,OAAQ,SAAAC,GAAW,OAAIr3C,EAAAC,EAAAC,cAACy3C,GAAkBN,MAClFr3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOC,OAAK,EAAC1wC,KAAMO,GAAMvD,aAAc2zC,OAAQ,SAAAC,GAAW,OAAIr3C,EAAAC,EAAAC,cAAC03C,GAAgBP,MAC/Er3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOC,OAAK,EAAC1wC,KAAMO,GAAMpD,SAAUi0C,UAAW,SAAAR,GAAW,OAAIr3C,EAAAC,EAAAC,cAAC43C,GAAaT,MAC3Er3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOE,OAAQ,SAAAC,GAAW,OAAIr3C,EAAAC,EAAAC,cAACo3C,GAASD,gBA7B1Bz4B,aAqCX9Y,gBAAW0f,YAAQ,KApDP,SAAA/kB,GACzB,MAAO,CACL9C,eAAgB,SAAAvE,GAAO,OAAIqH,EAAS9C,EAAevE,KACnDqE,WAAY,SAAAD,GAAI,OAAIiD,EAAShD,EAAWD,OAiDlBgoB,CAAkCwxB,0BCtE7Ce,GAAA,CACbC,WAAY,EACZC,UAAW,EACXC,aAAc,iyCCMhB,ICOIC,GDAEtyB,GAAaxmB,YAAOwH,KAAPxH,CAAH+4C,MAYVC,GAAsBh5C,IAAOC,IAAVg5C,MAiCnBhzC,GAAOjG,IAAOkG,IAAVgzC,MAKJt0C,GAAQ5E,IAAO6E,GAAVs0C,KACAp0C,aAAO,GAAK,UAMjBq0C,GAAep5C,YAAOsI,KAAPtI,CAAHq5C,MAIZC,eACJ,SAAAA,IAAe,IAAA96B,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAq2C,IACb96B,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAq9C,GAAA16B,KAAA3b,QAUFs2C,qBAAuB,WACrBhhD,OAAO8yB,oBAAoB,SAAU7M,EAAKiM,mBAZ7BjM,EAefiM,iBAAmB,YACZjM,EAAKhjB,MAAMg+C,kBAAoBjhD,OAAOmyB,WAAa,IAAKlM,EAAKc,SAAS,CAAEk6B,kBAAkB,IACtFh7B,EAAKhjB,MAAMg+C,kBAAoBjhD,OAAOmyB,YAAc,KAAKlM,EAAKc,SAAS,CAAEk6B,kBAAkB,KAfpGh7B,EAAKhjB,MAAQ,CACXg+C,iBAAkBjhD,OAAOmyB,WAAa,KAH3BlM,sFAQbjmB,OAAO6yB,iBAAiB,SAAUnoB,KAAKwnB,mDAavC,OACE9pB,EAAAC,EAAAC,cAACm4C,GAAD,CAAqBS,iBAAkBx2C,KAAK5H,MAAMo+C,kBAEhD94C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACu4C,GAAD,CAAcp4C,UAAU,uBAAuBwH,KAAK,OAAOD,OAAK,EAACE,QAASxF,KAAK5H,MAAM8sB,iBAErFxnB,EAAAC,EAAAC,cAAC64C,GAAD,CAAYjyC,GAAG,KACb9G,EAAAC,EAAAC,cAAC84C,GAAD,CAAMjyC,IAAI,uEACV/G,EAAAC,EAAAC,cAAC+4C,GAAD,sBAGJj5C,EAAAC,EAAAC,cAAA,WAUIoC,KAAK5H,MAAMq9C,eAAiBA,GAAaE,UACrCj4C,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAOI,QAAStkB,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAM,uBAAwBC,KAAK,QAAQI,MAAM,UAAY8D,QAAQ,gEAAgE+Q,SAAS,cAAc6H,UAAQ,IAC1L9hB,KAAK5H,MAAMq9C,eAAiBA,GAAaG,aAAel4C,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAOI,QAAStkB,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAM,IAAKC,KAAK,QAAQI,MAAM,QAAU8D,QAAQ,oDAAoD+Q,SAAS,cAAc6H,UAAQ,IAC/MpkB,EAAAC,EAAAC,cAACgkB,GAAA,EAAD,CAAOI,QAAStkB,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAM,0BAA2BC,KAAK,QAAQI,MAAM,SAAW8D,QAAQ,qCAAqC+Q,SAAS,cAAc6H,UAAQ,aA9CjKxZ,IAAMC,eA4DT2a,eAhIS,SAAA3qB,GACtB,MAAO,CACLhB,OAAQgB,EAAMhB,OACdJ,MAAOoB,EAAMpB,QA6HF+rB,CAAyBmzB,itBCvHxC,IAAMO,GAAgB75C,IAAOC,IAAV65C,MASbC,GAAkB/5C,IAAOC,IAAV+5C,KAYV72C,GAAOC,QAAQS,MAGpBo2C,GAA6Bj6C,YAAO+5C,GAAP/5C,CAAHk6C,KACnB,SAAA7+C,GAAK,OAAIA,EAAM29B,QAAU,OAAS,QAMlC71B,GAAOC,QAAQK,KAyBtB02C,eACJ,SAAAA,IAAe,IAAA37B,EAAA,OAAAviB,OAAAwiB,GAAA,EAAAxiB,CAAAgH,KAAAk3C,IACb37B,EAAAviB,OAAAyiB,GAAA,EAAAziB,CAAAgH,KAAAhH,OAAA0iB,GAAA,EAAA1iB,CAAAk+C,GAAAv7B,KAAA3b,QAeFm3C,gBAAkB,WAChBl4C,QAAQC,IAAI,yBACZqc,EAAKc,SAAS,CAAEo5B,aAAcA,GAAaE,aAlB9Bp6B,EAqBf67B,mBAAqB,SAAAC,GACnBp4C,QAAQC,IAAI,4BACZo4C,WAAW,WAEJzB,GAAO0B,eACZh8B,EAAKc,SAAS,CAAEo5B,aAAcA,GAAaG,eAC5B,yBAAXyB,GAAmCxB,GAAO3yB,YAC7C,MA5BU3H,EA+Bfi8B,gBAAkB,SAAAC,GACXA,GAAUx4C,QAAQC,IAAI,2BAC3Bqc,EAAKc,SAAS,CAAEq7B,QAAQ,IACxB94C,IAAMC,IAAI,sBAAsBwhB,KAAK,SAAA/gB,GAAsB,IAAnBpG,EAAmBoG,EAAnBpG,KACvB,MAD0CoG,EAAb7D,SAExCvC,EAAKy+C,cAAep8B,EAAKq8B,aACxBr8B,EAAKc,SAAS,CAAEw7B,qBAAqB,OACzCt3B,MAAM,SAAAxlB,GACP,IAAMuD,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5KohB,EAAKc,SAAS,CAAEy7B,aAAcx5C,OAxCnBid,EA6Efq8B,WAAa,WACX,IAAIG,EAAeziD,OAAOoH,aAAaC,QAAQ,WAC3Cq7C,EAAc1iD,OAAOoH,aAAaC,QAAQ,UAExCpE,EAAQ,CACZ5B,KAAM,KACNooC,IAAK,KACLloC,cAAe,KACfU,OAAQ,GACRJ,MAAO,GACPG,QAAS,GACTD,YAAa,GACbK,SAAU,GACVN,MAAO,GACPQ,YAAa,GACbJ,OAAQ,GACRC,SAAU,GACVwgD,YAAa,GACbhgD,aAAc,GACdnB,QAAS,GACTC,OAAQ,GACRC,MAAO,KACPC,KAAM,KACNihD,aAAc,KACdhgD,WAAY,MAGd0G,IAAMC,IAAI,WAAWwhB,KAAK,SAAAgS,GAAsB,IAAnBn5B,EAAmBm5B,EAAnBn5B,KACnBrC,GADsCw7B,EAAb52B,OACoCvC,EAA7DrC,eAAeF,EAA8CuC,EAA9CvC,KAAMooC,EAAwC7lC,EAAxC6lC,IAAKxnC,EAAmC2B,EAAnC3B,OAAQ0gD,EAA2B/+C,EAA3B++C,YAAajgD,EAAckB,EAAdlB,UAOvD,IAAK,IAAMlB,KANXyB,EAAML,WAAagB,EACnBX,EAAM0/C,YAAcA,EACpB1/C,EAAM1B,cAAgBA,EACtB0B,EAAM5B,KAAOA,EACb4B,EAAMwmC,IAAMA,EACZxmC,EAAMP,UAAYA,EACIT,EAAQ,CAC5Bs+C,GAAOsC,KAAK,WAAYrhD,GACxB,IAAME,EAAQO,EAAOT,GACbqJ,EAAgDnJ,EAAhDmJ,QAASi4C,EAAuCphD,EAAvCohD,QAASC,EAA8BrhD,EAA9BqhD,SAAUjhD,EAAoBJ,EAApBI,MAAOM,EAAaV,EAAbU,SAqB3C,IAAK,IAAMgC,KApBXnB,EAAMhB,OAAOT,GAAbkC,OAAAC,EAAA,EAAAD,CAAA,GAA6BmH,GAC7B5H,EAAMpB,MAAML,GAAW,GACvByB,EAAMf,OAAOV,GAAW,GACxByB,EAAMd,SAASX,GAAW,GAC1ByB,EAAMnB,MAAMN,GAAW,GACvByB,EAAMb,SAASZ,GAAW,GAC1ByB,EAAMlB,YAAYP,GAAW,GAC7ByB,EAAMjB,QAAQR,GAAW,GACzByB,EAAMN,aAAanB,GAAW,GAC9ByB,EAAMX,YAAYd,GAAWuhD,EAExBN,GAAgBA,IAAiBjhD,IAC/BihD,IACHziD,OAAOoH,aAAaG,QAAQ,UAAW/F,GACvCihD,EAAejhD,GAEjByB,EAAMzB,QAAUA,EAChByB,EAAMvB,MAANgC,OAAAC,EAAA,EAAAD,CAAA,GAAmBT,EAAMhB,OAAOT,KAGZshD,EAAS,CAC7B,IAAMz+C,EAAQy+C,EAAQ1+C,GAEtB,GADqB,kBAAVC,QAAgC/C,IAAV+C,IAAqBpB,EAAMhB,OAAOT,GAAS4C,GAAWC,GACvE,YAAZD,EAAJ,CACA,IAAME,EAAUD,EAChB,IAAK,IAAME,KAAWD,EAAS,CAC7B,IAAME,EAASF,EAAQC,GACvBC,EAAOD,QAAUA,EACjB,IAAME,EAAOC,KAAKC,MAAMD,KAAKE,UAAUJ,IAkBvC,IAjBIi+C,GAAgBA,IAAiBjhD,GAAakhD,GAAeA,IAAgBn+C,IAC1Em+C,IACH1iD,OAAOoH,aAAaG,QAAQ,SAAUhD,GACtCm+C,EAAcn+C,GAEhBtB,EAAMxB,OAAS8C,EACftB,EAAMtB,KAAO8C,GAEfxB,EAAMpB,MAAML,GAAS+C,GAAWE,EAChCxB,EAAMf,OAAOV,GAAS+C,GAAWC,EAAOtC,OACxCe,EAAMd,SAASX,GAAS+C,GAAWC,EAAOK,QAGtCL,EAAOxC,UAASiB,EAAMjB,QAAQR,GAAS+C,GAAWC,EAAOxC,SAG7DiB,EAAMlB,YAAYP,GAAS+C,GAAW,GAClCC,EAAOzC,aAAeyC,EAAOzC,YAAYoB,OAAS,EAAG,KAAA2B,GAAA,EAAAC,GAAA,EAAAC,OAAA1D,EAAA,IACvD,QAAA2D,EAAAC,EAAyBV,EAAOzC,YAAhCoD,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA6C,KAAlCS,EAAkCN,EAAAZ,MAC3CpB,EAAMlB,YAAYP,GAAS+C,GAASgB,EAAWC,IAAMD,GAFA,MAAAE,IAAAV,GAAA,EAAAC,EAAAS,GAAA,YAAAX,GAAA,MAAAI,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAX,EAAA,MAAAC,OAlDjC,IAAAwP,GAAA,EAAAC,GAAA,EAAAC,OAAApT,EAAA,IA0D5B,QAAAqT,EAAAC,EAAsBxS,EAAtB+C,OAAAC,cAAAoP,GAAAG,EAAAC,EAAAvP,QAAAC,MAAAkP,GAAA,OAAW4b,EAAXzb,EAAAtQ,MAAgCpB,EAAMb,SAASZ,GAAS4uB,EAAQ5qB,IAAM4qB,GA1D1C,MAAA3qB,IAAAgP,GAAA,EAAAC,EAAAjP,GAAA,YAAA+O,GAAA,MAAAI,EAAAlP,QAAAkP,EAAAlP,SAAA,WAAA+O,EAAA,MAAAC,GAAA,IAAAY,GAAA,EAAAC,GAAA,EAAAC,OAAAlU,EAAA,IA2D5B,QAAAmU,EAAAC,EAAmB5T,EAAnBqD,OAAAC,cAAAkQ,GAAAG,EAAAC,EAAArQ,QAAAC,MAAAgQ,GAAA,OAAW0tC,EAAXvtC,EAAApR,MAA0BpB,EAAMnB,MAAMN,GAASwhD,EAAKx9C,IAAMw9C,GA3D9B,MAAAv9C,IAAA8P,GAAA,EAAAC,EAAA/P,GAAA,YAAA6P,GAAA,MAAAI,EAAAhQ,QAAAgQ,EAAAhQ,SAAA,WAAA6P,EAAA,MAAAC,IA6D9ByQ,EAAKnjB,MAAMmgD,gBAAgBhgD,GAC3BjD,OAAO6yB,iBAAiB,SAAU5M,EAAKiM,kBACvCjM,EAAKc,SAAS,CAAEq7B,QAAQ,EAAMc,WAAW,EAAOX,qBAAqB,MACpEt3B,MAAM,SAAAxlB,GACL,IAAMuD,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QACxKY,EAAIoE,UAAoC,MAAxBpE,EAAIoE,SAAS1D,OAC3BV,EAAIoE,SAASjG,MAAmC,OAA3B6B,EAAIoE,SAASjG,KAAKu/C,KAAel9B,EAAKc,SAAS,CAAEy7B,aAAcx5C,IACnFid,EAAKc,SAAS,CAAEm8B,WAAW,KAEhCv5C,QAAQC,IAAInE,EAAIoE,UAAYpE,EAAIZ,QAASY,GACzCwgB,EAAKc,SAAS,CAAEy7B,aAAcx5C,QAvLvBid,EA4LfiM,iBAAmB,WACjB,IAAMhuB,EAAW,GACblE,OAAOmyB,WAAa,IAElBlM,EAAKhjB,MAAMmgD,mBAAkBl/C,EAASk/C,kBAAmB,IAExDn9B,EAAKhjB,MAAMogD,mBAAkBn/C,EAASm/C,kBAAmB,GACzDp9B,EAAKhjB,MAAMmgD,mBAAkBl/C,EAASk/C,kBAAmB,IAE5D1/C,OAAOgV,KAAKxU,GAAUf,OAAS,GAAG8iB,EAAKc,SAAS7iB,IArMvC+hB,EAwMfq9B,iBAAmB,SAAAC,GACjBt9B,EAAKnjB,MAAMsD,iBAAiBm9C,IAzMft9B,EA4Mfu9B,kBAAoB,SAAAn9C,GAClB4f,EAAKnjB,MAAMwD,kBAAkBD,IA7MhB4f,EAgNfw9B,mBAAqB,SAAA7/C,GAAQ,IACnB/B,EAAUokB,EAAKnjB,MAAfjB,MACFL,EAAUoC,EAAK4B,GACrBmE,QAAQC,IAAR,qBAAAJ,OAAiChI,EAAjC,8BACA,IAAM2C,EAAWP,EAAKk/C,QACtB,IAAK3+C,EAAU,OAAO8hB,EAAKnjB,MAAMmB,WAAWzC,GAC5C,IAAM8C,EAAUH,EAASu/C,QACzB,GAAIp/C,EACF,IAAK,IAAMC,KAAWD,EACfzC,EAAM0C,IAAUg8C,GAAOsC,KAAK,gBAAiBv+C,EAAQC,GAAS2B,MAGvE+f,EAAKnjB,MAAM6gD,0BAA0Bx/C,IA5NxB8hB,EA+Nftf,qBAAuB,SAAA/C,GACrBqiB,EAAKnjB,MAAM6D,qBAAqB/C,IA9NhCqiB,EAAKhjB,MAAQ,CACXm/C,QAAQ,EACRiB,iBAAkBrjD,OAAOmyB,YAAc,IACvCixB,iBAAkBpjD,OAAOmyB,YAAc,IACvCguB,aAAcA,GAAaC,WAC3BmC,qBAAqB,EACrBW,WAAW,EACXV,aAAc,GACdoB,SAAS,GAGX39B,EAAK49B,mBAAqB7wC,IAAM0nB,YAbnBzU,sFA6CO,IAAAU,EAAAjc,KACdo5C,EAAS,GAAAt6C,OAAMxJ,OAAOC,SAAS2b,SAAtB,MAAApS,OAAmCxJ,OAAOC,SAASC,UAAnDsJ,OAA8DxJ,OAAOC,SAAS8jD,KAAhB,IAAAv6C,OAA2BxJ,OAAOC,SAAS8jD,MAAS,IAC5HxD,KAAQA,GAASyD,KAAWF,EAAW,CAAEG,UAAU,KACxD1D,GAAOh0B,GAAG,iBAAkB,kBAAM5F,EAAKu7B,iBAAgB,KACvD3B,GAAOh0B,GAAG,sBAAuB,SAAA1nB,GAC/B8hB,EAAK88B,mBAAmB/+C,KAAKC,MAAME,MAErC07C,GAAOh0B,GAAG,aAAc,SAAA1nB,GAAO,OAAI8hB,EAAK28B,iBAAiB5+C,KAAKC,MAAME,MACpE07C,GAAOh0B,GAAG,oBAAqB,SAAA1nB,GAAO,OAAI8hB,EAAK68B,kBAAkB9+C,KAAKC,MAAME,MAC5E07C,GAAOh0B,GAAG,aAAc7hB,KAAKo3C,oBAC7BvB,GAAOh0B,GAAG,UAAW7hB,KAAKm3C,iBAC1BtB,GAAOh0B,GAAG,YAAa7hB,KAAKw3C,iBAC5B54C,IAAMC,IAAI,sBAAsBwhB,KAAK,SAAAm5B,GAAsB,IAAnBtgD,EAAmBsgD,EAAnBtgD,KACvB,MAD0CsgD,EAAb/9C,SAExCvC,EAAKy+C,cAAe17B,EAAK27B,aACxB37B,EAAKI,SAAS,CAAEw7B,qBAAqB,OACzCt3B,MAAM,SAAAxlB,GACP,IAAMuD,EAAavD,EAAIoE,UAAYpE,EAAIoE,SAASjG,MAAQ6B,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,SAASjG,KAAKiB,QAAUY,EAAIoE,UAAYpE,EAAIoE,SAASjG,KAAO6B,EAAIoE,SAASjG,KAAO6B,EAAIZ,QAC5K8hB,EAAKI,SAAS,CAAEy7B,aAAcx5C,qDAK5Bu3C,KACFA,GAAOztB,oBAAoB,aAAcpoB,KAAKo3C,oBAC9CvB,GAAOztB,oBAAoB,UAAWpoB,KAAKm3C,iBAC3CtB,GAAOztB,oBAAoB,YAAapoB,KAAKw3C,iBAC7CliD,OAAO8yB,oBAAoB,SAAUpoB,KAAKwnB,kBAC1CquB,GAAO4D,+CA0JD,IAAAC,EAAA15C,KACR,OAAIA,KAAKzH,MAAMu/C,aACbp6C,EAAAC,EAAAC,cAACk5C,GAAD,KACEp5C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,IAAIC,KAAK,UAAUI,MAAM,QACpC1H,EAAAC,EAAAC,cAAA,kBAASF,EAAAC,EAAAC,cAAA,WAAT,yBACAF,EAAAC,EAAAC,cAAA,UAAKoC,KAAKzH,MAAMu/C,cAAgB,IAChCp6C,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQC,OAAK,EAACsC,OAAK,EAACpC,QAAS,SAAAN,GAAC,OAAIw0C,EAAKthD,MAAM0P,QAAQC,KAAK,OAA1D,QACArK,EAAAC,EAAAC,cAAA,WACEoC,KAAKzH,MAAMigD,UAAkH,KAAtG96C,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQC,OAAK,EAACsC,OAAK,EAACpC,QAAS,SAAAN,GAAO5P,OAAOC,SAASoP,KAAO,WAAaS,MAAM,OAA9E,YAI1BpF,KAAKzH,MAAMm/C,OAadh6C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACo5C,GAAD,CAA4BjhB,QAAS/1B,KAAKzH,MAAMk9C,eAAiBA,GAAaG,cAC5El4C,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,eAAeC,KAAK,UAAUI,MAAM,QAC/C1H,EAAAC,EAAAC,cAAA,sCACAF,EAAAC,EAAAC,cAAA,8HAGFF,EAAAC,EAAAC,cAAC+7C,EAAA,eAAD,CAAgB1/B,SAAS,eACzBvc,EAAAC,EAAAC,cAACg8C,GAAD,CAAQ10B,eAAgB,kBAAMw0B,EAAKr9B,SAAS,CAAEs8B,kBAAmBe,EAAKnhD,MAAMogD,oBAAqBlD,aAAcz1C,KAAKzH,MAAMk9C,eAC1H/3C,EAAAC,EAAAC,cAACg5C,GAAD,KACEl5C,EAAAC,EAAAC,cAACi8C,GAAD,CAAU50B,wBAAyBjlB,KAAKzH,MAAMmgD,iBAAkBxzB,eAAgB,WAC9Ew0B,EAAKr9B,SAAS,CAAEs8B,kBAAmBe,EAAKnhD,MAAMogD,oBAC7ClD,aAAcz1C,KAAKzH,MAAMk9C,aAAcxxB,SAAUjkB,KAAKzH,MAAMogD,mBAC/Dj7C,EAAAC,EAAAC,cAACk8C,GAAD,UAzBC95C,KAAKzH,MAAMs/C,qBAAuB73C,KAAKzH,MAAMigD,YAChDljD,OAAOC,SAASoP,KAAO,UAIvBjH,EAAAC,EAAAC,cAACk5C,GAAD,KACEp5C,EAAAC,EAAAC,cAACmlB,GAAA,EAAD,CAAQjB,UAAQ,EAACkB,QAAShjB,KAAKzH,MAAMm/C,OAAQ1yC,KAAK,WAAlD,oBAxPiBsD,IAAMC,eAsRlB/E,gBAAW0f,YA3SF,SAAA3qB,GACtB,MAAO,CACLhB,OAAQgB,EAAMhB,OACdJ,MAAOoB,EAAMpB,MACbY,UAAWQ,EAAMR,UACjBI,MAAOI,EAAMJ,QAIU,SAAAgG,GACzB,MAAO,CACLo6C,gBAAiB,SAAAr/C,GAAI,OAAIiF,EtDzCtB,SAAoBjF,GACzB,OAAO,SAAAiF,GAAY,IACTrH,EAAoBoC,EAApBpC,QAASC,EAAWmC,EAAXnC,OACjBoH,EAAS,CAAExF,KAAMjD,EAAYwD,SACzBnC,GAAUD,GAASmH,EAAcnH,EAASC,EAAQoH,IsDqCpBhF,CAAUD,KAC5CK,WAAY,SAAAzC,GAAO,OAAIqH,EtDpBpB,SAAqBrH,GAC1B,MAAO,CAAE6B,KAAM/C,EAAakB,WsDmBMyC,CAAWzC,KAC3CmiD,0BAA2B,SAAAx/C,GAAQ,OAAI0E,EtDnCpC,SAAoC1E,GACzC,MAAO,CAAEd,KAAMhD,EAA8B8D,YsDkCKw/C,CAA0Bx/C,KAC1E0B,WAAY,SAAAD,GAAI,OAAIiD,EAAShD,EAAWD,KACxCQ,iBAAkB,SAAAxC,GAAI,OAAIiF,EtDMvB,SAA2BjF,GAChC,MAAO,CAAEP,KAAMtC,EAAoB6C,QsDPEwC,CAAiBxC,KACpD0C,kBAAmB,SAAAD,GAAM,OAAIwC,EtDS1B,SAA4BxC,GACjC,MAAO,CAAEhD,KAAMrC,EAAqBqF,UsDVIC,CAAkBD,KACxDM,qBAAsB,SAAA/C,GAAI,OAAIiF,EtDoB3B,SAA+BjF,GACpC,MAAO,CAAEP,KAAMlC,EAAwByC,QsDrBE+C,CAAqB/C,OA0RtCgqB,CAA6Cg0B,g9CC1VvE,IAEM6C,GAAQ13C,KAAMrF,IAAI,CACtBI,MAAO,CAAE8V,QAAS,EAAGpV,WAAY,CAAER,SAHT,MAI1BD,KAAM,CAAE6V,QAAS,EAAGpV,WAAY,CAAER,SAJR,QAOtB08C,GAAQ33C,KAAMrF,IAAI,CACtBI,MAAO,CAAE2rB,MAAO,GAChB1rB,KAAM,CAAE0rB,MAAO,MAGXkxB,GAAcl9C,YAAOg9C,GAAPh9C,CAAHm9C,MAaXC,GAAcp9C,YAAOi9C,GAAPj9C,CAAHq9C,KAGNl6C,GAAOC,QAAQS,KAGtB,SAAAxI,GAAK,OAAIA,EAAMkO,SAAWlO,EAAMw3C,UAAY,GAAK,oBACjD,SAAAx3C,GAAK,OAAIA,EAAMkO,QAAU,GAAK,gBAG5B+zC,GAAct9C,IAAOC,IAAVs9C,MAYX9yC,GAAczK,IAAOC,IAAVu9C,KAEK,SAAAniD,GAAK,OAAIA,EAAMoiD,YAAc,cAAgBt6C,GAAOC,QAAQG,iBAG9E,SAAAlI,GAAK,OAAIA,EAAMw3C,UAAY,GAAK,qBAI9BtoC,GAAYvK,IAAOC,IAAVy9C,KAEC,SAAAriD,GAAK,OAAIA,EAAMoiD,YAAc,cAAgB,WAE7C,SAAApiD,GAAK,OAAIA,EAAMkO,QAAU,OAAS,uBAEtB,SAAAlO,GAAK,OAAIA,EAAMsiD,UAAY,EAAI,UAC9B,SAAAtiD,GAAK,OAAIA,EAAMsiD,UAAY,EAAI,UAC7B,SAAAtiD,GAAK,OAAIA,EAAMuiD,UAAY,EAAI,UAC9B,SAAAviD,GAAK,OAAIA,EAAMuiD,UAAY,EAAI,WAMzDC,GAAqB79C,IAAOC,IAAV69C,KACb36C,GAAOC,QAAQS,MAqEXk6C,iNAnDbC,SAAW,SAAA71C,GACLqW,EAAKnjB,MAAM4iD,OACb91C,EAAE+1C,iBACF1/B,EAAKnjB,MAAM8iD,cAIfC,YAAc,SAAAvlB,GACU,KAAlBA,EAAMvb,SAAkBkB,EAAKnjB,MAAM4iD,MAAMz/B,EAAKnjB,MAAM8iD,gGAjBxD3jC,SAAS4Q,iBAAiB,UAAWnoB,KAAKm7C,aAAa,GACvD7lD,OAAO6yB,iBAAiB,WAAYnoB,KAAK+6C,yDAIzCxjC,SAAS6Q,oBAAoB,UAAWpoB,KAAKm7C,aAAa,GAC1D7lD,OAAO8yB,oBAAoB,WAAYpoB,KAAK+6C,2CAcpC,IAAA9+B,EAAAjc,KACF5H,EAAQ4H,KAAK5H,MAEnB,OACEsF,EAAAC,EAAAC,cAAC8c,GAAA,EAAD,KACG1a,KAAK5H,MAAM4iD,MAAQ,CAClBt9C,EAAAC,EAAAC,cAACq8C,GAAD,CAAa1qC,IAAI,QAAQ/J,QAAS,SAAAN,GAC5BA,EAAEN,SAAWM,EAAEk2C,eAAiBn/B,EAAK7jB,MAAM8iD,SAASj/B,EAAK7jB,MAAM8iD,YAEnEx9C,EAAAC,EAAAC,cAACu8C,GAAD,CAAa5qC,IAAI,SAASjJ,QAAStG,KAAK5H,MAAMkO,QAASspC,UAAW5vC,KAAK5H,MAAMw3C,WAC1Ex3C,EAAM8e,OACHxZ,EAAAC,EAAAC,cAACy8C,GAAD,KAAcjiD,EAAM8e,QACpB9e,EAAM0Y,OAAS1Y,EAAMy3B,SACnBnyB,EAAAC,EAAAC,cAACy8C,GAAD,KAAa38C,EAAAC,EAAAC,cAACg9C,GAAD,KAAoBl9C,EAAAC,EAAAC,cAAA,UAAKxF,EAAM0Y,OAAWpT,EAAAC,EAAAC,cAAA,SAAIxF,EAAMy3B,YACjE,KAENnyB,EAAAC,EAAAC,cAACy9C,GAAD,CAAW/0C,QAAStG,KAAK5H,MAAMkO,QAASk0C,YAAapiD,EAAMiO,gBAAiBq0C,YAAatiD,EAAM8e,UAAY9e,EAAM0Y,SAAW1Y,EAAMy3B,SAAU8qB,YAAaviD,EAAMuP,QAAQjK,EAAAC,EAAAC,cAAA,WAAMxF,EAAMC,WAElLD,EAAMuP,OAASjK,EAAAC,EAAAC,cAAC09C,GAAD,CAAad,YAAapiD,EAAMu3C,kBAAmBC,UAAW5vC,KAAK5H,MAAMw3C,WAAYx3C,EAAMuP,aAAwB/Q,aAxCtH0R,IAAMC,sdChEjC,IAOMuuC,GAAkB/5C,IAAOC,IAAVu+C,KAYVr7C,GAAOC,QAAQS,MAGpBwhB,GAAUrlB,IAAOC,IAAVw+C,MA8CEh4C,oBAAW0f,YApEF,SAAA3qB,GACtB,MAAO,CACLR,UAAWQ,EAAMR,UACjBI,MAAOI,EAAMJ,QAiES+qB,CAvC1B,SAAc9qB,GAAO,IAAAqL,EACMC,mBAAS,IAA1Bo0C,EADW9+C,OAAA4K,EAAA,EAAA5K,CAAAyK,EAAA,MAAAM,EAEuBL,qBAFvBM,EAAAhL,OAAA4K,EAAA,EAAA5K,CAAA+K,EAAA,GAEX03C,EAFWz3C,EAAA,GAEG03C,EAFH13C,EAAA,GAGnB,OAAI8zC,EAEAp6C,EAAAC,EAAAC,cAAC+9C,GAAD,KACEj+C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACkH,GAAA,EAAD,CAAMC,KAAK,IAAIC,KAAK,UAAUI,MAAM,QACpC1H,EAAAC,EAAAC,cAAA,kBAASF,EAAAC,EAAAC,cAAA,WAAT,yBACAF,EAAAC,EAAAC,cAAA,UAAKk6C,GAAgB,IACrBp6C,EAAAC,EAAAC,cAACyH,GAAA,EAAD,CAAQC,OAAK,EAACsC,OAAK,EAACpC,QAAS,SAAAN,GAAO5P,OAAOC,SAASoP,KAAO,WAAaS,MAAM,OAA9E,YAON1H,EAAAC,EAAAC,cAAA,OAAKG,UAAU,OACbL,EAAAC,EAAAC,cAACg+C,GAAD5iD,OAAAsqB,OAAA,CAAc43B,QAAS/iD,GAAMoO,KAAMy0C,KAAM5iD,EAAML,WAAgBK,EAAMD,MAAMC,OAASA,EAAMD,MAAME,UAChGqF,EAAAC,EAAAC,cAAC+2C,GAAA,EAAD,KACEj3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOzwC,KAAMO,GAAM3D,UAAWw0C,UAAW2B,KACzCx5C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOE,OAAQ,kBACbp3C,EAAAC,EAAAC,cAACooB,GAAA,WAAD,CAAY3hB,MAAO,CAAE2V,MAAO,QAAS1X,OAAQ,SAAW0W,IAAK,SAAAnC,GAAS,OAAI6kC,EAAgB7kC,KACxFnZ,EAAAC,EAAAC,cAACi+C,GAAD,KACEn+C,EAAAC,EAAAC,cAACk+C,GAAD,OAEFp+C,EAAAC,EAAAC,cAAC+2C,GAAA,EAAD,KACEj3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOzwC,KAAI,GAAArF,OAAK4F,GAAMhD,aAAX,UAAiC6zC,UAAWr2B,KACvDxhB,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOzwC,KAAI,GAAArF,OAAK4F,GAAMnD,IAAX,eAA6BuzC,OAAQ,SAAA18C,GAAK,OAAIsF,EAAAC,EAAAC,cAACm+C,GAAD/iD,OAAAsqB,OAAA,GAASlrB,EAAT,CAAgBye,UAAW4kC,QACpF/9C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOzwC,KAAK,IAAIoxC,UAAW,SAAAR,GAAW,OAAIr3C,EAAAC,EAAAC,cAACo+C,GAASjH,MACpDr3C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOE,OAAQ,kBAAMp3C,EAAAC,EAAAC,cAAC4lC,GAAA,EAAD,CAAUh/B,GAAG,mBCrEhDy3C,IAASnH,OACPp3C,EAAAC,EAAAC,cAACs+C,EAAA,EAAD,CAAUhgD,MAAOA,GACfwB,EAAAC,EAAAC,cAACu+C,EAAA,EAAD,KACEz+C,EAAAC,EAAAC,cAACg3C,EAAA,EAAD,CAAOzwC,KAAK,IAAIoxC,UAAWc,OAElB9+B,SAAS6kC,eAAe,S9DiHjC,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMl8B,KAAK,SAAAm8B,GACjCA,EAAaC","file":"static/js/main.9e9b0b73.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n)\r\n\r\nexport function register (config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW (swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.')\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error)\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker (swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type')\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      )\r\n    })\r\n}\r\n\r\nexport function unregister () {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister()\r\n    })\r\n  }\r\n}\r\n","export const INIT_STATE = 'INIT_STATE'\r\nexport const UPDATE_GUILD_AFTER_WEBSOCKET = 'UPDATE_GUILD_AFTER_WEBSOCKET'\r\nexport const CLEAR_GUILD = 'CLEAR_GUILD'\r\nexport const TEST_ACTION = 'TEST_ACTION'\r\nexport const CHANGE_PAGE = 'CHANGE_PAGE'\r\nexport const CHANGE_FILTERS = 'CHANGE_FILTERS'\r\nexport const SET_GUILD_CHANNELS = 'SET_GUILD_CHANNELS'\r\nexport const SET_ACTIVE_GUILD = 'SET_ACTIVE_GUILD'\r\nexport const SET_ACTIVE_FEED = 'SET_ACTIVE_FEED'\r\nexport const ARTICLES_FETCHED = 'ARTICLES_FETCHED'\r\nexport const ARTICLES_FETCHING = 'ARTICLES_FETCHING'\r\nexport const ARTICLES_ERROR = 'ARTICLES_ERROR'\r\nexport const UPDATE_LINK_STATUS = 'UPDATE_LINK_STATUS'\r\nexport const UPDATE_GUILD_LIMITS = 'UPDATE_GUILD_LIMITS'\r\nexport const SHOW_MODAL = 'SHOW_MODAL'\r\nexport const HIDE_MODAL = 'HIDE_MODAL'\r\nexport const UPDATE_SOURCE_SCHEDULE = 'UPDATE_SOURCE_SCHEDULE'\r\n","import { TEST_ACTION, CHANGE_PAGE, SET_ACTIVE_GUILD, SET_ACTIVE_FEED, INIT_STATE, CHANGE_FILTERS, CLEAR_GUILD, UPDATE_GUILD_AFTER_WEBSOCKET, ARTICLES_FETCHING, ARTICLES_ERROR, ARTICLES_FETCHED, UPDATE_LINK_STATUS, UPDATE_GUILD_LIMITS, SHOW_MODAL, HIDE_MODAL, UPDATE_SOURCE_SCHEDULE } from '../constants/action-types'\r\nimport update from 'immutability-helper'\r\n\r\nconst initialState = {\r\n  user: undefined,\r\n  defaultConfig: {},\r\n  guildId: '',\r\n  feedId: '',\r\n  guild: null,\r\n  feed: null,\r\n  articleList: [],\r\n  feeds: {},\r\n  roles: {},\r\n  subscribers: {},\r\n  filters: {},\r\n  guilds: {},\r\n  embeds: {},\r\n  messages: {},\r\n  channels: {},\r\n  linkStatuses: {},\r\n  guildLimits: {},\r\n  articlesFetching: false,\r\n  articlesError: '',\r\n  modalOpen: false,\r\n  csrfToken: '',\r\n  refreshRates: {},\r\n  cpResponse: null,\r\n  modal: {\r\n    props: null,\r\n    children: null\r\n  }\r\n}\r\n\r\n// Always use immutability-helper for updating nested objects like guildRss\r\n\r\nfunction initState (state, action) {\r\n  return { ...state, ...action.data }\r\n}\r\n\r\nfunction clearGuild (state, action) {\r\n  const guildIdToUse = action.guildId || state.guildId\r\n  return update(state, {\r\n    feeds: { [guildIdToUse]: { $set: undefined } },\r\n    filters: { [guildIdToUse]: { $set: undefined } },\r\n    subscriptions: { [guildIdToUse]: { $set: undefined } }\r\n  })\r\n}\r\n\r\nfunction updateGuildAfterWebSocket (state, action) {\r\n  const guildId = state.guildId\r\n\r\n  const newState = update(state, {\r\n    guilds: { [guildId]: { $set: {} } },\r\n    messages: { [guildId]: { $set: {} } },\r\n    embeds: { [guildId]: { $set: {} } },\r\n    filters: { [guildId]: { $set: {} } },\r\n    subscribers: { [guildId]: { $set: {} } },\r\n    feeds: { [guildId]: { $set: {} } }\r\n  })\r\n\r\n  const guildRss = action.guildRss\r\n  for (const keyName in guildRss) {\r\n    const value = guildRss[keyName]\r\n    if (typeof value !== 'object' && value !== undefined) newState.guilds[guildId][keyName] = value\r\n    if (keyName !== 'sources') continue\r\n    const rssList = value\r\n    for (const rssName in rssList) {\r\n      const source = rssList[rssName]\r\n      source.rssName = rssName\r\n      const copy = JSON.parse(JSON.stringify(source))\r\n      newState.feeds[guildId][rssName] = copy\r\n      newState.embeds[guildId][rssName] = source.embeds\r\n      newState.messages[guildId][rssName] = source.message\r\n      // Feed Filters\r\n      if (source.filters) newState.filters[guildId][rssName] = source.filters\r\n\r\n      // Feed Subscriptions\r\n      newState.subscribers[guildId][rssName] = {}\r\n      if (source.subscribers && source.subscribers.length > 0) {\r\n        for (const subscriber of source.subscribers) {\r\n          newState.subscribers[guildId][rssName][subscriber.id] = subscriber\r\n        }\r\n      }\r\n      if (state.feedId === rssName) newState.feed = source\r\n    }\r\n  }\r\n  return state.guildId === guildRss.id ? update(newState, { guild: { $set: newState.guilds[state.guildId] } }) : newState\r\n}\r\n\r\nfunction changePage (state, action) {\r\n  return update(state, { page: { $set: action.page } })\r\n}\r\n\r\nfunction changeFilters (state, action) {\r\n  const { rssName, data } = action\r\n  return update(state, { feeds: { [action.guildId || state.guildId]: { [rssName]: { filters: { $set: data } } } } })\r\n}\r\n\r\nfunction setActiveGuild (state, action) {\r\n  if (state.guildId === action.guildId) return state\r\n  return update(state, { guildId: { $set: action.guildId }, feedId: { $set: '' }, articleList: { $set: [] }, articlesError: { $set: '' }, guild: { $set: state.guilds[action.guildId] } }) // MUST be an empty string. undefined will cause some components to be unintentionally uncontrolled\r\n}\r\n\r\nfunction setActiveFeed (state, action) {\r\n  if (state.feedId === action.rssName) return state\r\n  return update(state, { feedId: { $set: action.rssName }, feed: { $set: JSON.parse(JSON.stringify(state.feeds[state.guildId][action.rssName])) } })\r\n}\r\n\r\nfunction articlesFetched (state, action) {\r\n  return update(state, { articlesFetching: { $set: false }, articleList: { $set: action.articleList }, articlesError: { $set: '' } })\r\n}\r\n\r\nfunction articlesFetching (state, action) {\r\n  return update(state, { articlesFetching: { $set: true }, articleList: { $set: [] }, articlesError: { $set: '' } })\r\n}\r\n\r\nfunction articlesError (state, action) {\r\n  return update(state, { articlesFetching: { $set: false }, articlesError: { $set: action.err } })\r\n}\r\n\r\nfunction updateLinkStatus (state, action) {\r\n  return update(state, { linkStatuses: { [action.data.link]: { $set: action.data.status } } })\r\n}\r\n\r\nfunction updateGuildLimits (state, action) {\r\n  let newState = state\r\n  for (const guildId in action.limits) {\r\n    newState = update(newState, { guildLimits: { [guildId]: { $set: action.limits[guildId] } } })\r\n  }\r\n  return newState\r\n}\r\n\r\nfunction showModal (state, action) {\r\n  return update(state, {\r\n    modalOpen: { $set: true },\r\n    modal: { children: { $set: action.children }, props: { $set: action.props } }\r\n  })\r\n}\r\n\r\nfunction hideModal (state, action) {\r\n  return update(state, { modalOpen: { $set: false } })\r\n}\r\n\r\nfunction updateSourceSchedule (state, action) {\r\n  const { guildId, rssName, refreshTimeMinutes } = action.data\r\n  return update(state, { refreshRates: { [guildId]: { [rssName]: { $set: refreshTimeMinutes } } } })\r\n}\r\n\r\nfunction rootReducer (state = initialState, action) {\r\n  if (action.type === TEST_ACTION) {\r\n    return update(state, { testVal: { $set: action.payload } })\r\n  } else if (action.type === INIT_STATE) {\r\n    return initState(state, action)\r\n  } else if (action.type === CLEAR_GUILD) {\r\n    return clearGuild(state, action)\r\n  } else if (action.type === UPDATE_GUILD_AFTER_WEBSOCKET) {\r\n    return updateGuildAfterWebSocket(state, action)\r\n  } else if (action.type === CHANGE_PAGE) {\r\n    return changePage(state, action)\r\n  } else if (action.type === CHANGE_FILTERS) {\r\n    return changeFilters(state, action)\r\n  } else if (action.type === SET_ACTIVE_GUILD) {\r\n    return setActiveGuild(state, action)\r\n  } else if (action.type === SET_ACTIVE_FEED) {\r\n    return setActiveFeed(state, action)\r\n  } else if (action.type === ARTICLES_FETCHED) {\r\n    return articlesFetched(state, action)\r\n  } else if (action.type === ARTICLES_FETCHING) {\r\n    return articlesFetching(state, action)\r\n  } else if (action.type === ARTICLES_ERROR) {\r\n    return articlesError(state, action)\r\n  } else if (action.type === UPDATE_LINK_STATUS) {\r\n    return updateLinkStatus(state, action)\r\n  } else if (action.type === UPDATE_GUILD_LIMITS) {\r\n    return updateGuildLimits(state, action)\r\n  } else if (action.type === SHOW_MODAL) {\r\n    return showModal(state, action)\r\n  } else if (action.type === HIDE_MODAL) {\r\n    return hideModal(state, action)\r\n  } else if (action.type === UPDATE_SOURCE_SCHEDULE) {\r\n    return updateSourceSchedule(state, action)\r\n  }\r\n\r\n  return state\r\n}\r\n\r\nexport default rootReducer\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from '../reducers/index-reducer.js'\r\nconst store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\nstore.subscribe(() => {\r\n  const { guildId, feedId } = store.getState()\r\n  const storedFeedId = window.localStorage.getItem('feedId')\r\n  const storedGuildId = window.localStorage.getItem('guildId')\r\n  if (feedId && storedFeedId !== feedId) window.localStorage.setItem('feedId', feedId)\r\n  if (guildId && storedGuildId !== guildId) window.localStorage.setItem('guildId', guildId)\r\n})\r\n\r\nexport default store\r\n","import React from 'react'\r\nimport { toast, cssTransition } from 'react-toastify'\r\nimport styled from 'styled-components'\r\n\r\nconst PaddedText = styled.div`\r\n  padding: 0.5em;\r\n`\r\n\r\nconst DiscordAnim = cssTransition({\r\n  enter: 'bounceIn',\r\n  exit: 'minimizeOut',\r\n  duration: 350\r\n})\r\n\r\nexport default {\r\n  success: (message, options) => {\r\n    toast.success(<PaddedText>{message}</PaddedText>, {\r\n      ...options,\r\n      autoClose: 2500,\r\n      transition: DiscordAnim,\r\n      className: `discord-alert-success`\r\n    })\r\n  },\r\n  error: (message, options) => {\r\n    toast.error(<PaddedText>{message}</PaddedText>, {\r\n      ...options,\r\n      transition: DiscordAnim,\r\n      className: 'discord-alert-error'\r\n    })\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { TEST_ACTION, CHANGE_PAGE, SET_ACTIVE_GUILD, SET_ACTIVE_FEED, CHANGE_FILTERS, CLEAR_GUILD, UPDATE_GUILD_AFTER_WEBSOCKET, INIT_STATE, ARTICLES_FETCHING, ARTICLES_ERROR, ARTICLES_FETCHED, UPDATE_LINK_STATUS, UPDATE_GUILD_LIMITS, SHOW_MODAL, HIDE_MODAL, UPDATE_SOURCE_SCHEDULE } from '../constants/action-types.js'\r\nimport axios from 'axios'\r\nimport toast from '../components/ControlPanel/utils/toast'\r\n\r\nasync function fetchArticles (guildId, feedId, dispatch) {\r\n  dispatch(articlesFetching())\r\n  try {\r\n    const res = await axios.get(`/api/guilds/${guildId}/feeds/${feedId}/placeholders`)\r\n    const allArticlePlaceholders = res.data\r\n    dispatch(articlesFetched(allArticlePlaceholders))\r\n  } catch (err) {\r\n    console.log(err.data || err)\r\n    const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n    toast.error(<p>Failed to fetch articles for feed<br /><br />{typeof errMessage === 'object' ? 'Unhandled Error' : errMessage || 'Unknown Error'}</p>)\r\n    dispatch(articlesError(typeof errMessage === 'object' ? 'Unhandled Error' : errMessage || 'Unknown Error'))\r\n  }\r\n}\r\n\r\nexport function testAction (payload) {\r\n  return { type: TEST_ACTION, payload }\r\n}\r\n\r\nexport function initState (data) {\r\n  return dispatch => {\r\n    const { guildId, feedId } = data\r\n    dispatch({ type: INIT_STATE, data })\r\n    if (feedId && guildId) fetchArticles(guildId, feedId, dispatch)\r\n  }\r\n}\r\n\r\nexport function updateGuildAfterWebsocket (guildRss) {\r\n  return { type: UPDATE_GUILD_AFTER_WEBSOCKET, guildRss }\r\n}\r\n\r\nexport function changePage (page) {\r\n  return (dispatch, getState) => {\r\n    dispatch({ type: CHANGE_PAGE, page })\r\n  }\r\n}\r\n\r\nexport function changeFilters (rssName, data, guildId) {\r\n  return { type: CHANGE_FILTERS, rssName, data, guildId }\r\n}\r\n\r\nexport function clearGuild (guildId) {\r\n  return { type: CLEAR_GUILD, guildId }\r\n}\r\n\r\nexport function setActiveGuild (guildId) {\r\n  return { type: SET_ACTIVE_GUILD, guildId }\r\n}\r\n\r\nexport function setActiveFeed (rssName, again) {\r\n  return async (dispatch, getState) => {\r\n    const { guildId, feedId } = getState()\r\n    if (rssName === feedId && !again) return\r\n    dispatch({ type: SET_ACTIVE_FEED, rssName })\r\n    await fetchArticles(guildId, rssName, dispatch)\r\n  }\r\n}\r\n\r\nexport function articlesFetched (articleList) {\r\n  return { type: ARTICLES_FETCHED, articleList }\r\n}\r\n\r\nexport function articlesFetching (percent) {\r\n  return { type: ARTICLES_FETCHING, percent }\r\n}\r\n\r\nexport function articlesError (err) {\r\n  return { type: ARTICLES_ERROR, err }\r\n}\r\n\r\nexport function updateLinkStatus (data) {\r\n  return { type: UPDATE_LINK_STATUS, data }\r\n}\r\n\r\nexport function updateGuildLimits (limits) {\r\n  return { type: UPDATE_GUILD_LIMITS, limits }\r\n}\r\n\r\nexport function showModal (props, children) {\r\n  return { type: SHOW_MODAL, props, children }\r\n}\r\n\r\nexport function hideModal () {\r\n  return { type: HIDE_MODAL }\r\n}\r\n\r\nexport function updateSourceSchedule (data) {\r\n  return { type: UPDATE_SOURCE_SCHEDULE, data }\r\n}\r\n","// Purely for testing redux\r\n\r\nimport store from './store/index-store.js'\r\nimport { testAction } from './actions/index-actions.js'\r\n\r\nwindow.store = store\r\nwindow.testAction = testAction\r\n","export default {\r\n  discord: {\r\n    blurple: `#7289DA`,\r\n    greyple: `#99AAB5`,\r\n    darkButNotBlack: `#2C2F33`,\r\n    white: '#f6f6f7',\r\n    red: '#f04747',\r\n    green: '#43b581',\r\n    yellow: 'rgb(250, 166, 26)',\r\n    notQuiteblack: `#23272A`,\r\n    text: '#b9bbbe',\r\n    subtext: '#72767d'\r\n  }\r\n}\r\n","export default {\r\n  DASHBOARD: '/cp',\r\n  MESSAGE: '/cp/message',\r\n  FILTERS: '/cp/filters',\r\n  SUBSCRIPTIONS: '/cp/subscriptions',\r\n  MISC_OPTIONS: '/cp/miscoptions',\r\n  FEEDS: '/cp/feeds',\r\n  SERVER_SETTINGS: '/cp/settings',\r\n  DEBUGGER: '/cp/debugger',\r\n  FAQ: '/faq',\r\n  TODO: '/todo',\r\n  SUPPORT: '/support',\r\n  FEED_BROWSER: '/feed-browser'\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { Icon, Button } from 'semantic-ui-react'\r\nimport { darken } from 'polished'\r\nimport colors from '../../constants/colors'\r\nimport posed from 'react-pose'\r\nimport pages from '../../constants/pages'\r\n\r\nconst Title = styled.h2`\r\n  color: ${darken(0.1, 'white')};\r\n  margin: 0;\r\n`\r\n\r\nconst MobileNav = styled.nav`\r\n  height: 100%;\r\n  position: relative;\r\n  display: none;\r\n  align-items: center;\r\n  padding: 0 25px;\r\n  > a {\r\n    display: flex;\r\n    margin-left: 25px;\r\n    z-index: 150;\r\n  }\r\n  > .ui.button {\r\n    z-index: 150;\r\n  }\r\n  @media only screen and (max-width: 850px) {\r\n    display: flex;\r\n  }\r\n  z-index: 90;\r\n`\r\n\r\nconst SidebarStyles = styled.div`\r\n  position: absolute;\r\n  background: black;\r\n  border-bottom-style: solid;\r\n  border-bottom-color: black;\r\n  border-bottom-width: 1px;\r\n  width: 100%;\r\n  z-index: 100;\r\n  top: 0;\r\n  left: 0;\r\n  overflow: hidden;\r\n  > div {\r\n    height: 60px;\r\n    width: 100%;\r\n  }\r\n  > ul {\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    /* padding: 0 25px; */\r\n    a {\r\n      display: block;\r\n      padding: 15px 25px 15px 25px;\r\n      color: ${colors.discord.text};\r\n      text-decoration: none;\r\n      > span {\r\n        margin-left: 5px;\r\n      }\r\n    }\r\n      \r\n  }\r\n`\r\n\r\nconst Sidebar = posed(SidebarStyles)({\r\n  enter: { height: 'auto' },\r\n  exit: { height: 0 }\r\n})\r\n\r\nconst DesktopNav = styled.nav`\r\n  height: 100%;\r\n  @media only screen and (max-width: 850px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst NavButtons = styled.ul`\r\n  height: 100%;\r\n  list-style: none;\r\n  padding: 0;\r\n  display: flex;\r\n  /* padding: 0 25px; */\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin: 0;\r\n  user-select: none;\r\n`\r\n\r\nconst NavItem = styled.li`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  \r\n  &:first-child > a {\r\n    user-select: none;\r\n    padding-left: 25px;\r\n    justify-content: left;\r\n  }\r\n  &:last-child {\r\n    height: auto;\r\n    padding-right: 25px;\r\n    justify-content: flex-end;\r\n  }\r\n  > button {\r\n    color: ${colors.discord.text};\r\n    border: none;\r\n    background: none;\r\n    transition: color 0.25s;\r\n    width: 100%;\r\n    cursor: pointer;\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n    &:hover {\r\n      color: white;\r\n      text-decoration: none;\r\n    }\r\n    > i {\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n  /* text-align: center; */\r\n  > a {\r\n    padding: 10px 20px;\r\n    justify-content: center;\r\n    display: flex;\r\n    height: 100%;\r\n    width: 100%;\r\n    align-items: center;\r\n    text-align: center;      \r\n    min-width: 100px;\r\n    cursor: pointer;\r\n    color: ${props => props.selected ? 'white' : colors.discord.text};\r\n    text-decoration: none;\r\n    transition: color 0.25s;\r\n    &:hover {\r\n      color: white;\r\n      text-decoration: none;\r\n    }\r\n    > i {\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n`\r\n\r\nconst Logo = styled.img`\r\n  height:  2em;\r\n  margin-right: 0.75em;\r\n`\r\n\r\nconst NavDropdown = styled.ul`\r\n  display: ${props => props.show ? 'block' : 'none'};\r\n  position: absolute;\r\n  list-style: none;\r\n  padding: 0;\r\n  top: 55px;\r\n  z-index: 10;\r\n  background: ${colors.discord.darkButNotBlack};\r\n  padding: 3px 0;\r\n  border-radius: 6px;\r\n  /* border-color: ${colors.discord.greyple}; */\r\n  border-width: 1px;\r\n  /* border-style: solid; */\r\n  min-width: 122px;\r\n`\r\n\r\nconst DropdownNavItem = styled.li`\r\n  > a {\r\n    cursor: pointer;\r\n    display: block;\r\n    padding: 10px 20px;\r\n    color: ${colors.discord.text};\r\n    &:hover {\r\n      text-decoration: none;\r\n      > span {\r\n        color: black;\r\n      }\r\n      > i {\r\n        color: black;\r\n      }\r\n      \r\n      /* color: ${colors.discord.text}; */\r\n    }\r\n    > span {\r\n      padding-left: 5px;\r\n    }\r\n  }\r\n  &:hover {\r\n    background: ${colors.discord.greyple};\r\n  }\r\n`\r\n\r\nfunction NavBar (props) {\r\n  const [ showNavDropdown, setShowNavDropdown ] = useState(false)\r\n  const [ showMobileNav, setShowMobileNav ] = useState(false)\r\n  const path = props.location.pathname\r\n\r\n  return (\r\n    <header style={{ height: '100%' }}>\r\n      <DesktopNav>\r\n        <NavButtons>\r\n          <NavItem select={path === '/'}>\r\n            <Link to='/'>\r\n              <Logo src='https://discordapp.com/assets/d36b33903dafb0107bb067b55bdd9cbc.svg' />\r\n              <Title>Discord.RSS</Title>\r\n            </Link>\r\n          </NavItem>\r\n          <NavItem selected={path === pages.FAQ}><Link to={pages.FAQ}>FAQ</Link></NavItem>\r\n          <NavItem selected={path === pages.FEED_BROWSER}><Link to={pages.FEED_BROWSER}>Feed Browser</Link></NavItem>\r\n          {/* <li onMouseEnter={e => setHoverPatreon(true)} onMouseLeave={e => setHoverPatreon(false)}>Patreon<ExternalIcon pose={hoveringPatreon ? 'enter' : 'exit'} name='external' /></li>\r\n          <li onMouseEnter={e => setHoverGithub(true)} onMouseLeave={e => setHoverGithub(false)}>Github<ExternalIcon pose={hoveringGithub ? 'enter' : 'exit'} name='external' /></li> */}\r\n          <NavItem selected={path === pages.SUPPORT}><a href='https://discord.gg/pudv7Rx' target='_blank' rel='noopener noreferrer'>Support<Icon name='external' size='small' /></a></NavItem>\r\n          <NavItem onMouseEnter={e => setShowNavDropdown(true)} onMouseLeave={e => setShowNavDropdown(false)}>\r\n            <button>Links<Icon name='caret down' size='small' /></button>\r\n            <NavDropdown show={showNavDropdown} >\r\n              <DropdownNavItem><a href='https://github.com/synzen/Discord.RSS' target='_blank' rel='noopener noreferrer'><Icon name='github' /><span>Github</span></a></DropdownNavItem>\r\n              <DropdownNavItem><a href='https://www.patreon.com/discordrss' target='_blank' rel='noopener noreferrer'><Icon name='patreon' style={{ color: '#E85B46' }} /><span>Patreon</span></a></DropdownNavItem>\r\n            </NavDropdown>\r\n          </NavItem>\r\n\r\n          <NavItem><Link to={pages.DASHBOARD}><Button basic>Control Panel</Button></Link></NavItem>\r\n        </NavButtons>\r\n      </DesktopNav>\r\n      <MobileNav>\r\n        <Button basic icon={showMobileNav ? 'caret up' : 'list ul'} onClick={e => setShowMobileNav(!showMobileNav)} />\r\n        <Link to='/'>\r\n          <Logo src='https://discordapp.com/assets/d36b33903dafb0107bb067b55bdd9cbc.svg' />\r\n          <Title>Discord.RSS</Title>\r\n        </Link>\r\n        <Sidebar pose={showMobileNav ? 'enter' : 'exit'}>\r\n          <div />\r\n          <ul>\r\n            <li><Link to={pages.FAQ} onClick={e => setShowMobileNav(false)}>FAQ</Link></li>\r\n            <li><Link to={pages.FEED_BROWSER} onClick={e => setShowMobileNav(false)}>Feed Browser</Link></li>\r\n            <li><a href='https://discord.gg/pudv7Rx' target='_blank' rel='noopener noreferrer'>Discord Support<Icon style={{ marginLeft: '5px' }} name='external' size='small' /></a></li>\r\n            <li><a href='https://github.com/synzen/Discord.RSS' target='_blank' rel='noopener noreferrer'><Icon name='github' /><span>Github</span></a></li>\r\n            <li><a href='https://www.patreon.com/discordrss' target='_blank' rel='noopener noreferrer'><Icon name='patreon' style={{ color: '#E85B46' }} /><span>Patreon</span></a></li>\r\n          </ul>\r\n        </Sidebar>\r\n      </MobileNav>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default withRouter(NavBar)\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport PropTypes from 'prop-types'\r\nconst SectionWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst SectionInner = styled.section`\r\n  max-width: 1400px;\r\n  width: 100%;\r\n  text-align: center;\r\n  padding: 60px 30px;\r\n  > h2 {\r\n    margin-bottom: 12px;\r\n    font-size: 26px;\r\n    line-height: 34px;\r\n  }\r\n  > p {\r\n    margin-bottom: 50px;\r\n    line-height: 30px;\r\n    font-size: 18px;\r\n  }\r\n`\r\n\r\nfunction Section (props) {\r\n  return (\r\n    <SectionWrapper>\r\n      <SectionInner style={{ ...props.style }}>\r\n        {props.children}\r\n      </SectionInner>\r\n    </SectionWrapper>\r\n  )\r\n}\r\n\r\nSection.propTypes = {\r\n  children: PropTypes.node,\r\n  style: PropTypes.object\r\n}\r\n\r\nexport default Section\r\n","import React from 'react'\r\nimport store from '../../store/index-store'\r\nimport { showModal, hideModal } from '../../actions/index-actions'\r\nimport styled from 'styled-components'\r\n\r\nconst ModalImageContainer = styled.div`\r\n  user-select: none;\r\n  > img {\r\n    display: block;\r\n    max-width: 80vw;\r\n    max-height: 80vh;\r\n  }\r\n  > a {\r\n    display: inline-block;\r\n    line-height: 30px;\r\n    color: white !important;\r\n    transition: opacity .15s ease;\r\n    text-decoration: none;\r\n    font-size: 14px;\r\n    outline: 0;\r\n    opacity: .5;\r\n    &:hover {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`\r\n\r\nexport default {\r\n  show: (props, children) => {\r\n    store.dispatch(showModal(props, children))\r\n  },\r\n  showImage: (src, alt) => {\r\n    const props = {\r\n      transparentBody: true,\r\n      isImage: true\r\n    }\r\n    const children = (\r\n      <ModalImageContainer>\r\n        <img alt={alt} src={src} />\r\n        <a href={src} target='_blank' rel='noopener noreferrer'>Open Original</a>\r\n      </ModalImageContainer>\r\n    )\r\n    store.dispatch(showModal(props, children))\r\n  },\r\n  hide: () => {\r\n    store.dispatch(hideModal())\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { Button, Icon } from 'semantic-ui-react'\r\nimport Section from './Section'\r\nimport colors from '../../constants/colors'\r\nimport modal from '../utils/modal'\r\nimport pages from '../../constants/pages'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Header = styled.div`\r\n  position: relative;\r\n  background-color: #26262b;\r\n  width: 100%;\r\n  height: 750px;\r\n  /* justify-content: center; */\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  /* flex-direction: column; */\r\n  /* padding-top: 100px; */\r\n  text-align: center;\r\n  /* max-width: 1600px; */\r\n  p {\r\n    margin-bottom: 30px;\r\n    font-size: 16px;\r\n  }\r\n  h1 {\r\n    font-weight: bold;\r\n  }\r\n  > div {\r\n\r\n    max-width: 1400px;\r\n    \r\n    padding: 0 30px;\r\n    overflow: hidden;\r\n    @media only screen and (min-width: 1270px) {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      width: 100%;\r\n    }\r\n  }\r\n  @media only screen and (min-width: 1270px) {\r\n      height: 500px;\r\n  }\r\n`\r\n\r\nconst HeaderButtons = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 40px;\r\n  > .ui.button {\r\n    width: 200px;\r\n    &:first-child {\r\n      margin-right: 2em;\r\n    }\r\n  }\r\n`\r\n\r\nconst ImageContainer = styled.div`\r\n  margin-top: 50px;\r\n  @media only screen and (min-width: 1270px) {\r\n    margin-top: 0;\r\n  }\r\n  > img {\r\n    max-width: 450px;\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0 8px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\r\n  }\r\n`\r\n\r\nconst Cards = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  /* justify-content: space-between; */\r\n  flex-wrap: wrap;\r\n`\r\n\r\nconst Card = styled.div`\r\n  box-shadow: 0 9px 20px 0 rgba(0,0,0,0.23);\r\n  background-color: #26262b;\r\n  max-width: 345px;\r\n  width: 100%;\r\n  padding: 30px 20px;\r\n  min-height: 350px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  /* margin-right: 30px;\r\n  margin-top: 30px; */\r\n  margin: 30px;\r\n  margin-bottom: 0;\r\n  /* &:last-child {\r\n    margin-right: 0;\r\n  } */\r\n  h3 {\r\n    margin-top: 30px !important;\r\n    font-weight: bolder;\r\n    line-height: 30px;\r\n    margin-bottom: 12px;\r\n  }\r\n  p {\r\n    font-size: 20px;\r\n    margin-bottom: 50px !important;\r\n  }\r\n  i {\r\n    font-size: 3.5em !important;\r\n    margin-top: 50px !important;\r\n  }\r\n`\r\n\r\nconst FeatureBoxes = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  max-width: 1200px;\r\n  flex-wrap: wrap;\r\n  margin: 0 auto;\r\n`\r\n\r\nconst Feature = styled.div`\r\n  max-width: 350px;\r\n  width: 100%;\r\n  max-height: 225px;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: left;\r\n  flex-direction: column;\r\n  text-align: left;\r\n  padding: 30px;\r\n\r\n  > div {\r\n    margin-top: 20px;\r\n    > span {\r\n      font-size: 24px;\r\n      color: white;\r\n    }\r\n    > p {\r\n      font-size: 16px;\r\n      margin-top: 10px;\r\n    }\r\n  }\r\n  i {\r\n    font-size: 40px !important;\r\n  }\r\n  img {\r\n    width: 40px;\r\n    height: 100%;\r\n  }\r\n`\r\n\r\nconst ModalBody = styled.div`\r\n  text-align: center;\r\n`\r\n\r\nconst ModalFooter = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  a {\r\n    width: 100%;\r\n    &:hover {\r\n      text-decoration: none;\r\n    }\r\n    &:first-child {\r\n    margin-right: 10px;\r\n  }\r\n  }\r\n  \r\n`\r\n\r\nconst modalProps = {\r\n  footer: <ModalFooter>\r\n    <a target='_blank' rel='noopener noreferrer' href='https://discordapp.com/oauth2/authorize?client_id=268478587651358721&scope=bot&permissions=19456' onClick={e => modal.hide()}><Button fluid>With Role</Button></a>\r\n    <a target='_blank' rel='noopener noreferrer' href='https://discordapp.com/oauth2/authorize?client_id=268478587651358721&scope=bot' onClick={e => modal.hide()}><Button fluid>Without Role</Button></a>\r\n  </ModalFooter>\r\n}\r\n\r\nconst modalChildren = <ModalBody>You can choose whether you want a role attached to the me by default.</ModalBody>\r\n\r\nfunction Home (props) {\r\n  return (\r\n    <div>\r\n      <Header>\r\n        <div>\r\n          <div>\r\n            <h1>Get news delivered, automagically.</h1>\r\n            <p>Receive news from sources like Twitter, YouTube, Reddit, Steam, or any site that supports RSS.<br />\r\n              With a copious level of customization, you can design it to look just how you want it.\r\n            </p>\r\n            <HeaderButtons>\r\n              <Button basic onClick={e => props.history.push(pages.DASHBOARD)}>Control Panel</Button>\r\n              <Button size='large' onClick={e => modal.show(modalProps, modalChildren)}>Invite Me!</Button>\r\n            </HeaderButtons>\r\n          </div>\r\n          <ImageContainer>\r\n            <img src='https://i.imgur.com/okaIBQv.png' alt='Sample Screenshot' />\r\n          </ImageContainer>\r\n        </div>\r\n      </Header>\r\n      {/* <SampleContainer>\r\n        <h2>Samples</h2>\r\n      </SampleContainer> */}\r\n      <Section>\r\n        <h2>Get Started!</h2>\r\n        <p>Getting automatic delivery of your desired news can be done in 3 simple steps.<br />For the full list of commands, use the ~rsshelp command.</p>\r\n        {/* <p style={{ fontSize: 16 }}>In just 3 easy steps.</p> */}\r\n        <Cards>\r\n          <Card>\r\n            <Icon name='add' />\r\n            <div>\r\n              <h3>1. Invite Me</h3>\r\n              <p>You'll have to invite me first to be able to use my features!</p>\r\n            </div>\r\n          </Card>\r\n          <Card>\r\n            <Icon name='search' />\r\n            <div>\r\n              <h3>2. Find a valid feed</h3>\r\n              <p>An example of a valid feed would be <a href='https://www.reddit.com/r/all.rss' target='_blank' rel='noopener noreferrer'>https://www.reddit.com/r/all.rss</a></p>\r\n            </div>\r\n          </Card>\r\n          <Card>\r\n            <Icon name='check' />\r\n            <div>\r\n              <h3>3. Add it!</h3>\r\n              <p>Use the ~rssadd command in your desired channel to add the feed!</p>\r\n            </div>\r\n          </Card>\r\n        </Cards>\r\n      </Section>\r\n      <Section>\r\n        <h2>Features</h2>\r\n        <p>With a slew of customization features, you get to design exactly how you want your feed to look like.</p>\r\n        <FeatureBoxes>\r\n          <Feature>\r\n            <Icon name='filter' style={{ color: colors.discord.yellow }} />\r\n            <div>\r\n              <span>Filter Articles</span>\r\n              <p>Use filters to filter out articles you don't want in your feed.</p>\r\n            </div>\r\n          </Feature>\r\n          <Feature>\r\n            <Icon name='at' style={{ color: colors.discord.blurple }} />\r\n            <div>\r\n              <span>Subscriptions</span>\r\n              <p>Mention users when an article of their liking comes in with the use of filters.</p>\r\n            </div>\r\n          </Feature>\r\n          <Feature>\r\n            <Icon name='copy' alt='placeholders' style={{ color: '#99AAB5' }} />\r\n            <div>\r\n              <span>Property Placeholders</span>\r\n              <p>Extract whatever information you want from the article's properties and use them.</p>\r\n            </div>\r\n          </Feature>\r\n\r\n          <Feature>\r\n            <Icon name='shield' style={{ color: colors.discord.green }} />\r\n            <div>\r\n              <span>RSS Reliability</span>\r\n              <p>With the core logic behind D.RSS, you'll almost never miss an article.</p>\r\n            </div>\r\n          </Feature>\r\n          <Feature>\r\n            <Icon name='window maximize outline' style={{ color: '#A6BDF0' }} />\r\n            <div>\r\n              <span>Web Interface</span>\r\n              <p>Easily manage and customize all your feeds through the control panel.</p>\r\n            </div>\r\n          </Feature>\r\n          <Feature>\r\n            <Icon name='github' />\r\n            <div>\r\n              <span>Open Source</span>\r\n              <p>The source code is openly available for anyone to use and host. Spread the love!</p>\r\n            </div>\r\n          </Feature>\r\n        </FeatureBoxes>\r\n      </Section>\r\n    </div>\r\n  )\r\n}\r\n\r\nHome.propTypes = {\r\n  history: PropTypes.object\r\n}\r\n\r\nexport default withRouter(Home)\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Container = styled.div`\r\n  padding-bottom: 2em;\r\n  h2 {\r\n    color: white;\r\n    font-weight: 500;\r\n    font-size: 28px;\r\n  }\r\n  p {\r\n    font-size: 20px;\r\n    font-weight: 400;\r\n    color: #b9bbbe;\r\n  }\r\n`\r\n\r\nclass PageHeader extends React.PureComponent {\r\n  render () {\r\n    return (\r\n      <Container {...this.props}>\r\n        {this.props.heading ? <h2>{this.props.heading}</h2> : null}\r\n        {this.props.subheading ? <p>{this.props.subheading}</p> : null}\r\n        {this.props.children}\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nPageHeader.propTypes = {\r\n  heading: PropTypes.string,\r\n  subheading: PropTypes.string,\r\n  children: PropTypes.node\r\n}\r\n\r\nexport default PageHeader\r\n","import styled from 'styled-components'\r\n\r\nconst SectionItemTitle = styled.label`\r\n  color: #f6f6f7;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  word-wrap: break-word;\r\n`\r\n\r\nexport default SectionItemTitle\r\n","import styled from 'styled-components'\r\n\r\nexport default styled.label`\r\n  display: block;\r\n  user-select: none;\r\n  letter-spacing: .5px;\r\n  margin-bottom: 8px;\r\n  font-weight: 700;\r\n  color: #b9bbbe;\r\n  text-transform: uppercase;\r\n  line-height: 16px;\r\n  font-size: 12px;\r\n`\r\n","import keywordExtractor from 'keyword-extractor'\r\nimport stemmer from 'stemmer'\r\nimport content from './faq.json'\r\n\r\nconst invertedIndexes = {}\r\nconst extractorOptions = { remove_digits: true, remove_duplicates: false, return_changed_case: true }\r\nconst TAG_POINTS = 5\r\nconst QUESTION_POINTS = 3\r\nconst ANSWER_POINTS = 1\r\n\r\ncontent.forEach((item, contentIndex) => {\r\n  // First get the words\r\n  // Question\r\n  const keywords = item.q.split(' ').map(stemmer)\r\n  for (const word of keywords) {\r\n    if (!invertedIndexes[word]) {\r\n      invertedIndexes[word] = []\r\n      invertedIndexes[word][contentIndex] = [contentIndex, QUESTION_POINTS]\r\n    } else if (!invertedIndexes[word][contentIndex]) {\r\n      invertedIndexes[word][contentIndex] = [contentIndex, QUESTION_POINTS]\r\n    } else {\r\n      invertedIndexes[word][contentIndex][1] += QUESTION_POINTS\r\n    }\r\n  }\r\n\r\n  // Answer\r\n  const answerKeywords = keywordExtractor.extract(item.a, extractorOptions).map(stemmer)\r\n  for (const word of answerKeywords) {\r\n    if (!invertedIndexes[word]) {\r\n      invertedIndexes[word] = []\r\n      invertedIndexes[word][contentIndex] = [contentIndex, ANSWER_POINTS]\r\n    } else if (!invertedIndexes[word][contentIndex]) {\r\n      invertedIndexes[word][contentIndex] = [contentIndex, ANSWER_POINTS]\r\n    } else {\r\n      invertedIndexes[word][contentIndex][1] += ANSWER_POINTS\r\n    }\r\n  }\r\n\r\n  // Tags. Give half points for each word if it's a multi-word tag\r\n  const halfTags = []\r\n  const tags = []\r\n  item.t.forEach(item => {\r\n    tags.push(stemmer(item))\r\n    const splat = item.split(' ')\r\n    if (splat.length > 1) {\r\n      splat.forEach(halfTag => halfTags.push(stemmer(halfTag)))\r\n    }\r\n  })\r\n  const bothTags = [ halfTags, tags ]\r\n  for (let i = 0; i < bothTags.length; ++i) {\r\n    const POINTS = i === 0 ? TAG_POINTS / 2 : TAG_POINTS\r\n    const tags = bothTags[i]\r\n    for (const word of tags) {\r\n      if (!invertedIndexes[word]) {\r\n        invertedIndexes[word] = []\r\n        invertedIndexes[word][contentIndex] = [contentIndex, POINTS]\r\n      } else if (!invertedIndexes[word][contentIndex]) {\r\n        invertedIndexes[word][contentIndex] = [contentIndex, POINTS]\r\n      } else {\r\n        invertedIndexes[word][contentIndex][1] += POINTS\r\n      }\r\n    }\r\n  }\r\n\r\n  item.qe = item.q.replace(/\\s/g, '-').replace(/\\?/g, '')\r\n})\r\n\r\nfor (const word in invertedIndexes) {\r\n  const invertedIndex = invertedIndexes[word]\r\n  invertedIndexes[word] = invertedIndex.filter(item => item)\r\n}\r\n\r\nfunction search (searchTerm) {\r\n  const searchTermSplit = new Set(searchTerm.split(' ').map(stemmer).filter(item => item))\r\n  const searchTermSplitSize = searchTermSplit.size\r\n  if (searchTermSplitSize === 0) return content\r\n  const intersectingDocumentIndexes = []\r\n  const documentCounts = {}\r\n  const documentPoints = {}\r\n  for (const term of searchTermSplit) {\r\n    if (!invertedIndexes[term]) continue\r\n    for (const arr of invertedIndexes[term]) {\r\n      const documentIndex = arr[0]\r\n      const points = arr[1]\r\n      if (!documentCounts[documentIndex]) {\r\n        documentCounts[documentIndex] = 1\r\n        documentPoints[documentIndex] = points\r\n      } else {\r\n        ++documentCounts[documentIndex]\r\n        documentPoints[documentIndex] += points\r\n      }\r\n    }\r\n  }\r\n\r\n  for (const docIndex in documentCounts) {\r\n    if (documentCounts[docIndex] === searchTermSplitSize) intersectingDocumentIndexes.push([ docIndex, documentPoints[docIndex] ])\r\n  }\r\n  return intersectingDocumentIndexes.sort((a, b) => b[1] - a[1]).map((item, index) => content[item[0]]) // 0th index is the document index, 1st index is the number of points (weight)\r\n}\r\n\r\nexport { content as faq, invertedIndexes, search as searchFAQ }\r\n","export default {\r\n  people: [{\r\n    names: ['grinning'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['grimacing'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['grin'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['joy'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['smiley'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['smile'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sweat_smile'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['laughing', 'satisfied'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['innocent'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wink'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['blush'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['slight_smile', 'slightly_smiling_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['upside_down', 'upside_down_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['relaxed'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['yum'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['relieved'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heart_eyes'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['kissing_heart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['kissing'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['kissing_smiling_eyes'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['kissing_closed_eyes'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['stuck_out_tongue_winking_eye'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['stuck_out_tongue_closed_eyes'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['stuck_out_tongue'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['money_mouth', 'money_mouth_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['nerd', 'nerd_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sunglasses'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hugging', 'hugging_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['smirk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['no_mouth'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['neutral_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['expressionless'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['unamused'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rolling_eyes', 'face_with_rolling_eyes'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['thinking', 'thinking_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flushed'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['disappointed'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['worried'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['angry'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rage'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pensive'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['confused'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['slight_frown', 'slightly_frowning_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['frowning2', 'white_frowning_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['persevere'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['confounded'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tired_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['weary'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['triumph'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['open_mouth'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['scream'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fearful'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cold_sweat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hushed'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['frowning'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['anguished'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cry'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['disappointed_relieved'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sleepy'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sweat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sob'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dizzy_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['astonished'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['zipper_mouth', 'zipper_mouth_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mask'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['thermometer_face', 'face_with_thermometer'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['head_bandage', 'face_with_head_bandage'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sleeping'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['zzz'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['poop', 'shit', 'hankey', 'poo'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['smiling_imp'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['imp'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['japanese_ogre'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['japanese_goblin'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['skull', 'skeleton'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ghost'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['alien'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['robot', 'robot_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['smiley_cat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['smile_cat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['joy_cat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heart_eyes_cat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['smirk_cat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['kissing_cat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['scream_cat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['crying_cat_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pouting_cat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['raised_hands'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['clap'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['wave'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['thumbsup', '+1', 'thumbup'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['thumbsdown', '-1', 'thumbdown'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['punch'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['fist'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['v'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['ok_hand'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['raised_hand'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['open_hands'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['muscle'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['pray'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['point_up'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['point_up_2'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['point_down'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['point_left'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['point_right'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['middle_finger', 'reversed_hand_with_middle_finger_extended'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['hand_splayed', 'raised_hand_with_fingers_splayed'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['metal', 'sign_of_the_horns'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['vulcan', 'raised_hand_with_part_between_middle_and_ring_fingers'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['writing_hand'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['nail_care'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['lips'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tongue'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ear'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['nose'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['eye'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['eyes'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bust_in_silhouette'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['busts_in_silhouette'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['speaking_head', 'speaking_head_in_silhouette'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['baby'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['boy'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['girl'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['man'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['woman'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['person_with_blond_hair'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['older_man'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['older_woman', 'grandma'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['man_with_gua_pi_mao'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['man_with_turban'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['cop'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['construction_worker'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['guardsman'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['spy', 'sleuth_or_spy'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['santa'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['angel'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['princess'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['bride_with_veil'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['walking'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['runner'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['dancer'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['dancers'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['couple'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['two_men_holding_hands'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['two_women_holding_hands'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['bow'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['information_desk_person'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['no_good'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['ok_woman'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['raising_hand'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['person_with_pouting_face'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['person_frowning'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['haircut'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['massage'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['couple_with_heart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['couple_ww', 'couple_with_heart_ww'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['couple_mm', 'couple_with_heart_mm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['couplekiss'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['kiss_ww', 'couplekiss_ww'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['kiss_mm', 'couplekiss_mm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['family_mwg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_mwgb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_mwbb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_mwgg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_wwb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_wwg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_wwgb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_wwbb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_wwgg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_mmb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_mmg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_mmgb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_mmbb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['family_mmgg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['womans_clothes'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shirt'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['jeans'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['necktie'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dress'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bikini'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['kimono'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['lipstick'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['kiss'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['footprints'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['high_heel'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sandal'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['boot'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mans_shoe'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['athletic_shoe'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['womans_hat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tophat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['helmet_with_cross', 'helmet_with_white_cross'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mortar_board'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['crown'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['school_satchel'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pouch'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['purse'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['handbag'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['briefcase'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['eyeglasses'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dark_sunglasses'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ring'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['closed_umbrella'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cowboy', 'face_with_cowboy_hat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clown', 'clown_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['nauseated_face', 'sick'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rofl', 'rolling_on_the_floor_laughing'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['drooling_face', 'drool'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['lying_face', 'liar'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sneezing_face', 'sneeze'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['prince'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['man_in_tuxedo'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['mrs_claus', 'mother_christmas'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['face_palm', 'facepalm'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['shrug'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['pregnant_woman', 'expecting_woman'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['selfie'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['man_dancing', 'male_dancer'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['call_me', 'call_me_hand'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['raised_back_of_hand', 'back_of_hand'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['left_facing_fist', 'left_fist'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['right_facing_fist', 'right_fist'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['handshake', 'shaking_hands'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['fingers_crossed', 'hand_with_index_and_middle_finger_crossed'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }],\r\n  nature: [{\r\n    names: ['dog'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mouse'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hamster'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rabbit'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bear'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['panda_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['koala'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tiger'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['lion_face', 'lion'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cow'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pig'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pig_nose'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['frog'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['octopus'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['monkey_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['see_no_evil'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hear_no_evil'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['speak_no_evil'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['monkey'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['chicken'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['penguin'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bird'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['baby_chick'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hatching_chick'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hatched_chick'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wolf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['boar'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['horse'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['unicorn', 'unicorn_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bee'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bug'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['snail'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['beetle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ant'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['spider'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['scorpion'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['crab'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['snake'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['turtle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tropical_fish'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fish'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['blowfish'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dolphin'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['whale'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['whale2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['crocodile'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['leopard'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tiger2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['water_buffalo'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ox'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cow2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dromedary_camel'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['camel'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['elephant'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['goat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ram'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sheep'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['racehorse'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pig2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mouse2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rooster'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['turkey'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dove', 'dove_of_peace'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dog2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['poodle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cat2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rabbit2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['chipmunk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['feet', 'paw_prints'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dragon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dragon_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cactus'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['christmas_tree'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['evergreen_tree'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['deciduous_tree'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['palm_tree'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['seedling'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['herb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shamrock'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['four_leaf_clover'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bamboo'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tanabata_tree'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['leaves'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fallen_leaf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['maple_leaf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ear_of_rice'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hibiscus'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sunflower'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rose'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tulip'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['blossom'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cherry_blossom'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bouquet'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mushroom'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['chestnut'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['jack_o_lantern'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shell'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['spider_web'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['earth_americas'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['earth_africa'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['earth_asia'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['full_moon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['waning_gibbous_moon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['last_quarter_moon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['waning_crescent_moon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['new_moon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['waxing_crescent_moon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['first_quarter_moon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['waxing_gibbous_moon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['new_moon_with_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['full_moon_with_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['first_quarter_moon_with_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['last_quarter_moon_with_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sun_with_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['crescent_moon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['star'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['star2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dizzy'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sparkles'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['comet'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sunny'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['white_sun_small_cloud', 'white_sun_with_small_cloud'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['partly_sunny'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['white_sun_cloud', 'white_sun_behind_cloud'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['white_sun_rain_cloud', 'white_sun_behind_cloud_with_rain'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cloud'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cloud_rain', 'cloud_with_rain'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['thunder_cloud_rain', 'thunder_cloud_and_rain'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cloud_lightning', 'cloud_with_lightning'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['zap'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fire', 'flame'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['boom'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['snowflake'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cloud_snow', 'cloud_with_snow'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['snowman2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['snowman'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wind_blowing_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dash'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cloud_tornado', 'cloud_with_tornado'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fog'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['umbrella2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['umbrella'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['droplet'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sweat_drops'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ocean'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['eagle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['duck'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shark'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['owl'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fox', 'fox_face'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['butterfly'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['deer'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['gorilla'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['lizard'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rhino', 'rhinoceros'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wilted_rose', 'wilted_flower'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shrimp'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['squid'],\r\n    surrogates: ''\r\n  }],\r\n  food: [{\r\n    names: ['green_apple'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['apple'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pear'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tangerine'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['lemon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['banana'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['watermelon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['grapes'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['strawberry'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['melon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cherries'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['peach'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pineapple'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tomato'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['eggplant'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hot_pepper'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['corn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sweet_potato'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['honey_pot'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bread'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cheese', 'cheese_wedge'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['poultry_leg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['meat_on_bone'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fried_shrimp'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cooking'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hamburger'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fries'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hotdog', 'hot_dog'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pizza'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['spaghetti'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['taco'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['burrito'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ramen'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['stew'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fish_cake'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sushi'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bento'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['curry'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rice_ball'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rice'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rice_cracker'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['oden'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dango'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shaved_ice'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ice_cream'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['icecream'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cake'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['birthday'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['custard', 'pudding', 'flan'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['candy'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['lollipop'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['chocolate_bar'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['popcorn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['doughnut'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cookie'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['beer'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['beers'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wine_glass'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cocktail'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tropical_drink'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['champagne', 'bottle_with_popping_cork'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sake'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tea'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['coffee'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['baby_bottle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fork_and_knife'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fork_knife_plate', 'fork_and_knife_with_plate'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['croissant'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['avocado'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cucumber'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bacon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['potato'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['carrot'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['french_bread', 'baguette_bread'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['salad', 'green_salad'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shallow_pan_of_food', 'paella'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['stuffed_flatbread', 'stuffed_pita'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['champagne_glass', 'clinking_glass'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tumbler_glass', 'whisky'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['spoon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['egg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['milk', 'glass_of_milk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['peanuts', 'shelled_peanut'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['kiwi', 'kiwifruit'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pancakes'],\r\n    surrogates: ''\r\n  }],\r\n  activity: [{\r\n    names: ['soccer'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['basketball'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['football'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['baseball'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tennis'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['volleyball'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rugby_football'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['8ball'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['golf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['golfer'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['ping_pong', 'table_tennis'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['badminton'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hockey'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['field_hockey'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cricket', 'cricket_bat_ball'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ski'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['skier'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['snowboarder'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['ice_skate'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bow_and_arrow', 'archery'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fishing_pole_and_fish'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rowboat'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['swimmer'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['surfer'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['bath'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['basketball_player', 'person_with_ball'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['lifter', 'weight_lifter'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['bicyclist'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['mountain_bicyclist'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['horse_racing'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['levitate', 'man_in_business_suit_levitating'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['trophy'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['running_shirt_with_sash'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['medal', 'sports_medal'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['military_medal'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['reminder_ribbon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rosette'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ticket'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tickets', 'admission_tickets'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['performing_arts'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['art'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['circus_tent'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['microphone'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['headphones'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['musical_score'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['musical_keyboard'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['saxophone'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['trumpet'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['guitar'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['violin'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clapper'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['video_game'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['space_invader'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['game_die'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['slot_machine'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bowling'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cartwheel', 'person_doing_cartwheel'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['juggling', 'juggler'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['wrestlers', 'wrestling'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['boxing_glove', 'boxing_gloves'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['martial_arts_uniform', 'karate_uniform'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['water_polo'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['handball'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['goal', 'goal_net'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fencer', 'fencing'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['first_place', 'first_place_medal'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['second_place', 'second_place_medal'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['third_place', 'third_place_medal'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['drum', 'drum_with_drumsticks'],\r\n    surrogates: ''\r\n  }],\r\n  travel: [{\r\n    names: ['red_car'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['taxi'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['blue_car'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bus'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['trolleybus'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['race_car', 'racing_car'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['police_car'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ambulance'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fire_engine'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['minibus'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['truck'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['articulated_lorry'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tractor'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['motorcycle', 'racing_motorcycle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bike'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rotating_light'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['oncoming_police_car'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['oncoming_bus'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['oncoming_automobile'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['oncoming_taxi'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['aerial_tramway'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mountain_cableway'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['suspension_railway'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['railway_car'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['train'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['monorail'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bullettrain_side'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bullettrain_front'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['light_rail'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mountain_railway'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['steam_locomotive'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['train2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['metro'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tram'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['station'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['helicopter'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['airplane_small', 'small_airplane'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['airplane'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['airplane_departure'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['airplane_arriving'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sailboat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['motorboat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['speedboat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ferry'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cruise_ship', 'passenger_ship'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rocket'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['satellite_orbital'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['seat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['anchor'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['construction'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fuelpump'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['busstop'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['vertical_traffic_light'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['traffic_light'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['checkered_flag'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ship'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ferris_wheel'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['roller_coaster'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['carousel_horse'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['construction_site', 'building_construction'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['foggy'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tokyo_tower'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['factory'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fountain'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rice_scene'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mountain'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mountain_snow', 'snow_capped_mountain'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mount_fuji'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['volcano'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['japan'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['camping'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tent'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['park', 'national_park'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['motorway'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['railway_track', 'railroad_track'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sunrise'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sunrise_over_mountains'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['desert'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['beach', 'beach_with_umbrella'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['island', 'desert_island'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['city_sunset', 'city_sunrise'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['city_dusk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cityscape'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['night_with_stars'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bridge_at_night'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['milky_way'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['stars'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sparkler'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fireworks'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rainbow'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['homes', 'house_buildings'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['european_castle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['japanese_castle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['stadium'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['statue_of_liberty'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['house'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['house_with_garden'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['house_abandoned', 'derelict_house_building'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['office'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['department_store'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['post_office'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['european_post_office'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hospital'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bank'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hotel'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['convenience_store'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['school'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['love_hotel'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wedding'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['classical_building'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['church'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mosque'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['synagogue'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['kaaba'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shinto_shrine'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['scooter'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['motor_scooter', 'motorbike'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['canoe', 'kayak'],\r\n    surrogates: ''\r\n  }],\r\n  objects: [{\r\n    names: ['watch'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['iphone'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['calling'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['computer'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['keyboard'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['desktop', 'desktop_computer'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['printer'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mouse_three_button', 'three_button_mouse'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['trackball'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['joystick'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['compression'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['minidisc'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['floppy_disk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cd'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dvd'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['vhs'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['camera'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['camera_with_flash'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['video_camera'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['movie_camera'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['projector', 'film_projector'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['film_frames'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['telephone_receiver'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['telephone'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pager'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fax'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tv'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['radio'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['microphone2', 'studio_microphone'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['level_slider'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['control_knobs'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['stopwatch'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['timer', 'timer_clock'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['alarm_clock'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock', 'mantlepiece_clock'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hourglass_flowing_sand'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hourglass'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['satellite'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['battery'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['electric_plug'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bulb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flashlight'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['candle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wastebasket'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['oil', 'oil_drum'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['money_with_wings'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dollar'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['yen'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['euro'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pound'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['moneybag'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['credit_card'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['gem'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['scales'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wrench'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hammer'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hammer_pick', 'hammer_and_pick'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tools', 'hammer_and_wrench'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pick'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['nut_and_bolt'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['gear'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['chains'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['gun'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bomb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['knife'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dagger', 'dagger_knife'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['crossed_swords'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shield'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['smoking'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['skull_crossbones', 'skull_and_crossbones'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['coffin'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['urn', 'funeral_urn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['amphora'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['crystal_ball'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['prayer_beads'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['barber'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['alembic'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['telescope'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['microscope'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hole'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pill'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['syringe'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['thermometer'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['label'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bookmark'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['toilet'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shower'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bathtub'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['key'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['key2', 'old_key'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['couch', 'couch_and_lamp'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sleeping_accommodation'],\r\n    surrogates: '',\r\n    hasDiversity: !0\r\n  }, {\r\n    names: ['bed'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['door'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bellhop', 'bellhop_bell'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['frame_photo', 'frame_with_picture'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['map', 'world_map'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['beach_umbrella', 'umbrella_on_ground'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['moyai'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shopping_bags'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['balloon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flags'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ribbon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['gift'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['confetti_ball'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tada'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dolls'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wind_chime'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['crossed_flags'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['izakaya_lantern'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['envelope'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['envelope_with_arrow'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['incoming_envelope'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['e_mail', 'email'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['love_letter'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['postbox'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mailbox_closed'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mailbox'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mailbox_with_mail'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mailbox_with_no_mail'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['package'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['postal_horn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['inbox_tray'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['outbox_tray'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['scroll'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['page_with_curl'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bookmark_tabs'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bar_chart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['chart_with_upwards_trend'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['chart_with_downwards_trend'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['page_facing_up'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['date'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['calendar'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['calendar_spiral', 'spiral_calendar_pad'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['card_index'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['card_box', 'card_file_box'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ballot_box', 'ballot_box_with_ballot'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['file_cabinet'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clipboard'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['notepad_spiral', 'spiral_note_pad'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['file_folder'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['open_file_folder'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['dividers', 'card_index_dividers'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['newspaper2', 'rolled_up_newspaper'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['newspaper'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['notebook'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['closed_book'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['green_book'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['blue_book'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['orange_book'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['notebook_with_decorative_cover'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ledger'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['books'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['book'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['link'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['paperclip'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['paperclips', 'linked_paperclips'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['scissors'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['triangular_ruler'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['straight_ruler'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pushpin'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['round_pushpin'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['triangular_flag_on_post'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_white'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_black'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['closed_lock_with_key'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['lock'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['unlock'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['lock_with_ink_pen'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pen_ballpoint', 'lower_left_ballpoint_pen'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pen_fountain', 'lower_left_fountain_pen'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['black_nib'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pencil'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pencil2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['crayon', 'lower_left_crayon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['paintbrush', 'lower_left_paintbrush'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mag'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mag_right'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['shopping_cart', 'shopping_trolley'],\r\n    surrogates: ''\r\n  }],\r\n  symbols: [{\r\n    names: ['100'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['1234'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['yellow_heart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['green_heart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['blue_heart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['purple_heart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['broken_heart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heart_exclamation', 'heavy_heart_exclamation_mark_ornament'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['two_hearts'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['revolving_hearts'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heartbeat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heartpulse'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sparkling_heart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cupid'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['gift_heart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heart_decoration'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['peace', 'peace_symbol'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cross', 'latin_cross'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['star_and_crescent'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['om_symbol'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wheel_of_dharma'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['star_of_david'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['six_pointed_star'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['menorah'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['yin_yang'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['orthodox_cross'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['place_of_worship', 'worship_symbol'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ophiuchus'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['aries'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['taurus'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['gemini'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cancer'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['leo'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['virgo'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['libra'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['scorpius'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sagittarius'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['capricorn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['aquarius'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pisces'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['id'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['atom', 'atom_symbol'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['u7a7a'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['u5272'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['radioactive', 'radioactive_sign'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['biohazard', 'biohazard_sign'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mobile_phone_off'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['vibration_mode'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['u6709'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['u7121'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['u7533'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['u55b6'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['u6708'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['eight_pointed_black_star'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['vs'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['accept'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['white_flower'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ideograph_advantage'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['secret'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['congratulations'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['u5408'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['u6e80'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['u7981'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['a'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['b'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ab'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cl'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['o2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sos'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['no_entry'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['name_badge'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['no_entry_sign'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['x'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['o'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['anger'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hotsprings'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['no_pedestrians'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['do_not_litter'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['no_bicycles'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['non_potable_water'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['underage'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['no_mobile_phones'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['exclamation'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['grey_exclamation'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['question'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['grey_question'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bangbang'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['interrobang'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['low_brightness'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['high_brightness'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['trident'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fleur_de_lis'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['part_alternation_mark'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['warning'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['children_crossing'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['beginner'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['recycle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['u6307'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['chart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sparkle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['eight_spoked_asterisk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['negative_squared_cross_mark'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['white_check_mark'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['diamond_shape_with_a_dot_inside'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cyclone'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['loop'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['globe_with_meridians'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['m'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['atm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sa'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['passport_control'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['customs'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['baggage_claim'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['left_luggage'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wheelchair'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['no_smoking'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wc'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['parking'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['potable_water'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mens'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['womens'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['baby_symbol'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['restroom'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['put_litter_in_its_place'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cinema'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['signal_strength'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['koko'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ng'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ok'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['up'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['cool'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['new'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['free'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['zero'],\r\n    surrogates: '0'\r\n  }, {\r\n    names: ['one'],\r\n    surrogates: '1'\r\n  }, {\r\n    names: ['two'],\r\n    surrogates: '2'\r\n  }, {\r\n    names: ['three'],\r\n    surrogates: '3'\r\n  }, {\r\n    names: ['four'],\r\n    surrogates: '4'\r\n  }, {\r\n    names: ['five'],\r\n    surrogates: '5'\r\n  }, {\r\n    names: ['six'],\r\n    surrogates: '6'\r\n  }, {\r\n    names: ['seven'],\r\n    surrogates: '7'\r\n  }, {\r\n    names: ['eight'],\r\n    surrogates: '8'\r\n  }, {\r\n    names: ['nine'],\r\n    surrogates: '9'\r\n  }, {\r\n    names: ['keycap_ten'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_forward'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['pause_button', 'double_vertical_bar'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['play_pause'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['stop_button'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['record_button'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['track_next', 'next_track'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['track_previous', 'previous_track'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['fast_forward'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['rewind'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['twisted_rightwards_arrows'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['repeat'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['repeat_one'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_backward'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_up_small'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_down_small'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_double_up'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_double_down'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_right'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_left'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_up'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_down'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_upper_right'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_lower_right'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_lower_left'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_upper_left'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_up_down'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['left_right_arrow'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrows_counterclockwise'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_right_hook'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['leftwards_arrow_with_hook'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_heading_up'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrow_heading_down'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hash'],\r\n    surrogates: '#'\r\n  }, {\r\n    names: ['asterisk', 'keycap_asterisk'],\r\n    surrogates: '*'\r\n  }, {\r\n    names: ['information_source'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['abc'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['abcd'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['capital_abcd'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['symbols'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['musical_note'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['notes'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['wavy_dash'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['curly_loop'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heavy_check_mark'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['arrows_clockwise'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heavy_plus_sign'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heavy_minus_sign'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heavy_division_sign'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heavy_multiplication_x'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['heavy_dollar_sign'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['currency_exchange'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['copyright'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['registered'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['tm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['end'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['back'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['on'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['top'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['soon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['ballot_box_with_check'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['radio_button'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['white_circle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['black_circle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['red_circle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['large_blue_circle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['small_orange_diamond'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['small_blue_diamond'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['large_orange_diamond'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['large_blue_diamond'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['small_red_triangle'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['black_small_square'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['white_small_square'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['black_large_square'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['white_large_square'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['small_red_triangle_down'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['black_medium_square'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['white_medium_square'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['black_medium_small_square'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['white_medium_small_square'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['black_square_button'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['white_square_button'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['speaker'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['sound'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['loud_sound'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mute'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mega'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['loudspeaker'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['bell'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['no_bell'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['black_joker'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['mahjong'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['spades'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clubs'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['hearts'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['diamonds'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flower_playing_cards'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['thought_balloon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['anger_right', 'right_anger_bubble'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['speech_balloon'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock1'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock2'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock3'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock4'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock5'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock6'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock7'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock8'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock9'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock10'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock11'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock12'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock130'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock230'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock330'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock430'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock530'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock630'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock730'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock830'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock930'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock1030'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock1130'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['clock1230'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['eye_in_speech_bubble'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['speech_left', 'left_speech_bubble'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['eject', 'eject_symbol'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['black_heart'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['octagonal_sign', 'stop_sign'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_z'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_y'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_x'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_w'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_v'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_u'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_t'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_s'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_r'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_q'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_p'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_o'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_n'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_m'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_l'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_k'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_j'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_i'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_h'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_g'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_f'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_e'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_d'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_c'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_b'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['regional_indicator_a'],\r\n    surrogates: ''\r\n  }],\r\n  flags: [{\r\n    names: ['flag_ac'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_af'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_al'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_dz'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ad'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ao'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ai'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ag'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ar'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_am'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_aw'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_au'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_at'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_az'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bs'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bh'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bd'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_by'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_be'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bz'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bj'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bt'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bo'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ba'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bw'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_br'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bi'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cv'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_kh'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ca'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ky'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_td'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cl'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_co'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_km'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cd'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cr'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_hr'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cu'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cy'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cz'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_dk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_dj'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_dm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_do'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ec'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_eg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sv'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gq'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_er'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ee'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_et'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_fk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_fo'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_fj'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_fi'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_fr'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_pf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ga'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ge'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_de'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gh'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gi'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gr'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gl'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gd'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gu'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gt'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gw'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gy'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ht'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_hn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_hk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_hu'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_is'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_in'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_id'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ir'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_iq'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ie'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_il'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_it'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ci'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_jm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_jp'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_je'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_jo'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_kz'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ke'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ki'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_xk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_kw'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_kg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_la'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_lv'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_lb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ls'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_lr'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ly'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_li'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_lt'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_lu'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mo'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mw'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_my'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mv'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ml'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mt'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mh'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mr'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mu'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mx'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_fm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_md'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mc'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_me'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ms'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ma'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mz'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_na'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_nr'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_np'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_nl'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_nc'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_nz'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ni'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ne'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ng'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_nu'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_kp'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_no'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_om'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_pk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_pw'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ps'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_pa'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_pg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_py'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_pe'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ph'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_pl'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_pt'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_pr'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_qa'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ro'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ru'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_rw'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sh'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_kn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_lc'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_vc'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ws'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_st'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sa'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_rs'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sc'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sl'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_si'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_so'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_za'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_kr'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_es'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_lk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sd'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sr'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sz'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_se'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ch'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sy'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tw'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tj'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tz'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_th'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tl'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_to'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tt'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tr'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tv'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ug'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ua'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ae'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gb'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_us'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_vi'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_uy'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_uz'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_vu'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_va'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ve'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_vn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_wf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_eh'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ye'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_zm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_zw'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_re'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ax'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ta'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_io'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bq'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cx'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cc'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_im'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_yt'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_nf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_pn'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bl'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_pm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gs'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tk'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_bv'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_hm'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sj'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_um'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ic'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ea'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cp'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_dg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_as'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_aq'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_vg'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ck'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_cw'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_eu'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_gp'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mq'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mp'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_sx'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_ss'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_tc'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['flag_mf'],\r\n    surrogates: ''\r\n  }, {\r\n    names: ['gay_pride_flag', 'rainbow_flag'],\r\n    surrogates: ''\r\n  }]\r\n}\r\n","import React from 'react'\r\nimport SimpleMarkdown from 'simple-markdown'\r\nimport hljs from 'highlight.js'\r\nimport Twemoji from 'twemoji'\r\nimport Emoji from '../../../constants/emojis'\r\nimport store from '../../../store/index-store'\r\nimport styled from 'styled-components'\r\nimport { transparentize } from 'polished'\r\n\r\n// this is mostly translated from discord's client,\r\n// although it's not 1:1 since the client js is minified\r\n// and also is transformed into some tricky code\r\n\r\n// names are weird and sometimes missing, as i'm not sure\r\n// what all of these are doing exactly.\r\n\r\nconst Mention = styled.span`\r\n  background-color: ${props => transparentize(0.9, props.color || '#7289da')};\r\n  color: ${props => props.color || '#7289da'};\r\n  padding: 0 2px;\r\n  font-size: 15px;\r\n`\r\n\r\nfunction flattenAst (node, parent) {\r\n  if (Array.isArray(node)) {\r\n    for (let n = 0; n < node.length; n++) {\r\n      node[n] = flattenAst(node[n], parent)\r\n    }\r\n\r\n    return node\r\n  }\r\n\r\n  if (node.content != null) {\r\n    node.content = flattenAst(node.content, node)\r\n  }\r\n\r\n  if (parent != null && node.type === parent.type) {\r\n    return node.content\r\n  }\r\n\r\n  return node\r\n}\r\n\r\nfunction astToString (node) {\r\n  function inner (node, result = []) {\r\n    if (Array.isArray(node)) {\r\n      node.forEach(subNode => astToString(subNode, result))\r\n    } else if (typeof node.content === 'string') {\r\n      result.push(node.content)\r\n    } else if (node.content != null) {\r\n      astToString(node.content, result)\r\n    }\r\n\r\n    return result\r\n  }\r\n\r\n  return inner(node).join('')\r\n}\r\n\r\nfunction parserFor (rules, returnAst) {\r\n  const parser = SimpleMarkdown.parserFor(rules)\r\n  const renderer = SimpleMarkdown.reactFor(SimpleMarkdown.ruleOutput(rules, 'react'))\r\n  return function (input = '', inline = true, state = {}, transform = null) {\r\n    if (!inline) {\r\n      input += '\\n\\n'\r\n    }\r\n\r\n    let ast = parser(input, { inline, ...state })\r\n    ast = flattenAst(ast)\r\n    if (transform) {\r\n      ast = transform(ast)\r\n    }\r\n\r\n    if (returnAst) {\r\n      return ast\r\n    }\r\n\r\n    return renderer(ast)\r\n  }\r\n}\r\n\r\nfunction omit (object, excluded) {\r\n  return Object.keys(object).reduce((result, key) => {\r\n    if (excluded.indexOf(key) === -1) {\r\n      result[key] = object[key]\r\n    }\r\n\r\n    return result\r\n  }, {})\r\n}\r\n\r\n// emoji stuff\r\n\r\nconst getEmoteURL = (emote) => `${window.location.protocol}//cdn.discordapp.com/emojis/${emote.id}.png`\r\n\r\nfunction getEmojiURL (surrogate) {\r\n  if (['', '', ''].indexOf(surrogate) > -1) {\r\n    return ''\r\n  }\r\n\r\n  try {\r\n    // we could link to discord's cdn, but there's a lot of these\r\n    // and i'd like to minimize the amount of data we need directly from them\r\n    return `https://twemoji.maxcdn.com/2/svg/${Twemoji.convert.toCodePoint(surrogate)}.svg`\r\n  } catch (error) {\r\n    return ''\r\n  }\r\n}\r\n\r\n// emoji lookup tables\r\n\r\nconst DIVERSITY_SURROGATES = ['', '', '', '', '']\r\nconst NAME_TO_EMOJI = {}\r\nconst EMOJI_TO_NAME = {}\r\n\r\nObject.keys(Emoji).forEach(category => {\r\n  Emoji[category].forEach(emoji => {\r\n    EMOJI_TO_NAME[emoji.surrogates] = emoji.names[0] || ''\r\n\r\n    emoji.names.forEach(name => {\r\n      NAME_TO_EMOJI[name] = emoji.surrogates\r\n\r\n      DIVERSITY_SURROGATES.forEach((d, i) => {\r\n        NAME_TO_EMOJI[`${name}::skin-tone-${i + 1}`] = emoji.surrogates.concat(d)\r\n      })\r\n    })\r\n\r\n    DIVERSITY_SURROGATES.forEach((d, i) => {\r\n      const surrogates = emoji.surrogates.concat(d)\r\n      const name = emoji.names[0] || ''\r\n\r\n      EMOJI_TO_NAME[surrogates] = `${name}::skin-tone-${i + 1}`\r\n    })\r\n  })\r\n})\r\n\r\nconst EMOJI_NAME_AND_DIVERSITY_RE = /^:([^\\s:]+?(?:::skin-tone-\\d)?):/\r\n\r\nfunction convertNameToSurrogate (name, t = '') {\r\n  // what is t for?\r\n  return NAME_TO_EMOJI.hasOwnProperty(name) ? NAME_TO_EMOJI[name] : t\r\n}\r\n\r\nfunction convertSurrogateToName (surrogate, colons = true, n = '') {\r\n  // what is n for?\r\n  let a = n\r\n\r\n  if (EMOJI_TO_NAME.hasOwnProperty(surrogate)) {\r\n    a = EMOJI_TO_NAME[surrogate]\r\n  }\r\n\r\n  return colons ? `:${a}:` : a\r\n}\r\n\r\nconst escape = (str) => str.replace(/[\\-\\[\\]\\/\\{}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&')\r\n\r\nconst replacer = (function () {\r\n  const surrogates = Object.keys(EMOJI_TO_NAME)\r\n    .sort(surrogate => -surrogate.length)\r\n    .map(surrogate => escape(surrogate))\r\n    .join('|')\r\n\r\n  return new RegExp('(' + surrogates + ')', 'g')\r\n})()\r\n\r\nfunction translateSurrogatesToInlineEmoji (surrogates) {\r\n  return surrogates.replace(replacer, (_, match) => convertSurrogateToName(match))\r\n}\r\n\r\n// i am not sure why are these rules split like this.\r\n\r\nconst baseRules = {\r\n  newline: {\r\n    order: SimpleMarkdown.defaultRules.newline.order - 0.5,\r\n    match: source => {\r\n      return /^(\\r\\n|\\r|\\n)/.exec(source)\r\n    },\r\n    parse: capture => {\r\n      return {\r\n        content: capture[1]\r\n      }\r\n    },\r\n    react: (node, recurseOutput, state) => <br key={state.key} />\r\n  },\r\n  paragraph: SimpleMarkdown.defaultRules.paragraph,\r\n  escape: SimpleMarkdown.defaultRules.escape,\r\n  link: SimpleMarkdown.defaultRules.link,\r\n  autolink: {\r\n    ...SimpleMarkdown.defaultRules.autolink,\r\n    match: SimpleMarkdown.inlineRegex(/^<(https?:\\/\\/[^ >]+)>/)\r\n  },\r\n  url: SimpleMarkdown.defaultRules.url,\r\n  strong: SimpleMarkdown.defaultRules.strong,\r\n  em: SimpleMarkdown.defaultRules.em,\r\n  u: SimpleMarkdown.defaultRules.u,\r\n  br: SimpleMarkdown.defaultRules.br,\r\n  inlineCode: SimpleMarkdown.defaultRules.inlineCode,\r\n  emoticon: {\r\n    order: SimpleMarkdown.defaultRules.text.order,\r\n    match: function (source) {\r\n      return /^(\\\\_\\(\\)_\\/)/.exec(source)\r\n    },\r\n    parse: function (capture) {\r\n      return { type: 'text', content: capture[1] }\r\n    }\r\n  },\r\n  mention: {\r\n    order: SimpleMarkdown.defaultRules.text.order,\r\n    match: function (source) {\r\n      return /^<@&?(\\d+)>/.exec(source)\r\n    },\r\n    parse: function (capture) {\r\n      return {\r\n        content: capture[1]\r\n      }\r\n    },\r\n    react: function (node, recurseOutput, state) {\r\n      const reduxState = store.getState()\r\n      const subscribers = reduxState.roles\r\n      let found = null\r\n      for (const guildId in subscribers) {\r\n        const guildSubscribers = subscribers[guildId]\r\n        for (const subscriberId in guildSubscribers) {\r\n          if (subscriberId === node.content) {\r\n            found = guildSubscribers[subscriberId]\r\n            break\r\n          }\r\n        }\r\n        if (found) break\r\n      }\r\n      return <Mention color={found ? found.hexColor : ''} key={state.key}>@{found ? found.name : node.content}</Mention>\r\n    }\r\n  },\r\n  codeBlock: {\r\n    order: SimpleMarkdown.defaultRules.codeBlock.order,\r\n    match (source) {\r\n      return /^```(([A-z0-9\\-]+?)\\n+)?\\n*([^]+?)\\n*```/.exec(source)\r\n    },\r\n    parse (capture) {\r\n      return { lang: (capture[2] || '').trim(), content: capture[3] || '' }\r\n    }\r\n  },\r\n  emoji: {\r\n    order: SimpleMarkdown.defaultRules.text.order,\r\n    match (source) {\r\n      return EMOJI_NAME_AND_DIVERSITY_RE.exec(source)\r\n    },\r\n    parse (capture) {\r\n      const match = capture[0]\r\n      const name = capture[1]\r\n      const surrogate = convertNameToSurrogate(name)\r\n      return surrogate ? {\r\n        name: `:${name}:`,\r\n        surrogate: surrogate,\r\n        src: getEmojiURL(surrogate)\r\n      } : {\r\n        type: 'text',\r\n        content: match\r\n      }\r\n    },\r\n    react (node, recurseOutput, state) {\r\n      return node.src ? (\r\n        <img\r\n          draggable={false}\r\n          className={`emoji ${node.jumboable ? 'jumboable' : ''}`}\r\n          alt={node.surrogate}\r\n          title={node.name}\r\n          src={node.src}\r\n          key={state.key}\r\n        />\r\n      ) : (\r\n        <span key={state.key}>{node.surrogate}</span>\r\n      )\r\n    }\r\n  },\r\n  customEmoji: {\r\n    order: SimpleMarkdown.defaultRules.text.order,\r\n    match (source) {\r\n      return /^<:(\\w+):(\\d+)>/.exec(source)\r\n    },\r\n    parse (capture) {\r\n      const name = capture[1]\r\n      const id = capture[2]\r\n      return {\r\n        emojiId: id,\r\n        // NOTE: we never actually try to fetch the emote\r\n        // so checking if colons are required (for 'name') is not\r\n        // something we can do to begin with\r\n        name: name,\r\n        src: getEmoteURL({\r\n          id: id\r\n        })\r\n      }\r\n    },\r\n    react (node, recurseOutput, state) {\r\n      return (\r\n        <img\r\n          draggable={false}\r\n          className={`emoji ${node.jumboable ? 'jumboable' : ''}`}\r\n          alt={`<:${node.name}:${node.id}>`}\r\n          title={node.name}\r\n          src={node.src}\r\n          key={state.key}\r\n        />\r\n      )\r\n    }\r\n  },\r\n  text: {\r\n    ...SimpleMarkdown.defaultRules.text,\r\n    match: SimpleMarkdown.anyScopeRegex(\r\n      new RegExp(\r\n        SimpleMarkdown\r\n          .defaultRules\r\n          .text\r\n          .match\r\n          .regex\r\n          .source\r\n          .replace('?=', '?=\\n|\\r|')\r\n      )\r\n    ),\r\n    parse (capture, recurseParse, state) {\r\n      return state.nested ? {\r\n        content: capture[0]\r\n      } : recurseParse(translateSurrogatesToInlineEmoji(capture[0]), {\r\n        ...state,\r\n        nested: true\r\n      })\r\n    }\r\n  },\r\n  s: {\r\n    order: SimpleMarkdown.defaultRules.u.order,\r\n    match: SimpleMarkdown.inlineRegex(/^~~([\\s\\S]+?)~~(?!_)/),\r\n    parse: SimpleMarkdown.defaultRules.u.parse\r\n  }\r\n}\r\n\r\nfunction createRules (r) {\r\n  const paragraph = r.paragraph\r\n  const url = r.url\r\n  const link = r.link\r\n  const codeBlock = r.codeBlock\r\n  const inlineCode = r.inlineCode\r\n\r\n  return {\r\n    // rules we don't care about:\r\n    //  mention\r\n    //  channel\r\n    //  highlight\r\n\r\n    // what is highlight?\r\n\r\n    ...r,\r\n    s: {\r\n      order: r.u.order,\r\n      match: SimpleMarkdown.inlineRegex(/^~~([\\s\\S]+?)~~(?!_)/),\r\n      parse: r.u.parse,\r\n      react (node, recurseOutput, state) {\r\n        return <s key={state.key}>{recurseOutput(node.content, state)}</s>\r\n      }\r\n    },\r\n    paragraph: {\r\n      ...paragraph,\r\n      react (node, recurseOutput, state) {\r\n        return <p key={state.key}>{recurseOutput(node.content, state)}</p>\r\n      }\r\n    },\r\n    url: {\r\n      ...url,\r\n      match: SimpleMarkdown.inlineRegex(/^((https?|steam):\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])/)\r\n    },\r\n    link: {\r\n      ...link,\r\n      react (node, recurseOutput, state) {\r\n        // this contains some special casing for invites (?)\r\n        // or something like that.\r\n        // we don't really bother here\r\n        const children = recurseOutput(node.content, state)\r\n        const title = node.title || astToString(node.content)\r\n        return (\r\n          <a\r\n            title={title}\r\n            href={SimpleMarkdown.sanitizeUrl(node.target)}\r\n            target='_blank'\r\n            rel='noreferrer noopener'\r\n            key={state.key}\r\n          >\r\n            {children}\r\n          </a>\r\n        )\r\n      }\r\n    },\r\n    inlineCode: {\r\n      ...inlineCode,\r\n      react (node, recurseOutput, state) {\r\n        return (\r\n          <code className='inline' key={state.key}>\r\n            {node.content}\r\n          </code>\r\n        )\r\n      }\r\n    },\r\n    codeBlock: {\r\n      ...codeBlock,\r\n      react (node, recurseOutput, state) {\r\n        if (node.lang && hljs.getLanguage(node.lang) != null) {\r\n          const highlightedBlock = hljs.highlight(node.lang, node.content, true)\r\n\r\n          return (\r\n            <pre key={state.key}>\r\n              <code\r\n                className={`hljs ${highlightedBlock.language}`}\r\n                dangerouslySetInnerHTML={{ __html: highlightedBlock.value }}\r\n              />\r\n            </pre>\r\n          )\r\n        }\r\n\r\n        return (\r\n          <pre key={state.key}>\r\n            <code className='hljs'>{node.content}</code>\r\n          </pre>\r\n        )\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst rulesWithoutMaskedLinks = createRules({\r\n  ...baseRules,\r\n  link: {\r\n    ...baseRules.link,\r\n    match () {\r\n      return null\r\n    }\r\n  }\r\n})\r\n\r\n// used in:\r\n//  message content (non-webhook mode)\r\nconst parse = parserFor(rulesWithoutMaskedLinks)\r\n\r\n// used in:\r\n//  message content (webhook mode)\r\n//  embed description\r\n//  embed field values\r\nconst parseAllowLinks = parserFor(createRules(baseRules))\r\n\r\n// used in:\r\n//  embed title (obviously)\r\n//  embed field names\r\nconst parseEmbedTitle = parserFor(\r\n  omit(rulesWithoutMaskedLinks, ['codeBlock', 'br', 'mention', 'channel', 'roleMention'])\r\n)\r\n\r\n// used in:\r\n//  message content\r\nfunction jumboify (ast) {\r\n  const nonEmojiNodes = ast.some(node => (\r\n    node.type !== 'emoji' &&\r\n    node.type !== 'customEmoji' &&\r\n    (typeof node.content !== 'string' || node.content.trim() !== '')\r\n  ))\r\n\r\n  if (nonEmojiNodes) {\r\n    return ast\r\n  }\r\n\r\n  const maximum = 27\r\n  let count = 0\r\n\r\n  ast.forEach(node => {\r\n    if (node.type === 'emoji' || node.type === 'customEmoji') {\r\n      count += 1\r\n    }\r\n\r\n    if (count > maximum) {\r\n      return false\r\n    }\r\n  })\r\n\r\n  if (count < maximum) {\r\n    ast.forEach(node => {\r\n      node.jumboable = true\r\n    })\r\n  }\r\n\r\n  return ast\r\n}\r\n\r\nexport default { parse, parseAllowLinks, parseEmbedTitle, jumboify }\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport PageHeader from '../utils/PageHeader'\r\nimport styled from 'styled-components'\r\nimport { Button, Input, Divider } from 'semantic-ui-react'\r\nimport colors from '../../constants/colors'\r\nimport pages from '../../constants/pages'\r\nimport SectionItemTitle from '../utils/SectionItemTitle'\r\nimport SectionSubtitle from '../utils/SectionSubtitle'\r\nimport { lighten, transparentize } from 'polished'\r\nimport { faq, searchFAQ } from '../../constants/faq'\r\nimport Section from '../Home/Section'\r\nimport posed, { PoseGroup } from 'react-pose'\r\nimport PropTypes from 'prop-types'\r\nimport textParser from '../ControlPanel/utils/textParser'\r\nimport querystring from 'query-string'\r\nimport modal from '../utils/modal'\r\n\r\nconst Header = styled.div`\r\n  position: relative;\r\n  background-color: #26262b;\r\n  width: 100%;\r\n  height: 350px;\r\n  padding: 0 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  > div:first-child {\r\n    padding-bottom: 10px;\r\n  }\r\n  > p {\r\n    margin-bottom: 30px;\r\n  }\r\n  .ui.input {\r\n    max-width: 700px;\r\n    width: 100%;\r\n  }\r\n  .ui.dropdown {\r\n    max-width: 700px;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst QAWrapper = posed.div({\r\n  enter: { opacity: 1 },\r\n  exit: { opacity: 0 }\r\n})\r\n\r\nconst QAWrapperInner = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  > div:last-child {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst BlueSidebar = styled.div`\r\n  display: ${props => props.show ? 'block' : 'none'};\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0;\r\n  width: 2px;\r\n  margin-top: 7px;\r\n  border-left-color: ${colors.discord.blurple};\r\n  border-left-width: 3px;\r\n  border-left-style: solid;\r\n  height: 100%;\r\n  z-index: 1000;\r\n`\r\n\r\nconst SectionFAQ = styled.div`\r\n  width: 100%;\r\n  text-align: left;\r\n  > div:first-child {\r\n    > h2 {\r\n      margin-bottom: 0;\r\n    }\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  a {\r\n    cursor: pointer;\r\n    display: block;\r\n    &:hover {\r\n      text-decoration: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst AnswerStyles = styled.div`\r\n  position: relative;\r\n  padding-left: 15px;\r\n > p {\r\n   padding-top: 5px;\r\n   \r\n   font-size: 18px;\r\n   > a {\r\n    display: inline;\r\n  }\r\n }\r\n overflow: hidden;\r\n`\r\n\r\nconst Answer = posed(AnswerStyles)({\r\n  expand: { height: 'auto', opacity: 1 },\r\n  minimize: { height: 0, opacity: 0 }\r\n})\r\n\r\nconst TagContainer = styled.div`\r\n  > span {\r\n    margin-right: 3px;\r\n    &:last-child {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n`\r\n\r\nconst Tag = styled.span`\r\n  display: inline-block;\r\n  padding: 3px 5px;\r\n  border-radius: 3px;\r\n  color: ${transparentize(0.5, colors.discord.greyple)};\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  border-color: ${transparentize(0.5, colors.discord.greyple)};\r\n  margin-right: 3px;\r\n`\r\n\r\nconst FadeTextStyles = styled.p`\r\n  position: absolute;\r\n  bottom: -30px;\r\n  color: ${colors.discord.green};\r\n`\r\n\r\nconst FadeText = posed(FadeTextStyles)({\r\n  enter: { opacity: 1, transition: { duration: 150 } },\r\n  exit: { opacity: 0, transition: { duration: 150 } },\r\n})\r\n\r\nconst allTags = new Set()\r\nfor (const item of faq) {\r\n  for (const tag of item.t) allTags.add(tag)\r\n}\r\nconst allTagsOptions = []\r\nfor (const tag of allTags) {\r\n  allTagsOptions.push({ key: tag, text: tag, value: tag })\r\n}\r\n\r\nconst allQuestions = faq.map(item => item.qe)\r\nconst itemsPerPage = 10\r\nconst pageByQuestions = {}\r\nfaq.forEach((item, index) => {\r\n  pageByQuestions[item.q] = Math.floor(index / itemsPerPage)\r\n  item.a = textParser.parseAllowLinks(item.a)\r\n})\r\n\r\n// const CopyIcon = styled(Icon)`\r\n//   position: absolute;\r\n//   left: -20px;\r\n//   top: 5px;\r\n// `\r\n\r\nfunction FAQ (props) {\r\n  const [ searchTerm, setSearch ] = useState('')\r\n  const [ topOffsets, setTopOffsets ] = useState({})\r\n\r\n  const paramQuestion = props.match.params.question\r\n  const [ selectedQuestion, setQuestion ] = useState(allQuestions.includes(paramQuestion) ? faq.find(item => item.qe === paramQuestion) : null)\r\n  const [ page, setPage ] = useState(selectedQuestion ? pageByQuestions[selectedQuestion.q] : 0)\r\n\r\n  // Scroll to selected item when the ref and scrollbar are defined\r\n  useEffect(() => {\r\n    if (props.scrollbar && selectedQuestion && topOffsets[selectedQuestion.qe]) {\r\n      props.scrollbar.scrollTop(topOffsets[selectedQuestion.qe])\r\n    }\r\n  }, [ props.scrollbar, selectedQuestion, topOffsets ])\r\n\r\n  // Scroll after searching an item\r\n  useEffect(() => {\r\n    if (searchTerm === '' && props.scrollbar && selectedQuestion && topOffsets[selectedQuestion.qe]) {\r\n      props.scrollbar.scrollTop(topOffsets[selectedQuestion.qe])\r\n    }\r\n  }, [ searchTerm, props.scrollbar, selectedQuestion, topOffsets ])\r\n\r\n  useEffect(() => {\r\n    const focused = querystring.parse(props.location.search).focus\r\n    if (!focused || !selectedQuestion) return\r\n    const modalProps = {\r\n      header: <h2>{selectedQuestion.q}</h2>,\r\n      footer: <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <div>\r\n          <SectionSubtitle>Keywords</SectionSubtitle>\r\n          <TagContainer>{selectedQuestion.t.map((tag, i) => <Tag key={i}>{tag}</Tag>)}</TagContainer>\r\n        </div>\r\n        <Button content='Ok' onClick={e => modal.hide()} />\r\n      </div>\r\n    }\r\n    const modalChildren = (\r\n      <Answer pose='expand' style={{ paddingLeft: 0 }}>\r\n        <p>{selectedQuestion.a}</p>\r\n      </Answer>\r\n    )\r\n    modal.show(modalProps, modalChildren)\r\n  }, [ props.history, props.location.search, selectedQuestion ])\r\n\r\n  useEffect(() => {\r\n    if (selectedQuestion) document.title = `Discord.RSS - FAQ - ${selectedQuestion.q}`\r\n    else document.title = `Discord.RSS - FAQ`\r\n  }, [selectedQuestion])\r\n\r\n  const contentClone = searchFAQ(searchTerm)\r\n\r\n  let addedTopOffset = false\r\n  const items = contentClone.map((item, index) => {\r\n    const selected = selectedQuestion && selectedQuestion.qe === item.qe\r\n    return (\r\n      <QAWrapper key={item.q} ref={elem => {\r\n        if (!topOffsets[item.qe]) topOffsets[item.qe] = elem.offsetTop\r\n      }}>\r\n        <QAWrapperInner>\r\n          {/* <CopyIcon name='copy' /> */}\r\n          <div>\r\n            <Link to={selected ? pages.FAQ : `${pages.FAQ}/${item.qe}`} onClick={e => setQuestion(selected ? null : item)}>\r\n              <SectionItemTitle as='span' style={{ fontSize: '18px', lineHeight: '30px', fontWeight: selected ? 600 : 'normal', color: selected ? lighten(0.125, colors.discord.blurple) : colors.discord.text }}>{item.q}</SectionItemTitle>\r\n            </Link>\r\n            <Answer pose={selected ? 'expand' : 'minimize'} initialPose='minimize'>\r\n              <BlueSidebar show={selected} />\r\n              <p>{item.a}</p>\r\n              <SectionSubtitle>Keywords</SectionSubtitle>\r\n              <TagContainer>\r\n                {selectedQuestion ? selectedQuestion.t.map((tag, i) => <Tag key={i}>{tag}</Tag>) : []}\r\n              </TagContainer>\r\n            </Answer>\r\n          </div>\r\n\r\n        </QAWrapperInner>\r\n        <Divider />\r\n      </QAWrapper>\r\n    )\r\n  })\r\n\r\n  if (addedTopOffset) setTopOffsets(topOffsets)\r\n\r\n  const displayPage = page + 1\r\n  const lastItem = displayPage * itemsPerPage\r\n  return (\r\n    <div>\r\n      <Header>\r\n        <PageHeader heading='Frequently Asked Questions' style={{ textAlign: 'center' }} />\r\n        <p style={{ textAlign: 'center' }}>A labyrinth of information, at your disposal.<br /><span style={{ color: colors.discord.yellow }}>This is an incomplete section. More content will be added.</span></p>\r\n        <div style={{ width: '100%', display: 'flex', justifyContent: 'center', position: 'relative' }}>\r\n          <Input icon='search' iconPosition='left' onKeyDown={e => {\r\n            if (e.keyCode !== 13 || !searchTerm || contentClone.length === 0) return\r\n            setQuestion(contentClone[0])\r\n            setPage(pageByQuestions[contentClone[0].q])\r\n            setSearch('')\r\n            // props.history.push(`${pages.FAQ}/${contentClone[0].qe}`)\r\n          }} onChange={e => {\r\n            if (page !== 0) setPage(0)\r\n            setSearch(e.target.value)\r\n          }} value={searchTerm} />\r\n          <FadeText pose={searchTerm && items.length > 0 ? 'enter' : 'exit'}>Click Enter to see the first article</FadeText>\r\n        </div>\r\n        {/* <Dropdown multiple search selection options={allTagsOptions} /> */}\r\n      </Header>\r\n      <Section>\r\n        <SectionFAQ pose='enter' key='faq'>\r\n          <div>\r\n            <h2>{ searchTerm ? 'Search Results' : 'Top Questions' }</h2>\r\n            <Button.Group>\r\n              <Button size='large' icon='caret left' disabled={page === 0} onClick={e => page <= 0 ? null : setPage(page - 1)} />\r\n              <Button.Or text={displayPage} />\r\n              <Button size='large' icon='caret right' disabled={lastItem >= items.length} onClick={e => lastItem >= items.length ? null : setPage(displayPage)} />\r\n            </Button.Group>\r\n          </div>\r\n          <br />\r\n          <PoseGroup flipMove>\r\n            {items.slice(lastItem - itemsPerPage, lastItem)}\r\n          </PoseGroup>\r\n        </SectionFAQ>\r\n        <span>Page {displayPage}/{1 + Math.floor(items.length / itemsPerPage)}</span>\r\n      </Section>\r\n    </div>\r\n  )\r\n}\r\n\r\nFAQ.propTypes = {\r\n  scrollbar: PropTypes.object,\r\n  history: PropTypes.object,\r\n  location: PropTypes.object,\r\n  match: PropTypes.object\r\n}\r\n\r\nexport default withRouter(FAQ)\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Container = styled.div`\r\n  h3 {\r\n    color: white;\r\n    font-weight: 500;\r\n    text-transform: uppercase;\r\n    font-size: 20px;\r\n    margin-bottom: ${props => props.hasSubheading ? '8px' : '20px'} !important;\r\n  }\r\n  p {\r\n    margin-bottom: 20px !important;\r\n    font-size: 16px;\r\n    color: #72767d;\r\n  }\r\n`\r\n\r\nconst Main = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  > div:first-child {\r\n    margin-right: ${props => props.hasSideComponent ? '30px' : 0};\r\n  }\r\n`\r\n\r\nclass PageHeader extends React.PureComponent {\r\n  render () {\r\n    return (\r\n      <Container hasSubheading={!!this.props.subheading}>\r\n        <Main hasSideComponent={!!this.props.sideComponent}>\r\n          <div>\r\n            {this.props.heading ? <h3>{this.props.heading}</h3> : null}\r\n            {this.props.subheading ? <p>{this.props.subheading}</p> : null}\r\n          </div>\r\n          {this.props.sideComponent ? <div><h3>{this.props.sideComponent}</h3></div> : null}\r\n        </Main>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nPageHeader.propTypes = {\r\n  heading: PropTypes.string,\r\n  subheading: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.node\r\n  ]),\r\n  sideComponent: PropTypes.oneOfType([\r\n    PropTypes.node,\r\n    PropTypes.string\r\n  ])\r\n}\r\n\r\nexport default PageHeader\r\n","import styled from 'styled-components'\r\n\r\nexport default styled.div`\r\n  position: relative;\r\n  background: rgba(4, 4, 5, 0.1);\r\n  border-color: rgba(4,4,5,.3);\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  transition: border .125s;\r\n`\r\n","const names = [ '_fullDescription', '_fullTitle', '_fullSummary', '_id', '_fullDate' ]\r\n\r\nconst properties = new Set()\r\nfor (const name of names) {\r\n  properties.add(name)\r\n}\r\n\r\nconst isHiddenProperty = property => {\r\n  return properties.has(property)\r\n}\r\n\r\nexport { isHiddenProperty, names as hiddenProperties }\r\n","import styled from 'styled-components'\r\n\r\nexport default styled.div`\r\n  color: #72767d;\r\n  font-size: ${props => props.fontSize ? props.fontSize : '14px'};\r\n  font-weight: 500;\r\n  line-height: 20px;\r\n  margin-bottom: 8px;\r\n`\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport { Input, Button } from 'semantic-ui-react'\r\n\r\nclass FeedInput extends Component {\r\n  constructor (props) {\r\n    super()\r\n    const sessionData = sessionStorage.getItem('feedbrowserData')\r\n\r\n    this.state = {\r\n      url: props.match.params.url ? decodeURIComponent(props.match.params.url) : sessionData ? JSON.parse(sessionData).prevUrl : ''\r\n    }\r\n  }\r\n\r\n  getArticles = () => this.props.getArticles(this.state.url)\r\n\r\n  render () {\r\n\r\n    return (\r\n      <Input\r\n        fluid\r\n        placeholder='Enter a feed URL!'\r\n        disabled={this.props.loading}\r\n        action={<Button disabled={!this.state.url} content='Get' onClick={this.getArticles} />}\r\n        onKeyPress={e => e.key === 'Enter' ? this.getArticles() : null}\r\n        onChange={e => this.setState({ url: e.target.value })}\r\n        value={this.state.url} />\r\n    )\r\n  }\r\n}\r\n\r\nFeedInput.propTypes = {\r\n  match: PropTypes.object,\r\n  location: PropTypes.object,\r\n  getArticles: PropTypes.func\r\n}\r\n\r\nexport default withRouter(FeedInput)\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { changePage } from 'js/actions/index-actions'\r\nimport pages from 'js/constants/pages'\r\nimport PageHeader from '../utils/PageHeader'\r\nimport SectionItemTitle from '../utils/SectionItemTitle'\r\nimport SectionTitle from '../utils/SectionTitle'\r\nimport SectionSubtitle from '../utils/SectionSubtitle'\r\nimport Wrapper from '../utils/Wrapper'\r\nimport parser from '../ControlPanel/utils/textParser'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport { Input, Divider, Popup, Image, Dropdown, Loader, Button } from 'semantic-ui-react'\r\nimport SectionSubtitleDescription from '../utils/SectionSubtitleDescription';\r\nimport posed, { PoseGroup } from 'react-pose'\r\nimport moment from 'moment-timezone'\r\nimport axios from 'axios'\r\nimport querystring from 'query-string'\r\nimport FeedInput from './FeedInput'\r\nimport colors from 'js/constants/colors'\r\nimport hljs from 'highlight.js'\r\nimport { isHiddenProperty } from '../../constants/hiddenArticleProperties'\r\n\r\nconst timezoneGuess = moment.tz(moment.tz.guess()).format('z')\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    feedId: state.feedId,\r\n    articleList: state.articleList\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setToThisPage: () => dispatch(changePage(pages.FEED_BROWSER))\r\n  }\r\n}\r\n\r\nconst Header = styled.div`\r\n  background-color: #26262b;\r\n  width: 100%;\r\n  height: 350px;\r\n  padding: 0 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  text-align: center;\r\n  > div:first-child {\r\n    padding-bottom: 10px;\r\n  }\r\n  > p {\r\n    margin-bottom: 30px;\r\n  }\r\n  .ui.input {\r\n    max-width: 700px;\r\n    width: 100%;\r\n  }\r\n  .ui.dropdown {\r\n    max-width: 700px;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst ArticlesSection = styled.div`\r\n  margin: 3em auto;\r\n  max-width: 1450px;\r\n  width: 100%;\r\n`\r\n\r\nconst ArticlesSectionInner = styled.div`\r\n  padding: 0 25px;\r\n`\r\n\r\nconst ArticlesSectionSearch = styled.div`\r\n  margin-bottom: 1em;\r\n  .ui.input {\r\n    margin-bottom: 1em;;\r\n  }\r\n`\r\n\r\nconst ArticlesHeaderContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  margin-bottom: 1em;\r\n  @media only screen and (min-width: 650px) {\r\n    flex-direction: row;\r\n  }\r\n`\r\n\r\nconst SearchFilterSection = posed.div({\r\n  enter: { height: 'auto', opacity: 1 },\r\n  exit: { height: 0, opacity: 0 }\r\n})\r\n\r\n\r\nconst ViewOptions = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n  > .ui.dropdown:first-child {\r\n    flex-grow: 1;\r\n    margin-bottom: 5px;\r\n  }\r\n  @media only screen and (min-width: 650px) {\r\n    flex-direction: row;\r\n    > .ui.dropdown:first-child {\r\n      flex-grow: 0;\r\n      margin-bottom: 0;\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n`\r\n\r\nconst SortByContainerStyles = styled.div`\r\n  display: flex;\r\n  /* overflow: hidden; */\r\n  > .ui.dropdown {\r\n    border-top-right-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n    flex-grow: 1;\r\n  }\r\n  > .ui.button {\r\n    border-radius: 0;\r\n  }\r\n  > .ui.button:last-child {\r\n    border-top-right-radius: 4px;\r\n    border-bottom-right-radius: 4px;\r\n  }\r\n  @media only screen and (min-width: 650px) {\r\n    flex-direction: row;\r\n    flex-grow: 0;\r\n  }\r\n`\r\n\r\nconst SortByContainer = posed(SortByContainerStyles)({\r\n  enter: { width: 'auto', opacity: 1 },\r\n  exit: { width: 0, opacity: 0 }\r\n})\r\n\r\nconst ArticleImages = styled.div`\r\n  a {\r\n    display: inline-block;\r\n    margin-right: 10px;\r\n    margin-bottom: 5px;\r\n    /* max-height: 100px; */\r\n    > img {\r\n      max-height: 100px;\r\n    }\r\n    &:last-child {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n`\r\n\r\nconst ArticleStyle = styled.div`\r\n  word-break: break-all;\r\n`\r\n\r\nconst PosedDiv = posed(ArticleStyle)({\r\n  enter: { opacity: 1 },\r\n  exit: { opacity: 0 }\r\n})\r\n\r\nconst PlaceholderTitle = styled(SectionSubtitle)`\r\n  margin-top: 1em;\r\n  /* color: white; */\r\n`\r\n\r\nconst StatusMessage = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 200px;\r\n  margin: 25px 0;\r\n  user-select: none;\r\n`\r\n\r\nconst UrlDisplay = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  word-break: break-all;\r\n  > label {\r\n    margin-bottom: 0;\r\n    margin-right: 1em;\r\n  }\r\n`\r\n\r\nconst OpacityTransition = posed.div({\r\n  enter: { opacity: 1, height: '100%' },\r\n  exit: { opacity: 0, height: 0 }\r\n})\r\n\r\nconst XMLWrapperStyles = styled.pre`\r\n  max-width: 100%;\r\n  width: 100%;\r\n`\r\nconst XMLWrapper = posed(XMLWrapperStyles)()\r\n\r\nconst viewTypeOptions = [{ text: 'Placeholders', value: 'placeholders' }, { text: 'Original XML', value: 'xml' }]\r\n\r\nclass FeedBrowser extends Component {\r\n  constructor (props) {\r\n    super()\r\n    const parsedQuery = querystring.parse(props.location.search)\r\n    this.state = {\r\n      error: '',\r\n      inputFocused: false,\r\n      url: props.match.params.url ? decodeURIComponent(props.match.params.url) : '',\r\n      prevUrl: '',\r\n      prevEncodedUrl: '',\r\n      search: '',\r\n      loading: false,\r\n      searchCategories: [],\r\n      searchDropdownOptions: [],\r\n      articleList: [],\r\n      sortBy: parsedQuery.sort,\r\n      sortDescending: parsedQuery.ascending === 'true' ? false : true,\r\n      viewType: viewTypeOptions[0].value,\r\n      loadingXML: false,\r\n      xmlText: ''\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    document.title = 'Discord.RSS - Feed Browser'\r\n    this.props.setToThisPage()\r\n  }\r\n\r\n  componentDidMount () {\r\n    // const sessionData = sessionStorage.getItem('feedbrowserData')\r\n    // if (sessionData) {\r\n      \r\n    //   this.setState({ loading: true })\r\n    //   return setTimeout(() => {\r\n    //     const sessionDataParsed = JSON.parse(sessionData)\r\n    //     this.fillSearchDropdown(sessionDataParsed.articleList, sessionDataParsed.prevUrl, sessionDataParsed.prevUrlEncoded, sessionDataParsed.xml)\r\n    //   }, 0)\r\n    // }\r\n    if (this.state.url) this.getArticles()\r\n  }\r\n\r\n  fillSearchDropdown = (articleList, url, encodedUrl, xmlText) => {\r\n    const placeholdersSeen = {}\r\n    const searchCategories = ['title'] // Title can always be shown regardless of whether articles have it or not. If there is no title, it will say as such.\r\n    const searchDropdownOptions = []\r\n    let firstValidCategory = ''\r\n    articleList.forEach(placeholders => {\r\n      for (const placeholder in placeholders) {\r\n        if (!placeholders[placeholder] || isHiddenProperty(placeholder)) continue\r\n        if (placeholder === 'date') {\r\n          placeholders[placeholder] = moment(placeholders[placeholder]).local().format('DD MMMM Y hh:mm A (HH:mm) zz')\r\n          if (!placeholdersSeen.date) {\r\n            placeholdersSeen.date = true\r\n            searchDropdownOptions.push({ text: 'date', value: 'date' })\r\n          }\r\n        } else if (placeholder.includes('image')) { \r\n          if (!placeholdersSeen.images) {\r\n            placeholdersSeen.images = true\r\n            searchDropdownOptions.push({ text: 'images', value: 'images' })\r\n          }\r\n        } else if (placeholder.includes('anchor')) {\r\n          if (!placeholdersSeen.anchors) {\r\n            placeholdersSeen.anchors = true\r\n            searchDropdownOptions.push({ text: 'anchors', value: 'anchors' })\r\n          }\r\n        } else if (!placeholdersSeen[placeholder]) {\r\n          if (!firstValidCategory) firstValidCategory = placeholder\r\n          placeholdersSeen[placeholder] = true\r\n          searchDropdownOptions.push({ text: placeholder, value: placeholder })\r\n        }\r\n      }\r\n    })\r\n    if (placeholdersSeen.date) searchCategories.push('date')\r\n    if (placeholdersSeen.description) searchCategories.push('description')\r\n    if (placeholdersSeen.link) searchCategories.push('link')\r\n    if (searchCategories.length === 0) searchCategories.push(firstValidCategory)\r\n\r\n    const pathname = `${pages.FEED_BROWSER}/${encodedUrl}`\r\n    // console.log(this.props.history)\r\n    if (this.props.history.location.pathname !== pathname) {\r\n      this.props.history.push({\r\n        pathname //,\r\n        // search: this.state.sortBy && searchCategories.includes(this.state.sortBy) ? `?sort=${this.state.sortBy}` : undefined\r\n      })\r\n    }\r\n    this.setState({ searchDropdownOptions, searchCategories, loading: false, search: '', articleList, prevUrl: url, prevUrlEncoded: encodedUrl, xmlText })\r\n  }\r\n\r\n  getArticles = (paramUrl) => {\r\n    const url = paramUrl || this.state.url\r\n    if (!url || this.state.loading) return\r\n    this.setState({ loading: true, error: '', viewType: viewTypeOptions[0].value, xmlText: '', loadingXML: false })\r\n    const encodedUrl = encodeURIComponent(url)\r\n    axios.get(`/api/feeds/${encodedUrl}`).then(res => {\r\n      this.fillSearchDropdown(res.data.placeholders, url, encodedUrl, res.data.xml)\r\n      sessionStorage.setItem('feedbrowserData', JSON.stringify({ articleList: res.data.placeholders, xml: res.data.xml, prevUrl: url, prevUrlEncoded: encodedUrl }))\r\n      // this.setState({ loading: false, articleList: res.data, prevUrl: url })\r\n    }).catch(err => {\r\n      console.log(err.response || err.message)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      console.log(errMessage)\r\n      this.setState({ loading: false, error: errMessage })\r\n      // toast.error(<p>Failed to fetch feed<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  sortBy = sortBy => {\r\n    if (this.state.sortBy !== sortBy) this.setState({ sortBy: sortBy || '' })\r\n    // this.props.history.push({\r\n    //   pathname: `${pages.FEED_BROWSER}/${this.state.prevEncodedUrl}`,\r\n    //   search: sortBy ? `?sort=${sortBy}` : ''\r\n    // })\r\n  }\r\n\r\n  viewType = viewType => {\r\n    const { prevUrl } = this.state\r\n    if (!prevUrl || viewType === this.state.viewType) return\r\n    if (viewType === 'placeholders') {\r\n      this.setState({ viewType, error: '' })\r\n      return\r\n    }\r\n    if (this.state.xmlText) return this.setState({ viewType })\r\n  }\r\n\r\n  render () {\r\n    const { search, searchCategories, articleList } = this.state\r\n    // const { articleList } = this.props\r\n    const searchCategoriesHasImages = searchCategories.includes('images')\r\n    const searchCategoriesHasAnchors = searchCategories.includes('anchors')\r\n    const searchCategoriesHasTitle = searchCategories.includes('title')\r\n    const searchCategoriesHasDescription = searchCategories.includes('description')\r\n    const searchCategoriesHasDate = searchCategories.includes('date')\r\n    const searchCategoriesHasLink = searchCategories.includes('link')\r\n\r\n    const elems = (!this.state.sortBy || !searchCategories.includes(this.state.sortBy)\r\n      ? articleList\r\n      : [ ...articleList ].sort((a, b) => {\r\n          const result = a[this.state.sortBy] > b[this.state.sortBy] ? 1 : -1\r\n          return this.state.sortDescending ? result : result * -1\r\n        })\r\n      ).map(placeholders => {\r\n      const images = []\r\n      const anchors = []\r\n      let include = false\r\n      // First see if there's a search\r\n      if (!search) include = true\r\n      else {\r\n        for (const placeholder in placeholders) {\r\n          if (include) continue\r\n          const val = placeholders[placeholder]\r\n          if (searchCategories.includes(placeholder) || (searchCategoriesHasImages && placeholder.includes('image')) || (searchCategoriesHasAnchors && placeholder.includes('anchor'))) {\r\n            if (val.toString().toLowerCase().includes(search)) include = true\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!include) return null\r\n\r\n      // Generate the image and anchor elements\r\n      if (searchCategoriesHasAnchors || searchCategoriesHasImages) {\r\n        for (const placeholder in placeholders) {\r\n          const val = placeholders[placeholder]\r\n          if (searchCategoriesHasImages && placeholder.includes('image')) images.push(<Popup key={val + 'genned'} on='hover' inverted hideOnScroll trigger={<a rel=\"noopener noreferrer\" href={val} target='_blank'><Image src={val} key={val} /></a>} content={`{${placeholder}}`} />)\r\n          else if (searchCategoriesHasAnchors && placeholder.includes('anchor')) anchors.push(\r\n            <div key={val + 'genned'}>\r\n              <PlaceholderTitle>{placeholder.replace(/^([a-z]*):[a-z]*(\\d)/, '$1 anchor $2')}</PlaceholderTitle>\r\n              <Popup on='hover' inverted hideOnScroll trigger={<a rel=\"noopener noreferrer\" href={val} target='_blank'>{val}</a>} content={`{${placeholder}}`} />\r\n            </div>\r\n          )\r\n        }\r\n      }\r\n\r\n      const singleLineElements = []\r\n      if (searchCategoriesHasLink) singleLineElements.push(<div key={placeholders.link + 'sl'}><PlaceholderTitle>Link</PlaceholderTitle><Popup position='left center' hideOnScroll trigger={<a rel=\"noopener noreferrer\" target='_blank' href={placeholders.link}>{placeholders.link}</a>} inverted content='{link}' on='hover' /></div>)\r\n      for (const category of searchCategories) {\r\n        // Skip the below categories since these must be manually added below to preserve their ordering. Anchors and images don't have to be ordered, but they're already handled in the above for loop for efficiency\r\n        if (category === 'title' || category === 'date' || category === 'link' || category === 'description' || category === 'anchors' || category === 'images') continue\r\n        singleLineElements.push(<div key={placeholders[category] + 'sll'}><PlaceholderTitle>{category}</PlaceholderTitle><Popup position='left center' hideOnScroll trigger={<p>{parser.parseAllowLinks(placeholders[category])}</p>} inverted content={`{${category}}`} on='hover' /></div>)\r\n      }\r\n\r\n      return (\r\n        <PosedDiv key={placeholders._id} className='hodunk'>\r\n          <Wrapper>\r\n            { searchCategoriesHasDate\r\n              ? placeholders.date\r\n                ? <Popup position='left center' hideOnScroll trigger={<SectionSubtitleDescription>{placeholders.date + timezoneGuess}</SectionSubtitleDescription>} on='focus' inverted content='{date}' />\r\n                : null\r\n              : null\r\n            }\r\n            { searchCategoriesHasTitle\r\n              ? placeholders.title\r\n                ? <Popup position='left center' hideOnScroll trigger={<SectionItemTitle>{parser.parseAllowLinks(placeholders.title)}</SectionItemTitle>} on='focus' inverted content='{title}' />\r\n                : <SectionItemTitle>No Title Available</SectionItemTitle>\r\n              : null\r\n            }\r\n            { searchCategoriesHasDescription\r\n              ? placeholders.description\r\n                ? <Popup position='left center' hideOnScroll trigger={<p>{parser.parseAllowLinks(placeholders.description || placeholders.summary)}</p>} inverted content='{summary}' on='focus' />\r\n                : null\r\n              : null\r\n            }\r\n            {singleLineElements.length > 0 ? <Divider /> : null}\r\n            {singleLineElements}\r\n            { anchors }\r\n            { images.length > 0\r\n              ? <div>\r\n                <PlaceholderTitle>Images</PlaceholderTitle>\r\n                <ArticleImages>\r\n                  {images}\r\n                </ArticleImages>\r\n              </div>\r\n              : null\r\n            }\r\n          </Wrapper>\r\n          <Divider />\r\n        </PosedDiv>\r\n      )\r\n    })\r\n\r\n\r\n    const notPlaceholdersViewType = this.state.viewType !== 'placeholders'\r\n    return (\r\n      <div>\r\n        <Header>\r\n        <PageHeader heading='Feed Browser' />\r\n        <p>Preview placeholders and browse their contents without adding them!</p>\r\n        {/* <SectionTitle heading='URL' subheading='Enter a feed URL.' /> */}\r\n        {/* <Input fluid disabled={this.state.loading} onFocus={e => this.setState({ inputFocused: true })} onBlur={e => this.setState({ inputFocused: false })} action={<Button disabled={!this.state.url} content='Get' onClick={this.getArticles} />} onKeyPress={e => e.key === 'Enter' ? this.getArticles() : null} onChange={e => this.setState({ url: e.target.value }) } value={this.state.url}/> */}\r\n        <FeedInput getArticles={this.getArticles} loading={this.state.loading} />\r\n        </Header>\r\n\r\n        <ArticlesSection className='hello'>\r\n          <ArticlesSectionInner>\r\n            <OpacityTransition pose={this.state.loading || articleList.length === 0 ? 'exit' : 'enter'} className='world'>\r\n              <SectionTitle heading='Result' subheading='You can filter out article details by selecting certain article categories. You may also filter articles by search.' />\r\n              <UrlDisplay>\r\n                <SectionSubtitle>\r\n                  URL\r\n                </SectionSubtitle>\r\n                <a href={this.state.prevUrl} rel='noopener noreferrer' target='_blank'>{this.state.prevUrl}</a>\r\n              </UrlDisplay>\r\n              <Divider />\r\n              <SearchFilterSection pose={notPlaceholdersViewType ? 'exit' : 'enter'}>\r\n                <SectionSubtitle>\r\n                  Search and Filter\r\n                </SectionSubtitle>\r\n                <ArticlesSectionSearch>\r\n                  <Input disabled={this.state.loading || articleList.length === 0} icon='search' fluid onChange={e => this.setState({ search: e.target.value })} placeholder='Search' loading={this.state.loading} />\r\n                  <Dropdown disabled={this.state.loading || articleList.length === 0} placeholder='Show Properties' selection fluid multiple options={this.state.searchDropdownOptions} value={this.state.searchCategories} onChange={(e, data) => data.value.length === 0 ? null : this.setState({ searchCategories: data.value }) } loading={this.state.loading} />\r\n                </ArticlesSectionSearch>\r\n                <Divider />\r\n              </SearchFilterSection>\r\n              <ArticlesHeaderContainer>\r\n                <SectionSubtitle>{this.state.articleList.length} Articles</SectionSubtitle>\r\n                <ViewOptions>\r\n                  <Dropdown selection placeholder='View type' options={viewTypeOptions} value={this.state.viewType} onChange={(e, data) => this.viewType(data.value)} />\r\n                  <SortByContainer pose={notPlaceholdersViewType ? 'exit' : 'enter'} style={articleList.length === 0 ? { overflow: 'hidden' } : {}}>\r\n                    <Dropdown selection value={this.state.sortBy} placeholder='Sort by' disabled={notPlaceholdersViewType || articleList.length === 0 || this.state.loading} onChange={(e, data) => this.sortBy(data.value)} options={this.state.searchDropdownOptions} />\r\n                    <Button icon='sort' disabled={notPlaceholdersViewType || !this.state.sortBy || articleList.length === 0 || this.state.loading} onClick={e => this.setState({ sortDescending: !this.state.sortDescending })} />\r\n                    <Button icon='cancel' disabled={notPlaceholdersViewType || !this.state.sortBy || articleList.length === 0 || this.state.loading} onClick={e => this.sortBy()} />\r\n                  </SortByContainer>\r\n                </ViewOptions>\r\n              </ArticlesHeaderContainer>\r\n            </OpacityTransition>\r\n            { this.state.error\r\n              ? <StatusMessage><SectionSubtitleDescription style={{ color: colors.discord.red }} fontSize='20px'>{this.state.error}</SectionSubtitleDescription></StatusMessage>\r\n              : this.state.loading || articleList.length === 0 || this.state.loadingXML\r\n              ? (this.state.loading || this.state.loadingXML)\r\n                ? <StatusMessage>\r\n                    <Loader active inverted size='massive' content={<SectionSubtitleDescription fontSize='20px'>Fetching...</SectionSubtitleDescription>}/>\r\n                  </StatusMessage>\r\n                : this.state.prevUrl\r\n                  ? <StatusMessage><SectionSubtitleDescription fontSize='20px'>No articles were found :(</SectionSubtitleDescription></StatusMessage>\r\n                  : null\r\n              : null\r\n            }\r\n            <PoseGroup animateOnMount>\r\n              {this.state.loading || this.state.loadingXML\r\n                ? []\r\n                : notPlaceholdersViewType && this.state.xmlText ?\r\n                [\r\n                  <XMLWrapper key='xml'>\r\n                    <code dangerouslySetInnerHTML={{ __html: hljs.highlight('xml', this.state.xmlText).value}} />\r\n                  </XMLWrapper>\r\n                ]\r\n                : elems\r\n              }\r\n            </PoseGroup>\r\n          </ArticlesSectionInner>\r\n        </ArticlesSection>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nFeedBrowser.propTypes = {\r\n  articleList: PropTypes.array,\r\n  setToThisPage: PropTypes.func\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(FeedBrowser))\r\n","import React from 'react'\r\nimport colors from '../../../constants/colors'\r\nimport styled from 'styled-components'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst ServerBlockAvatar = styled.div`\r\n  display: inline-block;\r\n  border-radius: 50%;\r\n  background-image: ${props => `url('${props.src}')`};\r\n  min-width: ${props => props.width};\r\n  height: ${props => props.width};\r\n  background-size: cover;\r\n  background-position: top center;\r\n  z-index: 1;\r\n  background-blend-mode: screen;\r\n  background-color: ${colors.discord.darkButNotBlack};\r\n`\r\n\r\nfunction DiscordAvatar (props) {\r\n  return (\r\n    <ServerBlockAvatar src={props.src} width={props.width} {...props} />\r\n  )\r\n}\r\n\r\nDiscordAvatar.propTypes = {\r\n  src: PropTypes.string,\r\n  width: PropTypes.string\r\n}\r\n\r\nexport default DiscordAvatar\r\n","import React from 'react'\r\nimport colors from '../../../constants/colors'\r\nimport { Popup } from 'semantic-ui-react'\r\nimport styled from 'styled-components'\r\nimport { lighten, darken } from 'polished'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst RouterLink = styled(Link)`\r\n  -webkit-tap-highlight-color: transparent;\r\n  outline: none;\r\n  :hover {\r\n    text-decoration: none !important;\r\n  }\r\n  &:active, &:focus {\r\n    border: none;\r\n  }\r\n`\r\n\r\nconst ButtonBlank = styled.a`\r\n  display: flex;\r\n  text-align: left;\r\n  align-items: center;\r\n  padding: ${props => props.padding || '10px 20px'};\r\n  margin: .5em 0;\r\n  border-radius: .25em;\r\n  color: ${props => props.disabled || props.unsupported ? darken(0.4, colors.discord.text) : props.selected ? 'white' : lighten(0.45, colors.discord.darkButNotBlack)};\r\n  background-color: ${props => props.disabled || props.unsupported ? 'transparent' : props.selected ? '#40444B' : 'transparent'};\r\n  /* width: 100%; */\r\n  user-select: none;\r\n  cursor: ${props => props.disabled || props.unsupported ? 'not-allowed' : props.selected ? 'default' : 'pointer'} !important;\r\n  &:hover {\r\n    user-select: none;\r\n    text-decoration: none !important;\r\n    /* color: white; */\r\n    color: ${props => props.disabled || props.unsupported ? darken(0.4, colors.discord.text) : 'white'};\r\n    background-color: ${props => props.disabled || props.unsupported ? 'transparent' : props.selected ? '#40444B' : '#292B2F'};\r\n    cursor: pointer;\r\n  }\r\n  &:active {\r\n    background-color: #202225;\r\n    /* background-color: ${props => props.disabled || props.unsupported ? 'transparent' : props.selected ? colors.discord.blurple : 'rgba(255, 255, 255, .08)'}; */\r\n  }\r\n`\r\n\r\nfunction MenuButton (props) {\r\n  return props.nonmenu\r\n    ? <ButtonBlank {...props} onClick={props.onClick} padding={props.padding}>\r\n      {props.children}\r\n    </ButtonBlank>\r\n    : !props.disabled && !props.unsupported\r\n      ? <ButtonBlank {...props} to={props.to} onClick={props.onClick} as={RouterLink} padding={props.padding}>\r\n        {props.children}\r\n      </ButtonBlank>\r\n      : <Popup content={props.disabled ? 'You must select a feed first!' : 'Not yet implemented, sorry!'} inverted position='right center' trigger={\r\n        <ButtonBlank {...props} onClick={props.onClick} padding={props.padding}>\r\n          {props.children}\r\n        </ButtonBlank>} />\r\n}\r\n\r\nMenuButton.propTypes = {\r\n  children: PropTypes.node,\r\n  unsupported: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  onClick: PropTypes.func,\r\n  to: PropTypes.string,\r\n  padding: PropTypes.string,\r\n  nonmenu: PropTypes.bool\r\n}\r\n\r\nexport default MenuButton\r\n","import { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport React, { Component } from 'react'\r\nimport colors from '../../../constants/colors'\r\nimport pages from '../../../constants/pages'\r\nimport { Divider, Dropdown, Button } from 'semantic-ui-react'\r\nimport styled from 'styled-components'\r\nimport DiscordAvatar from '../utils/DiscordAvatar'\r\nimport MenuButton from './MenuButton'\r\nimport { changePage, setActiveFeed, setActiveGuild } from '../../../actions/index-actions'\r\nimport PropTypes from 'prop-types'\r\nimport { isMobile } from \"react-device-detect\"\r\nimport { Scrollbars } from 'react-custom-scrollbars'\r\nimport modal from '../../utils/modal'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    feedId: state.feedId,\r\n    guildId: state.guildId,\r\n    page: state.page,\r\n    user: state.user,\r\n    channels: state.channels,\r\n    feeds: state.feeds,\r\n    feed: state.feed,\r\n    guilds: state.guilds,\r\n    articlesFetching: state.articlesFetching,\r\n    articlesError: state.articlesError\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    changePage: page => dispatch(changePage(page)),\r\n    setActiveFeed: rssName => dispatch(setActiveFeed(rssName)),\r\n    setActiveGuild: guildId => dispatch(setActiveGuild(guildId)),\r\n  }\r\n}\r\n\r\nconst LeftMenuDiv = styled.div`\r\n  display: flex;\r\n  flex-shrink: 0;\r\n  /* overflow-y: ${props => props.expanded ? 'auto' : 'hidden'}; */\r\n  height: 100%;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: ${props => props.expanded ? '100vw' : 0};\r\n  transition: opacity 0.25s ease-in-out;\r\n  /* overflow-x: hidden; */\r\n  z-index: 100;\r\n  background: #2f3136;\r\n  opacity: ${props => props.expanded ? 1 : 0};\r\n  scrollbar-width: thin;\r\n  > div {\r\n    width: auto;\r\n  }\r\n  @media screen and (min-width: 860px) {\r\n    position: static;\r\n    width: ${props => props.expanded ? '300px' : 0};\r\n    > div {\r\n      width: auto;\r\n    }\r\n  }\r\n`\r\n\r\nconst Content = styled.div`\r\n  padding: ${props => props.expanded ? '0 calc(19px + 6px) 50px 15px' : '0 0 50px 0'}; /* 6px is the custom scrollbar */\r\n`\r\n\r\nconst MenuSectionHeader = styled.span`\r\n  font-weight: 600;\r\n  line-height: 16px;\r\n  color: #dcddde;\r\n  text-transform: uppercase;\r\n  font-size: 12px;\r\n`\r\n\r\nconst UserContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 20px 0 0;\r\n  > span {\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    color: ${colors.discord.white};\r\n    margin: 20px 0;\r\n    word-break: break-all;\r\n    text-align: center;\r\n  }\r\n`\r\n\r\nconst MyDropdown = styled(Dropdown)`\r\n  display: flex !important;\r\n  margin-bottom: 0;\r\n  margin-top: 7px;\r\n  background-color: green;\r\n  &:hover {\r\n    cursor: not-allowed;\r\n  }\r\n`\r\n\r\nconst LogoutModalFooter = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  button {\r\n    padding: 1em 1.5em;\r\n  }\r\n  button {\r\n    background: transparent;\r\n    \r\n    padding-right: 2em;\r\n    color: white;\r\n    user-select: none;\r\n    border-style: none;\r\n    /* font-family: Whitney; */\r\n    &:hover {\r\n      cursor: pointer;\r\n      color: white;\r\n      text-decoration: underline;\r\n    }\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n`\r\n\r\nclass LeftMenu extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      expanded: true,\r\n      page: pages.DASHBOARD,\r\n      logoutConfirm: false,\r\n      showFeedBy: 'title'\r\n      // ,\r\n      // showArticleByOptions: [],\r\n      // showArticleBy: ''\r\n    }\r\n  }\r\n\r\n  onChangeFeed = (e, data) => {\r\n    const { setActiveFeed } = this.props\r\n    if (data.value === this.props.feedId) return\r\n    setActiveFeed(data.value)\r\n  }\r\n\r\n  onChangeServer = (e, data) => {\r\n    const { setActiveGuild, guildId } = this.props\r\n    if (data.value === guildId) return\r\n    setActiveGuild(data.value)\r\n  }\r\n\r\n  menuButtonClick = page => {\r\n    if (!this.props.disableMenuButtonToggle) this.props.toggleLeftMenu()\r\n    this.props.changePage(page)\r\n  }\r\n\r\n  logoutClick = () => {\r\n    const modalProps = {\r\n      footer: (<LogoutModalFooter>\r\n        <button onClick={modal.hide}>Cancel</button>\r\n        <Button color='red' onClick={e => {\r\n          window.location.href = '/logout'\r\n        }}>Log Out</Button>\r\n      </LogoutModalFooter>),\r\n    }\r\n    const children = <h4 style={{padding: '0.5em'}}>Are you sure you want to log out?</h4>\r\n    modal.show(modalProps, children)\r\n  }\r\n\r\n  render () {\r\n    const { feedId, guildId, feeds, feed, guilds, user, channels, articlesFetching, articlesError } = this.props\r\n    const feedDropdownOptions = []\r\n    const serverDropdownOptions = []\r\n    const guildFeeds = feeds[guildId]\r\n    if (guildFeeds) {\r\n      for (const rssName in guildFeeds) {\r\n        const feed = guildFeeds[rssName]\r\n        const channel = channels[guildId] && channels[guildId][feed.channel] ? ` (#${channels[guildId][feed.channel].name})` : ''\r\n        feedDropdownOptions.push({ text: `${feed[this.state.showFeedBy]}${channel}`, value: rssName })\r\n      }\r\n    }\r\n\r\n    for (const guildId in guilds) {\r\n      const guild = guilds[guildId]\r\n      serverDropdownOptions.push({ text: guild.name, value: guildId })\r\n    }\r\n\r\n    const userAvatar = user ? (user.displayAvatarURL || `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png`) : undefined\r\n    const noServers = serverDropdownOptions.length === 0\r\n    const noFeeds = feedDropdownOptions.length === 0\r\n    \r\n    return (\r\n      <LeftMenuDiv expanded={this.props.expanded}>\r\n        <Scrollbars>\r\n          <Content expanded={this.props.expanded}>\r\n        <div>\r\n          <UserContainer>\r\n            <DiscordAvatar src={userAvatar} width='90px' />\r\n            <span>{user ? user.username : undefined}</span>\r\n          </UserContainer>\r\n          <Button fluid content='Logout' basic color='red' onClick={this.logoutClick} />\r\n          <Divider />\r\n          <MenuSectionHeader>Main</MenuSectionHeader>\r\n          <MenuButton to={pages.DASHBOARD} selected={this.props.page === pages.DASHBOARD} onClick={() => this.menuButtonClick(pages.DASHBOARD)}>Home</MenuButton>\r\n          <Divider />\r\n          <MenuSectionHeader>Server</MenuSectionHeader>\r\n          <MyDropdown noResultsMessage='No servers found' search={!isMobile} placeholder={noServers ? 'No servers found' : 'Select a server'} options={serverDropdownOptions} disabled={noServers} value={guildId} selection onChange={this.onChangeServer} />\r\n          <MenuButton to={pages.FEEDS} disabled={!guildId} selected={this.props.page === pages.FEEDS} onClick={() => this.menuButtonClick(pages.FEEDS)}>Feeds</MenuButton>\r\n          <MenuButton to={pages.SERVER_SETTINGS} disabled={!guildId} selected={this.props.page === pages.SERVER_SETTINGS} onClick={() => this.menuButtonClick(pages.SERVER_SETTINGS)}>Settings</MenuButton>\r\n          <Divider />\r\n          <MenuSectionHeader>Feed</MenuSectionHeader>\r\n          <MyDropdown error={!articlesFetching && !!articlesError} loading={articlesFetching} noResultsMessage='No feeds found' search={!isMobile} placeholder={articlesFetching && feed ? `Fetching articles for ${feed.title}...` : noServers ? 'No server found' : noFeeds ? 'No feeds found' : 'Select a feed'} options={feedDropdownOptions} disabled={noFeeds || articlesFetching} value={articlesFetching ? '' : feedId} selection onChange={this.onChangeFeed} />\r\n          <MenuButton to={pages.MESSAGE} disabled={!feedId} onClick={() => !feedId ? null : this.menuButtonClick(pages.MESSAGE)} selected={this.props.page === pages.MESSAGE}>Message</MenuButton>            \r\n          <MenuButton to={pages.FILTERS} disabled={!feedId} onClick={() => !feedId ? null : this.menuButtonClick(pages.FILTERS)} selected={this.props.page === pages.FILTERS}>Filters</MenuButton>\r\n          <MenuButton to={pages.SUBSCRIPTIONS} disabled={!feedId} onClick={() => !feedId ? null : this.menuButtonClick(pages.SUBSCRIPTIONS)} selected={this.props.page === pages.SUBSCRIPTIONS}>Subscriptions</MenuButton>\r\n          <MenuButton to={pages.MISC_OPTIONS} disabled={!feedId} onClick={() => !feedId ? null : this.menuButtonClick(pages.MISC_OPTIONS)} selected={this.props.page === pages.MISC_OPTIONS}>Misc Options</MenuButton>\r\n          <MenuButton to={pages.DEBUGGER} disabled={!feedId} onClick={() => !feedId ? null : this.menuButtonClick(pages.DEBUGGER)} selected={this.props.page === pages.DEBUGGER}>Debugger</MenuButton>\r\n\r\n          <Divider />\r\n          \r\n          {/* <MenuSectionHeader>Tools</MenuSectionHeader>\r\n          <MenuButton to={pages.FEED_BROWSER} onClick={() => this.menuButtonClick(pages.FEED_BROWSER)} selected={this.props.page === pages.FEED_BROWSER}>Feed Browser</MenuButton>\r\n          <Divider /> */}\r\n\r\n          {/* <MenuSectionHeader>Information</MenuSectionHeader> */}\r\n\r\n          {/* <RouterLink to='/faq' onClick={() => this.props.changePage(pages.FAQ)}> */}\r\n            {/* <MenuButton to='/' unsupported selected={this.props.page === pages.FAQ}>FAQ</MenuButton> */}\r\n          {/* </RouterLink> */}\r\n          {/* <RouterLink to='/support' onClick={() => this.props.changePage(pages.SUPPORT)}> */}\r\n          {/* <MenuButton to='/' unsupported selected={this.props.page === pages.SUPPORT}>Support</MenuButton> */}\r\n          {/* <MenuButton to={pages.TODO} onClick={() => this.menuButtonClick(pages.TODO)} selected={this.props.page === pages.TODO}>To Do List</MenuButton> */}\r\n          {/* </RouterLink> */}\r\n\r\n\r\n        </div>\r\n        <div>\r\n          {/* <Divider />\r\n          <MenuButton to='/' unsupported>Feedback</MenuButton> */}\r\n        </div>\r\n        </Content>\r\n        </Scrollbars>\r\n      </LeftMenuDiv>\r\n    )\r\n  }\r\n}\r\n\r\nLeftMenu.propTypes = {\r\n  page: PropTypes.string,\r\n  changePage: PropTypes.func,\r\n  feeds: PropTypes.object,\r\n  user: PropTypes.object,\r\n  guildId: PropTypes.string\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LeftMenu))\r\n","import styled from 'styled-components'\r\n\r\nconst Wrapper = styled.div`\r\n  background: ${props => props.warn ? 'rgba(250,166,26,.3)' : 'rgba(114,137,218,.3)'};\r\n  border: ${props => props.warn ? '2px solid rgba(250,166,26,.75)' : '2px solid rgba(114,137,218,.75)'};\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  margin: 20px 0;\r\n  padding: 10px;\r\n  font-weight: 500;\r\n  color: hsla(0,0%,100%,.9);\r\n`\r\n\r\nexport default Wrapper\r\n","import React, { Component } from 'react'\r\nimport styled from 'styled-components'\r\nimport { changePage, setActiveGuild } from 'js/actions/index-actions'\r\nimport { Divider, Button, Popup, Form } from 'semantic-ui-react'\r\nimport DiscordAvatar from '../../../utils/DiscordAvatar'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport pages from 'js/constants/pages'\r\nimport SectionTitle from 'js/components/utils/SectionTitle'\r\nimport PageHeader from 'js/components/utils/PageHeader'\r\nimport AlertBox from 'js/components/utils/AlertBox'\r\nimport Wrapper from 'js/components/utils/Wrapper'\r\nimport toast from '../../../utils/toast'\r\nimport axios from 'axios'\r\nimport modal from 'js/components/utils/modal'\r\nimport MenuButton from '../../../LeftMenu/MenuButton'\r\nimport posed from 'react-pose'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    guildId: state.guildId,\r\n    user: state.user,\r\n    guilds: state.guilds,\r\n    feeds: state.feeds,\r\n    channels: state.channels,\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setToThisPage: () => dispatch(changePage(pages.DASHBOARD)),\r\n    setActiveGuild: guildId => dispatch(setActiveGuild(guildId))\r\n  }\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  @media only screen and (min-width: 930px) {\r\n    padding: 55px;\r\n  }\r\n  width: 100%;\r\n`\r\n\r\nconst ServerButtonInner = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  h4 {\r\n    margin: 0;\r\n  }\r\n  > div {\r\n    margin-right: 10px;\r\n  }\r\n`\r\n\r\nconst ServerEditButtonStyles = styled(Wrapper)`\r\n  display: flex;\r\n  overflow: hidden;\r\n  padding: 15px;\r\n  border-style: none;\r\n  border-top-left-radius: 0;\r\n  border-top-right-radius: 0;\r\n  margin-bottom: 5px;\r\n  > .ui.button {\r\n    margin-right: 1em;\r\n  }\r\n`\r\n\r\nconst ServerEditButtons = posed(ServerEditButtonStyles)({\r\n  enter: { height: 66, paddingTop: 15, paddingBottom: 15, transition: { duration: 200 } },\r\n  exit: { height: 0, paddingTop: 0, paddingBottom: 0, transition: { duration: 200 } }\r\n})\r\n\r\nconst ServerButton = styled(MenuButton)`\r\n  margin-bottom: 0;\r\n  margin-top: 0;\r\n  ${props => props.selected\r\n  ? `border-bottom-left-radius: 0;\r\n    border-bottom-right-radius: 0;`\r\n  : ''};\r\n`\r\n\r\nconst FeedbackForm = styled(Form)`\r\n  > div:last-child {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    margin-top: 1em;\r\n  }\r\n`\r\n\r\nconst NoServers = styled.div`\r\n  text-align: center;\r\n  color: #72767d;\r\n  font-size: 17px;\r\n  user-select: none;\r\n  padding: 40px 15px;\r\n  > span {\r\n    margin-top: 8px;\r\n    font-size: 16px;\r\n  }\r\n`\r\n\r\nclass Home extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      feedbackContent: '',\r\n      saving: false,\r\n      disabledFeedback: false\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    this.props.setToThisPage()\r\n    window.addEventListener(\"resize\", this.updateDimensions);\r\n  }\r\n\r\n  updateDimensions = () => {\r\n    const newState = {}\r\n    if (window.innerWidth >= 1000) {\r\n      if (this.state.avatarSize !== '14em') newState.avatarSize = '14em'\r\n    } else if (window.innerWidth < 1000) {\r\n      if (this.state.avatarSize !== '9em') newState.avatarSize = '9em'\r\n    }\r\n    if (Object.keys(newState).length > 0) this.setState(newState)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n      window.removeEventListener(\"resize\", this.updateDimensions);\r\n  }\r\n\r\n  submitFeedback = () => {\r\n    const content = this.state.feedbackContent.trim()\r\n    if (!content) return\r\n    this.setState({ saving: true })\r\n    axios.post(`/api/feedback`, { message: content }, { headers: { 'CSRF-Token': this.props.csrfToken } }).then(() => {\r\n      this.setState({ saving: false, feedbackContent: '' })\r\n      toast.success(`Thanks for your feedback! I will carefully review it.`)\r\n    }).catch(err => {\r\n      console.log(err.response || err)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      this.setState({ saving: false, disabledFeedback: errMessage === 'Too many requests' ? true : false })\r\n      toast.error(<p>Failed to send feedback<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  onClickServer = id => {\r\n    this.props.setActiveGuild(id)\r\n  }\r\n\r\n  showImage = () => {\r\n    modal.showImage('https://upload.wikimedia.org/wikipedia/commons/c/cc/ESC_large_ISS022_ISS022-E-11387-edit_01.JPG', 'alt')\r\n\r\n  }\r\n\r\n  render () {\r\n    const { guilds, guildId, setActiveGuild, user, feeds, redirect } = this.props\r\n    const selectedGuildIconStyle = { transform: 'scale(1.1)', opacity: 1 }\r\n    const serverIcons = []\r\n    const serverButtons = []\r\n    for (const thisGuildId in guilds) {\r\n      const guild = guilds[thisGuildId]\r\n      serverIcons.push(<Popup key={`dashboard.icon.${thisGuildId}`} trigger={<DiscordAvatar src={!guild.icon ? '' : `https://cdn.discordapp.com/icons/${thisGuildId}/${guild.icon}?size=256`} width='64px' onClick={e => setActiveGuild(thisGuildId)} style={guildId === thisGuildId ? selectedGuildIconStyle : {}} />} inverted content={guild.name} />)\r\n      serverButtons.push(\r\n        <div key={thisGuildId}>\r\n        <ServerButton nonmenu padding='15px' selected={guildId === thisGuildId} onClick={e => this.onClickServer(thisGuildId)} >\r\n          <ServerButtonInner>\r\n            <DiscordAvatar src={!guild.icon ? '' : `https://cdn.discordapp.com/icons/${thisGuildId}/${guild.icon}?size=256`} width='48px' onClick={e => setActiveGuild(thisGuildId)} style={guildId === thisGuildId ? selectedGuildIconStyle : {}} />\r\n            <div>\r\n              <h4>{guild.name}</h4>\r\n              <p>{Object.keys(feeds[thisGuildId]).length} feeds</p>\r\n            </div>\r\n          </ServerButtonInner>\r\n        </ServerButton>\r\n        <ServerEditButtons pose={guildId === thisGuildId ? 'enter' : 'exit'}>\r\n          <Button content='Feeds' onClick={e => redirect(pages.FEEDS)} />\r\n          <Button content='Settings' onClick={e => redirect(pages.SERVER_SETTINGS)} />\r\n        </ServerEditButtons>\r\n        </div>\r\n      )\r\n    }\r\n\r\n\r\n    return (\r\n      <Container>\r\n        <PageHeader heading={`Hi there, ${user ? user.username : '(no name found)'}!`} subheading='Make your life immensely easier by using this web interface! (though excuse my appearance while I am still under construction)' />\r\n        <AlertBox>\r\n          This UI is still under development! Occasional issues are expected - please report them if you encounter any!\r\n        </AlertBox>\r\n        {/* <Divider />\r\n        <h2>What is Discord.RSS?</h2>\r\n        <ParagraphText>\r\n          Discord.RSS is an RSS bot.\r\n        </ParagraphText>\r\n        <Divider />\r\n        <SectionTitle>\r\n          <h3>Servers</h3>\r\n          <p>Select a server to see its feeds. All your changes will be reflected for this feed in this server. You may also change your active server in the left menu. Only servers where you have Manage Channel permissions, and the bot is a member will be shown.</p>\r\n        </SectionTitle>\r\n        <SelectedGuildContainer>\r\n          <h4>SELECTED</h4>\r\n          <p>{guilds[guildId] ? `${guilds[guildId].name} (${guildId})` : Object.keys(guilds).length === 0 ? 'No servers found' : 'None selected'}</p>\r\n        </SelectedGuildContainer>\r\n        <ServerIconsWrapper>\r\n          {serverIcons}\r\n        </ServerIconsWrapper> */}\r\n\r\n        <Divider />\r\n        <SectionTitle heading='Servers' subheading='Select a server to start seeing its feeds. Only servers where you have Manage Channel permissions, and the bot is a member will be shown. You can also change your active server in the left menu.' />\r\n        { serverButtons.length > 0\r\n        ? serverButtons\r\n        : <NoServers>\r\n            <h4>NO ELIGIBLE SERVERS</h4>\r\n            <span>Make sure Discord.RSS is in the right servers where you have MANAGE CHANNEL permissions</span>\r\n          </NoServers>\r\n        }\r\n\r\n        <Divider />\r\n        {/* <SectionTitle heading='Rating'/>\r\n        <Rating size='massive' maxRating={5} />\r\n        <Divider /> */}\r\n        <SectionTitle heading='Feedback' subheading='Help make this a better experience for all and provide some feedback! ;) Any and all comments, suggestions, critiques and opinions are welcome. Bug reports are also welcome.' />\r\n\r\n        <FeedbackForm>\r\n          <Form.Field>\r\n            <label>Feedback</label>\r\n            <textarea onChange={e => this.setState({ feedbackContent: e.target.value })} value={this.state.feedbackContent} />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <Button content='Submit' type='submit' disabled={this.state.disabledFeedback || !this.state.feedbackContent.trim() || this.state.saving} loading={this.state.saving} onClick={this.submitFeedback} />\r\n          </Form.Field>\r\n        </FeedbackForm>\r\n        <Divider />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nHome.propTypes = {\r\n  guildId: PropTypes.string,\r\n  guilds: PropTypes.object\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\r\n","import React from 'react'\r\nimport posed from 'react-pose'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nexport default posed(React.forwardRef((props, ref) => (<span ref={ref}><Button {...props} /></span>)))({\r\n  enter: { scale: 1, opacity: 1, transition: { duration: 150 } },\r\n  exit: { scale: 0.8, opacity: 0, transition: { duration: 150 } }\r\n})\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { setActiveFeed } from 'js/actions/index-actions'\r\nimport PageHeader from 'js/components/utils/PageHeader'\r\nimport SectionTitle from 'js/components/utils/SectionTitle'\r\nimport SectionSubtitle from 'js/components/utils/SectionSubtitle'\r\nimport PopInButton from '../../../utils/PopInButton'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport { Button, Dropdown, Input, Divider } from 'semantic-ui-react';\r\nimport axios from 'axios'\r\nimport toast from '../../../utils/toast'\r\nimport { isMobile } from 'react-device-detect'\r\nimport posed from 'react-pose'\r\nimport pages from 'js/constants/pages'\r\nimport colors from 'js/constants/colors';\r\nimport moment from 'moment-timezone'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    feeds: state.feeds,\r\n    guild: state.guild,\r\n    guildId: state.guildId,\r\n    articlesFetching: state.articlesFetching,\r\n    defaultConfig: state.defaultConfig,\r\n    linkStatuses: state.linkStatuses,\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setActiveFeed: rssName => dispatch(setActiveFeed(rssName))\r\n  }\r\n}\r\n\r\nconst Container = styled.div`\r\n  width: 425px;\r\n  height: 100%;\r\n  background: #2f3136;\r\n  /* overflow-y: ${props => props.populated ? 'auto' : 'hidden'}; */\r\n\r\n`\r\nconst EditField = styled.div`\r\n  margin-top: 1em;\r\n`\r\n\r\nconst Content = styled.div`\r\n  padding: 20px 10px;\r\n  @media only screen and (min-width: 930px) {\r\n    padding: 55px 27px;\r\n  }\r\n`\r\n\r\nconst ApplyField = styled.div`\r\n  margin-top: 1.5em;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  .ui.button {\r\n    margin-left: 1em;\r\n  }\r\n`\r\n\r\nconst PosedDiv = posed.div({\r\n  show: { opacity: 1, transition: { duration: 200 } },\r\n  hide: { opacity: 0, transition: { duration: 200 } }\r\n})\r\n\r\nclass SideBar extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      title: '',\r\n      channel: '',\r\n      deleting: false,\r\n      saving: false,\r\n      changingPageTo: ''\r\n    }\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    const { guildId, feeds, selectedFeedId } = this.props\r\n    const selectedFeed = feeds[guildId] && feeds[guildId][selectedFeedId] ? feeds[guildId][selectedFeedId] : null\r\n    if (prevProps.selectedFeedId !== this.props.selectedFeedId) {\r\n      if (selectedFeed) this.setState({ title: selectedFeed.title, channel: selectedFeed.channel })\r\n      else this.setState({ title: '', channel: '' })\r\n      window.scrollTo(0, 0)\r\n    }\r\n  }\r\n\r\n  confirm = () => {\r\n    const { guildId, feeds, selectedFeedId, csrfToken } = this.props\r\n    const selectedFeed = feeds[guildId] && feeds[guildId][selectedFeedId] ? feeds[guildId][selectedFeedId] : null\r\n    if (!selectedFeed) return\r\n    const payload = {}\r\n    if (this.state.title && this.state.title !== selectedFeed.title) payload.title = this.state.title\r\n    if (this.state.channel && this.state.channel !== selectedFeed.channel) payload.channel = this.state.channel\r\n    this.setState({ saving: true })\r\n    axios.patch(`/api/guilds/${guildId}/feeds/${selectedFeedId}`, payload, { headers: { 'CSRF-Token': csrfToken } }).then(() => {\r\n      this.setState({ saving: false })\r\n      toast.success(`Changes saved. Yay!`)\r\n    }).catch(err => {\r\n      this.setState({ saving: false })\r\n      console.log(err.response || err)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to save changes<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  remove = () => {\r\n    const { selectedFeedId, guildId, onDeletedFeed, csrfToken } = this.props\r\n    if (!selectedFeedId) return\r\n    this.setState({ deleting: true })\r\n    axios.delete(`/api/guilds/${guildId}/feeds/${selectedFeedId}`, { headers: { 'CSRF-Token': csrfToken } }).then(() => {\r\n      this.setState({ deleting: false })\r\n      onDeletedFeed()\r\n      toast.success(`Removed feed!`)\r\n    }).catch(err => {\r\n      this.setState({ deleting: false })\r\n      console.log(err.response || err)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to remove feed<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  changePage = async page => {\r\n    const { selectedFeedId, setActiveFeed, redirect } = this.props\r\n    await setActiveFeed(selectedFeedId)\r\n    redirect(page) // Route changes must be bubbled up to the top level components that does the routing since it doesn't work in nested components\r\n  }\r\n\r\n  render () {\r\n    const { guildId, guild, feeds, selectedFeedId, channelDropdownOptions, articlesFetching, linkStatuses, defaultConfig } = this.props\r\n    const selectedFeed = feeds[guildId] && feeds[guildId][selectedFeedId] ? feeds[guildId][selectedFeedId] : null\r\n    let differentFromDefault = false\r\n    if (selectedFeed) {\r\n      if (this.state.title && this.state.title !== selectedFeed.title) differentFromDefault = true\r\n      if (this.state.channel && this.state.channel !== selectedFeed.channel) differentFromDefault = true\r\n    }\r\n\r\n    const dateTimezone = guild.timezone || defaultConfig.timezone\r\n    const dateFormat = guild.dateFormat || defaultConfig.dateFormat\r\n    const dateLanguage = guild.dateLanguage || defaultConfig.dateLanguage\r\n    const failed = selectedFeed && typeof linkStatuses[selectedFeed.link] === 'string'\r\n    const disabled = selectedFeed && selectedFeed.disabled\r\n    return (\r\n      <Container populated={selectedFeed}>\r\n        <Scrollbars>\r\n        <Content>\r\n        <PageHeader heading='Feed Details' subheading={'Select a feed'} />\r\n        {/* <SectionItemTitle>Feed Details</SectionItemTitle> */}\r\n        <Divider />\r\n        <PosedDiv pose={selectedFeed ? 'show' : 'hide'}>\r\n          <SectionTitle heading='Info' />\r\n          <SectionSubtitle>Status</SectionSubtitle>\r\n            { !selectedFeed\r\n              ? '\\u200b'\r\n              : disabled\r\n                ? <span style={{ color: colors.discord.yellow }}>Disabled ({selectedFeed.disabled})</span>\r\n                : failed\r\n                  ? <span style={{ color: colors.discord.red }}>Failed ({moment(linkStatuses[selectedFeed.link]).format('DD MMMM Y')})</span>\r\n                  : <div><span style={{ color: colors.discord.green }}>Normal</span>{defaultConfig.failLimit > 0 ? ` (${linkStatuses[selectedFeed.link] === undefined ? '100' : ((defaultConfig.failLimit - linkStatuses[selectedFeed.link]) / defaultConfig.failLimit * 100).toFixed(0)}% health)` : ''}</div>\r\n          }\r\n          <EditField>\r\n            <SectionSubtitle>Refresh Rate</SectionSubtitle>\r\n        { failed || disabled ? 'None ' : !selectedFeed ? '\\u200b' : !selectedFeed.lastRefreshRateMin ? 'To be determined ' : selectedFeed.lastRefreshRateMin < 1 ? `${selectedFeed.lastRefreshRateMin * 60} seconds      ` : `${selectedFeed.lastRefreshRateMin} minutes      `}{ failed ? null : <a href='https://www.patreon.com/discordrss' target='_blank' rel='noopener noreferrer'></a> }\r\n          </EditField>\r\n          <EditField>\r\n            <SectionSubtitle>Added On</SectionSubtitle>\r\n            { !selectedFeed ? '\\u200b' : !selectedFeed.addedOn ? 'Unknown' : moment(selectedFeed.addedOn).locale(dateLanguage).tz(dateTimezone).format(dateFormat)}\r\n          </EditField>\r\n          <Divider />\r\n          <SectionTitle heading='Edit' />\r\n          <EditField>\r\n            <SectionSubtitle>Title</SectionSubtitle>\r\n            <Input value={this.state.title || (selectedFeed ? selectedFeed.title : '')} fluid disabled={!selectedFeed} onChange={e => this.setState({ title: e.target.value })} />\r\n          </EditField>\r\n          <EditField>\r\n            <SectionSubtitle>Channel</SectionSubtitle>\r\n            <Dropdown value={this.state.channel || (selectedFeed ? selectedFeed.channel : '')} options={channelDropdownOptions} disabled={!selectedFeed || channelDropdownOptions.length === 0} search={!isMobile} selection fluid onChange={(e, data) => this.setState({ channel: data.value })} />\r\n          </EditField>\r\n          <ApplyField>\r\n            <PopInButton basic inverted content='Reset' disabled={this.state.saving} pose={differentFromDefault ? 'enter' : 'exit'} onClick={e => this.setState({ title: '', channel: '' })} />\r\n            <Button content='Save' color='green' disabled={!differentFromDefault} onClick={this.confirm} />\r\n          </ApplyField>\r\n          <Divider />\r\n          <SectionTitle heading='Customize' subheading='So many options!' />\r\n          <EditField>\r\n            <Button fluid content='Message/Embed' icon='angle right' labelPosition='right' onClick={e => this.changePage(pages.MESSAGE)} loading={articlesFetching} disabled={articlesFetching} />\r\n          </EditField>\r\n          <EditField>\r\n            <Button fluid content='Filters' icon='angle right' labelPosition='right' onClick={e => this.changePage(pages.FILTERS)} loading={articlesFetching} disabled={articlesFetching} />\r\n          </EditField>\r\n          <EditField>\r\n            <Button fluid content='Subscriptions' icon='angle right' labelPosition='right' onClick={e => this.changePage(pages.SUBSCRIPTIONS)} loading={articlesFetching} disabled={articlesFetching} />\r\n          </EditField>\r\n          <EditField>\r\n            <Button fluid content='Misc Options' icon='angle right' labelPosition='right' onClick={e => this.changePage(pages.MISC_OPTIONS)} loading={articlesFetching} disabled={articlesFetching} />\r\n          </EditField>\r\n          <Divider />\r\n          <SectionTitle heading='Remove' />\r\n          <EditField>\r\n            <Button fluid content='Remove' basic color='red' loading={this.state.deleting} disabled={this.state.deleting} onClick={this.remove}/>\r\n          </EditField>\r\n          \r\n        </PosedDiv>\r\n        </Content>\r\n        </Scrollbars>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nSideBar.propTypes = {\r\n  feeds: PropTypes.object,\r\n  selectedFeedId: PropTypes.string,\r\n  guildId: PropTypes.string,\r\n  setActiveFeed: PropTypes.func,\r\n  changePage: PropTypes.func\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SideBar))\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport SectionSubtitle from 'js/components/utils/SectionSubtitle'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport { Button, Dropdown, Input } from 'semantic-ui-react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport axios from 'axios'\r\nimport toast from '../../../utils/toast'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    feeds: state.feeds,\r\n    channels: state.channels,\r\n    guildId: state.guildId,\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst AddFeedInputs = styled.div`\r\n  > div {\r\n    margin-bottom: 1em;\r\n  }\r\n  > div:last-child {\r\n    margin-top: 1.5em;\r\n    margin-bottom: 0;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n`\r\n\r\nclass AddFeed extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      url: '',\r\n      title: '',\r\n      channel: '',\r\n      saving: false\r\n    }\r\n  }\r\n\r\n  add = () => {\r\n    const url = this.state.url.trim()\r\n    const channel = this.state.channel.trim()\r\n    const title = this.state.title.trim()\r\n    if (!this.state.url || !this.state.channel) return\r\n    const { guildId } = this.props\r\n    const payload = {\r\n      link: url,\r\n      channel: channel\r\n    }\r\n    if (title) payload.title = title\r\n    this.setState({ saving: true, title, url, channel })\r\n    axios.post(`/api/guilds/${guildId}/feeds`, payload, { headers: { 'CSRF-Token': this.props.csrfToken } }).then(({ data }) => {\r\n      this.setState({ saving: false, url: '', title: '', channel: '' })\r\n      toast.success(`Added a new feed!`)\r\n    }).catch(err => {\r\n      this.setState({ saving: false })\r\n      console.log(err.response || err)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to add feed<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { channelDropdownOptions } = this.props\r\n\r\n    return (\r\n      <AddFeedInputs>\r\n        <div>\r\n          <SectionSubtitle>URL</SectionSubtitle>\r\n          <Input fluid onChange={e => this.setState({ url: e.target.value })} value={this.state.url} placeholder='Feed URL' onKeyPress={e => e.key === 'Enter' ? this.add() : null} />\r\n        </div>\r\n        <div>\r\n          <SectionSubtitle>Channel</SectionSubtitle>\r\n          <Dropdown selection fluid options={channelDropdownOptions} search={!isMobile} disabled={channelDropdownOptions.length === 0} onChange={(e, data) => this.setState({ channel: data.value })} value={this.state.channel} placeholder='Select a channel' onKeyPress={e => e.key === 'Enter' ? this.add() : null} />\r\n        </div>\r\n        <div>\r\n          <SectionSubtitle>Title (Optional)</SectionSubtitle>\r\n          <Input fluid onChange={e => this.setState({ title: e.target.value })} value={this.state.title} placeholder='This will be automatically resolved if left blank' onKeyPress={e => e.key === 'Enter' ? this.add() : null} />\r\n        </div>\r\n        <div>\r\n          <Button content='Add' color='green' disabled={!this.state.url || !this.state.channel || this.state.saving} onClick={this.add} />\r\n        </div>\r\n      </AddFeedInputs>\r\n    )\r\n  }\r\n}\r\n\r\nAddFeed.propTypes = {\r\n  channelDropdownOptions: PropTypes.array\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, null)(AddFeed))\r\n","import React, { Component } from 'react'\r\nimport colors from '../../../constants/colors'\r\nimport styled from 'styled-components'\r\nimport { Table, Button, Input } from 'semantic-ui-react'\r\nimport PropTypes from 'prop-types'\r\nconst Row = styled(Table.Row)`\r\n  cursor: pointer;\r\n`\r\n\r\nconst TableTop = styled.div`\r\n  width: 100%;\r\n  margin-bottom: 1em;\r\n  > .ui.input {\r\n    margin-bottom: 1em;\r\n  }\r\n  > * {\r\n    width: 100%;\r\n  } \r\n  @media only screen and (min-width: 500px) {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    > .ui.input {\r\n      margin-bottom: 0;\r\n      flex-grow: ${props => props.growInput ? 1 : 0};\r\n    }\r\n    > * {\r\n      width: auto;\r\n    } \r\n  }\r\n  \r\n`\r\n\r\nconst Footer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: ${colors.discord.text};\r\n  margin-top: 1em;\r\n`\r\n\r\nconst PageText = styled.span`\r\n  padding: 0 21px;\r\n`\r\n\r\nclass PaginatedTable extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      pages: [],\r\n      page: 0,\r\n      search: ''\r\n    }\r\n  }\r\n\r\n  nextPage = () => {\r\n    if (this.state.page >= this.state.pages.length - 1) return\r\n    this.setState({ page: this.state.page + 1 })\r\n  }\r\n\r\n  prevPage = () => {\r\n    if (this.state.page <= 0) return\r\n    this.setState({ page: this.state.page - 1 })\r\n  }\r\n\r\n  render () {\r\n    const { itemFunc, searchFunc, items, compact, inputStyle, unstackable, collapsing, basic } = this.props\r\n    const maxPerPage = this.props.maxPerPage || 5\r\n    const search = this.state.search\r\n    const pages = []\r\n    let curPage = []\r\n    for (const item of items) {\r\n      if (search && !searchFunc(item, search)) continue\r\n      if (curPage.length < maxPerPage) {\r\n        curPage.push(itemFunc(item))\r\n      } else {\r\n        pages.push(curPage)\r\n        curPage = [ itemFunc(item) ]\r\n      }\r\n    }\r\n    if (curPage.length > 0) pages.push(curPage)\r\n    \r\n    const frontPageLen = pages[this.state.page] ? pages[this.state.page].length : 0\r\n    const fillerRows = []\r\n    if (frontPageLen < maxPerPage) {\r\n      const toFill = maxPerPage - frontPageLen\r\n      for (let i = 0; i < toFill; ++i) {\r\n        fillerRows.push(\r\n          <Table.Row key={`filler-row${i}`}>\r\n            {this.props.headers.map((name, i) => <Table.Cell key={`filler${i}`}>{'\\u200b'}</Table.Cell>)}\r\n          </Table.Row>\r\n        )\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <TableTop growInput={!this.props.button}>\r\n          <Input icon='search' iconPosition='left' placeholder='Search...' onChange={e => this.setState({ search: e.target.value })} style={ inputStyle || {} } />\r\n          { this.props.button }\r\n        </TableTop>\r\n        <div style={{overflowX: 'auto'}}>\r\n        <Table celled selectable fixed={false} singleLine compact={compact} unstackable={unstackable} collapsing={collapsing} basic={basic}>\r\n          <Table.Header>\r\n            <Row>\r\n              {this.props.headers.map(name => <Table.HeaderCell key={name}>{name}</Table.HeaderCell>  )}\r\n            </Row>\r\n          </Table.Header>\r\n          <Table.Body>\r\n            {pages[this.state.page] ? pages[this.state.page].concat(fillerRows) : fillerRows}\r\n          </Table.Body>\r\n        </Table></div>\r\n        <Footer>\r\n          {pages.reduce((acc, cv) => acc + cv.length, 0)} total\r\n          <div>\r\n            <Button icon='left chevron' disabled={this.state.page <= 0} onClick={e => this.setState({ page: this.state.page - 1 })} />\r\n            <PageText>{`${pages.length === 0 ? 0 : this.state.page + 1}/${pages.length}`}</PageText>\r\n            {/* <Button content={`${pages.length === 0 ? 0 : this.state.page + 1}/${pages.length}`} basic disabled /> */}\r\n            <Button icon='right chevron' disabled={this.state.page >= pages.length - 1} onClick={e => this.setState({ page: this.state.page + 1 })} />\r\n          </div>\r\n        </Footer>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nPaginatedTable.propTypes = {\r\n  items: PropTypes.array,\r\n  searchFunc: PropTypes.func,\r\n  itemFunc: PropTypes.func,\r\n  maxPerPage: PropTypes.number\r\n}\r\n\r\nexport default {\r\n  Cell: Table.Cell,\r\n  Table: PaginatedTable,\r\n  Row: Table.Row,\r\n}\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { changePage, setActiveFeed } from 'js/actions/index-actions'\r\nimport pages from 'js/constants/pages'\r\nimport PageHeader from 'js/components/utils/PageHeader'\r\nimport SideBar from './SideBar'\r\nimport SectionTitle from 'js/components/utils/SectionTitle'\r\nimport AddFeed from './AddFeed'\r\nimport PaginatedTable from '../../../utils/PaginatedTable'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport { Divider, Icon, Popup, Dropdown, Button, Input } from 'semantic-ui-react'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport modal from 'js/components/utils/modal'\r\nimport toast from '../../../utils/toast'\r\nimport axios from 'axios'\r\nimport colors from 'js/constants/colors'\r\nimport SectionSubtitle from 'js/components/utils/SectionSubtitle'\r\nimport moment from 'moment-timezone'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    feeds: state.feeds,\r\n    channels: state.channels,\r\n    guildId: state.guildId,\r\n    feedId: state.feedId,\r\n    guildLimits: state.guildLimits,\r\n    linkStatuses: state.linkStatuses,\r\n    guild: state.guild,\r\n    defaultConfig: state.defaultConfig,\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setToThisPage: () => dispatch(changePage(pages.FEEDS)),\r\n    setActiveFeed: feedId => dispatch(setActiveFeed(feedId))\r\n  }\r\n}\r\n\r\nconst MainContent = styled.div`\r\n  padding: 20px;\r\n  @media only screen and (min-width: 930px) {\r\n    padding: 55px;\r\n  }\r\n  width: 100%;\r\n  /* overflow: hidden; */\r\n  scrollbar-width: thin;\r\n  /* overflow-y: auto; */\r\n  /* max-width: 840px; */\r\n`\r\n\r\nconst SideBarContainer = styled.div`\r\n  display: none;\r\n  @media only screen and (min-width: 1475px) {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst FeedLimitContainer = styled.div`\r\n  > a {\r\n    margin-left: 10px;\r\n    &:hover {\r\n      text-decoration: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst FeedButtonsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  > div {\r\n    > button:first-child {\r\n      margin-right: 1em;\r\n    }\r\n  }\r\n`\r\n\r\nconst ViewFeedContainerWithEdit = styled.div`\r\n  > div {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    /* overflow: hidden; */\r\n    > div {\r\n      flex-grow: 1;\r\n    }\r\n    button {\r\n        margin-left: 2em !important;\r\n    }\r\n    p {\r\n      margin: 0;\r\n      flex-grow: 1;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n  }\r\n`\r\n\r\nconst ChannelDropdown = styled(Dropdown)`\r\n  .menu {\r\n    height: 10em !important;\r\n  }\r\n`\r\n\r\nclass Feeds extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      selectedFeedId: '',\r\n      redirect: '',\r\n      title: '',\r\n      channel: '',\r\n      editingChannel: false,\r\n      editingTitle: false,\r\n      ignoreModal: window.innerWidth >= 1475\r\n    }\r\n    this.bodyRef = React.createRef()\r\n  }\r\n\r\n  componentWillMount () {\r\n    this.props.setToThisPage()\r\n    window.addEventListener('resize', this.resizeListener)\r\n    this.setState({ selectedFeedId: this.props.feedId })\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    window.removeEventListener('resize', this.resizeListener)\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.feedId !== this.props.feedId) this.setState({ selectedFeedId: this.props.feedId })\r\n  }\r\n\r\n  resizeListener = () => {\r\n    const { ignoreModal } = this.state\r\n    if (ignoreModal && window.innerWidth < 1475) this.setState({ ignoreModal: false })\r\n    else if (!ignoreModal && window.innerWidth >= 1475) this.setState({ ignoreModal: true })\r\n  }\r\n\r\n  modalClose = justMadeChanges => {\r\n    this.setState({ title: '', channel: '', editingChannel: false, editingTitle: false, removing: justMadeChanges ? false : this.state.removing, saving: justMadeChanges ? false : this.state.saving })\r\n    modal.hide()\r\n  }\r\n\r\n  modalConfirmEdits = feedId => {\r\n    const title = this.state.title.trim()\r\n    const channel = this.state.channel.trim()\r\n    const { csrfToken, guildId, feeds } = this.props\r\n    const feed = feeds[guildId][feedId] || {}\r\n    if ((title === feed.title && !this.state.channel) || (channel === feed.channel && !title) || (title === feed.title && channel === feed.channel) || (!title && !channel)) return this.modalClose()\r\n    this.setState({ saving: true, title, channel })\r\n    const toSend = {}\r\n    if (channel) toSend.channel = channel\r\n    if (title) toSend.title = title\r\n    if (Object.keys(toSend).length === 0) return this.modalClose()\r\n    axios.patch(`/api/guilds/${guildId}/feeds/${feedId}`, toSend, { headers: { 'CSRF-Token': csrfToken } }).then(() => {\r\n      this.modalClose(true)\r\n      toast.success(`Changes saved. Yay!`)\r\n    }).catch(err => {\r\n      console.log(err.response || err)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      this.setState({ saving: false })\r\n      toast.error(<p>Failed to save<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  modalRemoveFeed = feedId => {\r\n    this.setState({ removing: true })\r\n    axios.delete(`/api/guilds/${this.props.guildId}/feeds/${feedId}`, { headers: { 'CSRF-Token': this.props.csrfToken } }).then(() => {\r\n      this.modalClose(true)\r\n      toast.success(`Removed feed!`)\r\n    }).catch(err => {\r\n      console.log(err.response || err)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      this.setState({ saving: false })\r\n      toast.error(<p>Failed to remove feed<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  setActive = feedId => {\r\n    const { setActiveFeed, selectedFeedId } = this.props\r\n    setActiveFeed(feedId || selectedFeedId)\r\n    this.modalClose()\r\n  }\r\n\r\n  onClickFeedRow = feed => {\r\n    if (this.state.ignoreModal) return this.state.selectedFeedId === feed.rssName ? this.setState({ selectedFeedId : '' }) : this.setState({ selectedFeedId: feed.rssName })\r\n    this.setState({ selectedFeedId: feed.rssName })\r\n    const { defaultConfig, channels, guildId, guild, linkStatuses } = this.props\r\n    const cancelCondition = (this.state.title === feed.title && !this.state.channel) || (this.state.channel === feed.channel && !this.state.title) || (this.state.title === feed.title && this.state.channel === feed.channel) || (!this.state.title && !this.state.channel)\r\n    const dateTimezone = guild.timezone || defaultConfig.timezone\r\n    const dateFormat = guild.dateFormat || defaultConfig.dateFormat\r\n    const dateLanguage = guild.dateLanguage || defaultConfig.dateLanguage\r\n    const guildChannels = channels[guildId]\r\n    const dropdownOptions = []\r\n    if (guildChannels) {\r\n      for (const channelId in guildChannels) {\r\n        const channel = guildChannels[channelId]\r\n        dropdownOptions.push({ text: `#${channel.name}`, value: channelId })\r\n      }\r\n    }\r\n\r\n    const channelDropdownValue = feed.channel && channels[guildId][feed.channel] ? feed.channel : null // The feed channel may be deleted\r\n    const props = {\r\n      title: feed.title,\r\n      subtitle: feed.link,\r\n      footer: (\r\n        <FeedButtonsContainer>\r\n          <Button color='red' content='Delete' onClick={e => this.modalRemoveFeed(feed.rssName)} disabled={this.state.saving || this.state.removing} />\r\n          <div>\r\n            <Button content='Set Active' onClick={e => this.setActive(feed.rssName)} />\r\n            <Button disabled={this.state.saving} content={cancelCondition ? 'Close' : this.state.saving ? 'Saving...' : 'Save Changes'} onClick={e => this.modalConfirmEdits(feed.rssName)} />\r\n          </div>\r\n        </FeedButtonsContainer>\r\n      )\r\n    }\r\n    const children = (\r\n      <div>\r\n        <ViewFeedContainerWithEdit>\r\n          <SectionSubtitle>Status</SectionSubtitle>\r\n          { Object.keys(feed).length === 0\r\n              ? ''\r\n              : feed.disabled\r\n                ? <span style={{ color: colors.discord.yellow }}>Disabled ({feed.disabled})</span>\r\n                :  typeof linkStatuses[feed.link] === 'string'\r\n                  ? <span style={{ color: colors.discord.red }}>Failed ({moment(linkStatuses[feed.link]).format('DD MMMM Y')})</span>\r\n                  : <div><span style={{ color: colors.discord.green }}>Normal</span>{defaultConfig.failLimit > 0 ? ` ${linkStatuses[feed.link] === undefined ? '100' : ((defaultConfig.failLimit - linkStatuses[feed.link]) / defaultConfig.failLimit * 100).toFixed(0)}% health` : ''}</div>\r\n          }\r\n          <Divider />\r\n          <SectionSubtitle>Refresh Rate</SectionSubtitle>\r\n          { !feed ? '\\u200b' : feed.disabled || typeof linkStatuses[feed.link] === 'string' ? 'None ' : !feed.lastRefreshRateMin ? 'To be determined ' : feed.lastRefreshRateMin < 1 ? `${feed.lastRefreshRateMin * 60} seconds      ` : `${feed.lastRefreshRateMin} minutes      `}<a rel='noopener noreferrer' href='https://www.patreon.com/discordrss' target='_blank'></a>\r\n          <Divider />\r\n          <SectionSubtitle>Added On</SectionSubtitle>\r\n          { !feed ? '\\u200b' : !feed.addedOn ? 'Unknown' : moment(feed.addedOn).locale(dateLanguage).tz(dateTimezone).format(dateFormat)}\r\n          <Divider />\r\n          <SectionSubtitle>Channel</SectionSubtitle>\r\n          <div>\r\n            { this.state.editingChannel\r\n            ? <ChannelDropdown value={this.state.channel || channelDropdownValue} disabled={this.state.saving || this.state.removing} search options={dropdownOptions} selection fluid onChange={(e, data) => this.setState({ channel: data.value }, () => this.onClickFeedRow(feed))} />\r\n            : <p>{channels[guildId] && channels[guildId][feed.channel] ? `#${channels[guildId][feed.channel].name}` : feed.channelName ? `#${feed.channelName}` : feed.channel}</p>\r\n            }\r\n            <Button content={this.state.editingChannel ? 'Cancel' : 'Edit'} onClick={e => this.setState(this.state.editingChannel ? {editingChannel: false, channel: '' } : {editingChannel: true, channel: '' }, () => this.onClickFeedRow(feed))}/>\r\n          </div>\r\n        </ViewFeedContainerWithEdit>\r\n        <Divider />\r\n        <ViewFeedContainerWithEdit>\r\n          <SectionSubtitle>Title</SectionSubtitle>\r\n          <div>\r\n            { this.state.editingTitle \r\n              ? <Input disabled={this.state.saving || this.state.removing} placeholder={feed.title} fluid onChange={e => this.setState({ title: e.target.value }, () => this.onClickFeedRow(feed))} value={this.state.title || feed.title} />\r\n              : <p>{feed.title}</p>\r\n            }\r\n            <Button content={this.state.editingTitle ? 'Cancel' : 'Edit'} onClick={e => this.setState(this.state.editingTitle ? { editingTitle: false, title: '' } : { editingTitle: true, title: '' }, () => this.onClickFeedRow(feed))}/>\r\n          </div>\r\n        </ViewFeedContainerWithEdit>\r\n        <Divider />\r\n      </div>\r\n    )\r\n\r\n    modal.show(props, children)\r\n    this.setState({ selectedFeedId: feed.rssName })\r\n  }\r\n\r\n  render () {\r\n    const { feeds, channels, guildId, redirect, linkStatuses, guildLimits } = this.props\r\n    const guildFeeds = feeds[guildId]\r\n    const guildChannels = channels[guildId]\r\n    const tableItems = []\r\n    for (const rssName in guildFeeds) {\r\n      const feed = guildFeeds[rssName]\r\n      tableItems.push(feed)\r\n    }\r\n\r\n    const channelDropdownOptions = []\r\n    for (const id in guildChannels) {\r\n      channelDropdownOptions.push({ text: '#' + guildChannels[id].name, value: id })\r\n    }\r\n\r\n    return (\r\n      <div style={{ display: 'flex', height: '100%', overflow: 'hidden' }}>\r\n        <Scrollbars>\r\n          <MainContent ref={ref => this.bodyRef}>\r\n            <PageHeader heading='Feed Management' subheading='Manage and edit your feeds.' />\r\n            <Divider />\r\n            <SectionTitle heading='Current' subheading='View and your current feeds.' sideComponent={\r\n              <FeedLimitContainer>\r\n                <Popup content={<span>Need more? <a href='https://www.patreon.com/discordrss' target='_blank' rel='noopener noreferrer'>Become a supporter!</a></span>} position='left center' hideOnScroll hoverable inverted trigger={<span>{tableItems.length}/{guildLimits[guildId] === 0 ? '' : guildLimits[guildId]}</span>} />\r\n                <a href='https://www.patreon.com/discordrss' target='_blank' rel='noopener noreferrer'><Icon color='green' name='arrow circle up' /></a>\r\n              </FeedLimitContainer>\r\n            } />\r\n            <PaginatedTable.Table\r\n              basic\r\n              unstackable\r\n              items={tableItems}\r\n              compact={tableItems.length > 5}\r\n              maxPerPage={tableItems.length > 5 ? 10 : 5}\r\n              headers={['Status', 'Title', 'Link', 'Channel']}\r\n              itemFunc={feed => {\r\n                return (\r\n                  <PaginatedTable.Row active={feed.rssName === this.state.selectedFeedId} style={{ cursor: 'pointer' }} key={feed.rssName}onClick={e => this.onClickFeedRow(feed)}>\r\n                    {/* <PaginatedTable.Cell collapsing>\r\n                      <CheckboxWrapper>\r\n                        <Checkbox />\r\n                      </CheckboxWrapper>\r\n                    </PaginatedTable.Cell> */}\r\n                    <PaginatedTable.Cell collapsing>\r\n                      { feed.disabled\r\n                        ? <Icon name='warning circle' style={{ fontSize: '18px' }} color='yellow' />\r\n                        : typeof linkStatuses[feed.link] === 'string'\r\n                          ? <Icon name='dont' style={{ fontSize: '18px' }} color='red' />\r\n                          : <Icon name='check circle' style={{ fontSize: '18px' }} color='green' />\r\n                      }\r\n                    </PaginatedTable.Cell>\r\n                    <PaginatedTable.Cell>{feed.title}</PaginatedTable.Cell>\r\n                    <PaginatedTable.Cell>{feed.link}</PaginatedTable.Cell>\r\n                    <PaginatedTable.Cell>{channels[guildId] && channels[guildId][feed.channel] ? `#${channels[guildId][feed.channel].name}` : `Unknown (${feed.channel})`}</PaginatedTable.Cell>\r\n                  </PaginatedTable.Row>\r\n                )\r\n              }}\r\n              searchFunc={(feed, search) => {\r\n                for (const key in feed) {\r\n                  if (typeof feed[key] === 'string' && feed[key].includes(search)) return true\r\n                }\r\n                return false\r\n              }} />\r\n            <Divider />\r\n            <SectionTitle heading='Add' subheading={<span>{`Add a new feed. You may have a maximum of ${guildLimits[guildId] === 0 ? '' : guildLimits[guildId]} feeds. Need more? `}<a href='https://www.patreon.com/discordrss' target='_blank' rel='noopener noreferrer'>Become a supporter!</a></span>} />\r\n            <AddFeed channelDropdownOptions={channelDropdownOptions} />\r\n            <Divider />\r\n          </MainContent>\r\n        </Scrollbars>\r\n        <SideBarContainer>\r\n          <SideBar selectedFeedId={this.state.selectedFeedId} channelDropdownOptions={channelDropdownOptions} onDeletedFeed={() => this.setState({ selectedFeedId: '' })} redirect={redirect} />\r\n        </SideBarContainer>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nFeeds.propTypes = {\r\n  setToThisPage: PropTypes.func,\r\n  guildId: PropTypes.string,\r\n  feedId: PropTypes.string,\r\n  channels: PropTypes.object,\r\n  redirect: PropTypes.func,\r\n  linkStatuses: PropTypes.object,\r\n  feeds: PropTypes.object\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Feeds))\r\n","import React from 'react'\r\nimport colors from 'js/constants/colors'\r\nimport PropTypes from 'prop-types'\r\nimport moment from 'moment-timezone'\r\n\r\nclass ServerSettings extends React.PureComponent {\r\n  render () {\r\n    const { defaultConfig, timezone, dateFormat, invalidTimezone } = this.props\r\n    const thisMoment = moment()\r\n\r\n    return (\r\n      <span style={{ fontSize: '20px' }}>{invalidTimezone ? <span style={{ color: colors.discord.red }}>Invalid Timezone</span> : thisMoment.tz(timezone || defaultConfig.timezone).format(dateFormat || defaultConfig.dateFormat)}</span>\r\n    )\r\n  }\r\n}\r\n\r\nServerSettings.propTypes = {\r\n  defaultConfig: PropTypes.object,\r\n  timezone: PropTypes.string,\r\n  dateFormat: PropTypes.string,\r\n  invalidTimezone: PropTypes.bool\r\n}\r\n\r\nexport default ServerSettings\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { changePage } from 'js/actions/index-actions'\r\nimport PageHeader from 'js/components/utils/PageHeader'\r\nimport colors from 'js/constants/colors'\r\nimport SectionSubtitle from 'js/components/utils/SectionSubtitle'\r\nimport PopInButton from '../../../utils/PopInButton'\r\nimport SectionTitle from 'js/components/utils/SectionTitle'\r\nimport { Dropdown, Input, Divider, Button } from 'semantic-ui-react'\r\nimport pages from 'js/constants/pages'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport moment from 'moment-timezone'\r\nimport axios from 'axios'\r\nimport toast from '../../../utils/toast'\r\nimport fileDonwload from 'js-file-download'\r\nimport Date from './Date'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    guild: state.guild,\r\n    guildId: state.guildId,\r\n    defaultConfig: state.defaultConfig,\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setToThisPage: () => dispatch(changePage(pages.SERVER_SETTINGS))\r\n  }\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  @media only screen and (min-width: 930px) {\r\n    padding: 55px;\r\n  }\r\n  width: 100%;\r\n  max-width: 840px;\r\n`\r\n\r\nconst InputDescription = styled.div`\r\n  margin-top: 8px;\r\n  color: ${colors.discord.subtext};\r\n`\r\n\r\nconst LargeDivider = styled(Divider)`\r\n  margin-top: 40px !important;\r\n  margin-bottom: 40px !important;\r\n`\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  .ui.button {\r\n    margin-left: 1em;\r\n  }\r\n`\r\n\r\nconst BackupButtonContainer = styled.div`\r\n  display: flex;\r\n  .ui.button:first-child {\r\n    margin-right: 1em;\r\n  }\r\n`\r\n\r\nclass ServerSettings extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      unsaved: false,\r\n      saving: false,\r\n      downloadingBackup: false,\r\n      invalidTimezone: false,\r\n      dateLanguage: '',\r\n      dateFormat: '',\r\n      timezone: '',\r\n      prefix: '',\r\n      defaults: {\r\n        prefix: '',\r\n        dateLanguage: '',\r\n        dateLanguageList: [],\r\n        dateFormat: '',\r\n        timezone: ''\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    this.props.setToThisPage()\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.resetValues()\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    if (prevProps.guildId !== this.props.guildId) return this.resetValues()\r\n    const toCompare = ['prefix', 'dateLanguage', 'dateFormat', 'timezone']\r\n    for (const key of toCompare) {\r\n      if (prevProps.guild[key] !== this.props.guild[key]) return this.resetValues()\r\n    }\r\n\r\n    // Now check if it should update it to be unsaved\r\n    if (this.state.unsaved) return\r\n    const { defaultConfig, guild } = this.props\r\n    const defaultPrefix = guild.prefix || ''\r\n    if (this.state.prefix !== defaultPrefix) return this.setState({ unsaved: true })\r\n    for (let i = 1; i < toCompare.length; ++i) {\r\n      const key = toCompare[i]\r\n      const defaultValue = this.state.defaults[key]\r\n      if (this.state[key] !== defaultValue && this.state[key] !== defaultConfig[key]) {\r\n        if (key === 'timezone') {\r\n          const thisResolved = moment.tz.zone(this.state[key])\r\n          const defaultResolved = moment.tz.zone(defaultValue)\r\n          if ((!thisResolved && defaultResolved) || (thisResolved && !defaultResolved) || (thisResolved && defaultResolved && thisResolved.name !== defaultResolved.name)) return this.setState({ unsaved: true })\r\n        } else return this.setState({ unsaved: true })\r\n      }\r\n    }\r\n  }\r\n\r\n  resetValues = () => {\r\n    const { defaultConfig, guild } = this.props\r\n    const timezone = guild.timezone ? moment.tz.zone(guild.timezone) : ''\r\n    const newState = {\r\n      unsaved: false,\r\n      invalidTimezone: false,\r\n      prefix: guild.prefix || '',\r\n      dateLanguage: guild.dateLanguage || defaultConfig.dateLanguage,\r\n      dateFormat: guild.dateFormat || '',\r\n      timezone: timezone ? timezone.name : ''\r\n    }\r\n    newState.defaults = { ...newState, dateLanguageList: defaultConfig.dateLanguageList }\r\n    this.setState(newState)\r\n  }\r\n\r\n  updateSetting = (key, val) => {\r\n    const { defaultConfig } = this.props\r\n    const newState = { [key]: val, unsaved: false }\r\n    const guildDefault = this.state.defaults[key]\r\n    const configDefault = key === 'prefix' ? '' : defaultConfig[key]\r\n    if (key === 'timezone') {\r\n      let differentFromGuild = false\r\n      let differentFromConfig = false\r\n      const resolved = moment.tz.zone(val)\r\n\r\n      const guildDefaultResolved = moment.tz.zone(guildDefault)\r\n      if ((!resolved && guildDefaultResolved) || (resolved && !guildDefaultResolved) || (resolved && guildDefaultResolved && resolved.name !== guildDefaultResolved.name)) differentFromGuild = true\r\n      else if (!resolved && !guildDefaultResolved && !guildDefault && val !== '') differentFromGuild = true\r\n\r\n      if (differentFromGuild) {\r\n        const configDefaultResolved = moment.tz.zone(configDefault)\r\n        if ((!resolved && configDefaultResolved) || (resolved && !configDefaultResolved) || (resolved && configDefaultResolved && resolved.name !== configDefaultResolved.name)) differentFromConfig = true\r\n        else if (!resolved && !configDefaultResolved && val !== configDefault) differentFromConfig = true\r\n      }\r\n\r\n      if (differentFromConfig && differentFromGuild) {\r\n        newState.unsaved = true\r\n        if (val === '' && this.state.invalidTimezone) newState.invalidTimezone = false\r\n        else {\r\n          if (!this.state.invalidTimezone && !resolved) newState.invalidTimezone = true\r\n          else if (this.state.invalidTimezone && resolved) newState.invalidTimezone = false\r\n        }\r\n      } else if (this.state.invalidTimezone) newState.invalidTimezone = false\r\n      if (resolved) newState[key] = resolved.name\r\n    } else if (val !== guildDefault && val !== configDefault) newState.unsaved = true\r\n    this.setState(newState)\r\n  }\r\n\r\n  downloadBackup = () => {\r\n    const { guildId, csrfToken } = this.props\r\n    this.setState({ downloadingBackup: true })\r\n    axios.get(`/api/guilds/${guildId}`, { headers: { 'CSRF-Token': csrfToken } }).then(({ data }) => {\r\n      fileDonwload(JSON.stringify(data, null, 2), `${guildId}.json`)\r\n      this.setState({ downloadingBackup: false })\r\n    }).catch(err => {\r\n      this.setState({ downloadingBackup: false })\r\n      console.log(err.response || err.message)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to download backup<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  save = () => {\r\n    if (!this.state.unsaved) return\r\n    const { guildId, csrfToken } = this.props\r\n    const { timezone, dateFormat, dateLanguage, prefix } = this.state\r\n    const payload = {\r\n      timezone,\r\n      dateFormat,\r\n      dateLanguage,\r\n      prefix\r\n    }\r\n    this.setState({ saving: true })\r\n    axios.patch(`/api/guilds/${guildId}`, payload, { headers: { 'CSRF-Token': csrfToken } }).then(({ data }) => {\r\n      toast.success('Saved!')\r\n      this.setState({ saving: false })\r\n    }).catch(err => {\r\n      this.setState({ saving: false })\r\n      if (err.response && err.response.status === 304) return toast.success('No changes detected')\r\n      console.log(err.response || err.message)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to save settings<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { defaultConfig } = this.props\r\n\r\n    return (\r\n      <Container>\r\n        <PageHeader heading='Server Settings' subheading='These settings will apply to all the feeds in this server.' />\r\n        <Divider />\r\n        <SectionTitle heading='Dates' subheading='These settings will all apply to the {date} placeholder. If no {date} placeholders are used in any feeds, these settings will have no effect.'/>\r\n        <SectionSubtitle>Preview</SectionSubtitle>\r\n        <Date defaultConfig={defaultConfig} timezone={this.state.timezone} dateFormat={this.state.dateFormat} invalidTimezone={this.state.invalidTimezone} />\r\n        <Divider />\r\n        <SectionSubtitle>Timezone</SectionSubtitle>\r\n        <Input fluid onChange={e => this.updateSetting('timezone', e.target.value)} error={this.state.invalidTimezone} value={this.state.timezone} placeholder={defaultConfig.timezone} />\r\n        <InputDescription>This will change the timezone of the {`{date}`} placeholder to the one you specify. <a href='https://en.wikipedia.org/wiki/List_of_tz_database_time_zones' target='_blank' rel='noopener noreferrer'>See here for a list of valid timezones under the \"TZ database name\" column.</a></InputDescription>\r\n        <Divider />\r\n        <SectionSubtitle>Date Language</SectionSubtitle>\r\n        <Dropdown selection fluid options={this.state.defaults.dateLanguageList.map(lang => { return { text: lang, value: lang } })} value={this.state.dateLanguage} onChange={(e, data) => this.updateSetting('dateLanguage', data.value)} />\r\n        <InputDescription>Only a certain number of languages are manually supported for dates. To request your language to be supported, please contact the developer on the support server.</InputDescription>\r\n        <Divider />\r\n        <SectionSubtitle>Date Format</SectionSubtitle>\r\n        <Input fluid value={this.state.dateFormat} onChange={e => this.updateSetting('dateFormat', e.target.value)} placeholder={defaultConfig.dateFormat} />\r\n        <InputDescription>This will dictate how the {`{date}`} placeholder will be formatted. <a href='https://momentjs.com/docs/#/displaying/' target='_blank' rel='noopener noreferrer'>See here on how to customize your date formats.</a>.</InputDescription>\r\n        <LargeDivider />\r\n        <SectionTitle heading='Command Prefix' subheading='If specified, this prefix will replace the default prefix used before all commands. This setting can only be configured through Discord commands at this time.' />\r\n        <Input fluid onChange={e => this.updateSetting('prefix', e.target.value)} value={this.state.prefix} disabled />\r\n        <LargeDivider />\r\n        <SectionTitle heading='Alerts' subheading='Set up direct messaging to specific users when a feed has problems. This setting can only be configured through Discord commands at this time.' />\r\n        <LargeDivider />\r\n        <SectionTitle heading='Backup' subheading='Download a copy of all your server feeds and settings for safekeeping. This is highly, HIGHLY recommended in case there is data loss, or if you wish to import/overwrite your settings at a later point. Restorations can only be done by requesting through the support server.' />\r\n        <BackupButtonContainer>\r\n          <Button basic content='Download Backup' onClick={this.downloadBackup} disabled={this.state.downloadingBackup} />\r\n          <Button basic content='Send Backup to Discord' disabled onClick={this.downloadBackup} />\r\n        </BackupButtonContainer>\r\n        <LargeDivider />\r\n        <ButtonContainer>\r\n          <PopInButton content='Reset' basic inverted pose={this.state.saving ? 'exit' : this.state.unsaved ? 'enter' : 'exit'} onClick={this.resetValues} />\r\n          <Button content='Save' color='green' disabled={this.state.invalidTimezone || !this.state.unsaved || this.state.saving} onClick={this.save} />\r\n        </ButtonContainer>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nServerSettings.propTypes = {\r\n  setToThisPage: PropTypes.func\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ServerSettings))\r\n","import styled from 'styled-components'\r\nimport colors from 'js/constants/colors'\r\n\r\nconst DiscordTextArea = styled.textarea`\r\n  background-color: rgba(0,0,0,.1);\r\n  border-radius: 0.25em;\r\n  border-color: rgba(0,0,0,0.3);\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  padding: 1em;\r\n  resize: none;\r\n  color: ${colors.discord.white};\r\n  transition: border-color 0.15s;\r\n  width: 100%;\r\n  &:focus, input:focus{\r\n    outline: none;\r\n  }\r\n  min-height: ${1.15 * 7}em;\r\n  height: ${props => (props.lineCount + 2) * 1.15}em;\r\n  &::selection {\r\n    background-color: #0078d7;\r\n    color: ${colors.discord.white}\r\n  }\r\n  &:hover {\r\n    border-color: rgba(0,0,0,0.8);\r\n  }\r\n  &:focus {\r\n    border-color: ${colors.discord.blurple};\r\n  }\r\n`\r\n\r\nexport default DiscordTextArea\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'semantic-ui-react'\r\nimport styled from 'styled-components'\r\nimport TextArea from 'js/components/utils/TextArea'\r\nimport PopInButton from '../../../utils/PopInButton'\r\nimport toast from '../../../utils/toast'\r\nimport PropTypes from 'prop-types'\r\nimport axios from 'axios';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    guildId: state.guildId,\r\n    feedId: state.feedId,\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst MessageArea = styled.div`\r\n  margin-bottom: 1.5em;\r\n`\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  .ui.button {\r\n    margin-left: 1em;\r\n    margin-top: 1em;\r\n  }\r\n`\r\n\r\nclass MessageSettings extends React.PureComponent {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      value: null,\r\n      saving: false\r\n    }\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    if (prevProps.messageOriginal !== this.props.messageOriginal) this.setState({ value: null }) // Reset the value\r\n  }\r\n\r\n  apply = () => {\r\n    const { csrfToken, guildId, feedId, messageOriginal } = this.props\r\n    if (this.state.value === null || this.state.value === messageOriginal) return\r\n    this.setState({ saving: true })\r\n    const payload = { message: this.state.value }\r\n    const toSend = !this.state.value ? axios.delete(`/api/guilds/${guildId}/feeds/${feedId}/message`, { headers: { 'CSRF-Token': csrfToken } }) : axios.patch(`/api/guilds/${guildId}/feeds/${feedId}/message`, payload, { headers: { 'CSRF-Token': csrfToken } })\r\n    toSend\r\n    .then(() => {\r\n      toast.success('Saved new message, woohoo!')\r\n      this.setState({ saving: false, value: null })\r\n    }).catch(err => {\r\n      this.setState({ saving: false })\r\n      if (err.response && err.response.status === 304) return toast.success('No changes detected')\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to update feed message<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n      console.log(err.response || err.message)\r\n    })\r\n  }\r\n\r\n  onUpdate = value => {\r\n    if (value && value.length > 1950) return\r\n    this.setState({ value })\r\n    this.props.onUpdate(value)\r\n  }\r\n\r\n  render () {\r\n    const { messageOriginal } = this.props\r\n    const noChanges = this.state.value === null || this.state.value === messageOriginal\r\n    const textAreaVal = this.state.value || this.state.value === '' ? this.state.value : messageOriginal\r\n\r\n    return (\r\n      <MessageArea>\r\n        <TextArea onChange={e => this.onUpdate(e.target.value)} placeholder={'Using default message'} value={textAreaVal} lineCount={textAreaVal ? textAreaVal.split('\\n').length : 0} />\r\n        <ActionButtons>\r\n          <PopInButton content='Reset' basic inverted onClick={e => this.onUpdate(null)} pose={this.state.saving ? 'exit' : noChanges ? 'exit' : 'enter'} />\r\n          <Button disabled={this.state.saving || noChanges} content='Save' color='green' onClick={this.apply.bind(this)} />\r\n        </ActionButtons>\r\n      </MessageArea>\r\n    )\r\n  }\r\n}\r\n\r\nMessageSettings.propTypes = {\r\n  setToThisPage: PropTypes.func\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(MessageSettings))\r\n","export default {\r\n  title: 'title',\r\n  description: 'description',\r\n  url: 'url',\r\n  color: 'color',\r\n  timestamp: 'timestamp',\r\n  footerIconUrlCamelCase: 'footerIconUrl',\r\n  footerIconUrl: 'footer_icon_url',\r\n  footerTextCamelCase: 'footerText',\r\n  footerText: 'footer_text',\r\n  authorIconUrlCamelCase: 'authorIconUrl',\r\n  authorIconUrl: 'author_icon_url',\r\n  authorNameCamelCase: 'authorName',\r\n  authorName: 'author_name',\r\n  authorUrlCamelCase: 'authorUrl',\r\n  authorUrl: 'author_url',\r\n  thumbnailUrlCamelCase: 'thumbnailUrl',\r\n  thumbnailUrl: 'thumbnail_url',\r\n  imageUrlCamelCase: 'imageUrl',\r\n  imageUrl: 'image_url'\r\n}\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { changePage } from 'js/actions/index-actions'\r\nimport { Input, Button, Dropdown, Form, Popup } from 'semantic-ui-react'\r\nimport styled from 'styled-components'\r\nimport pages from 'js/constants/pages'\r\nimport SectionItemTitle from 'js/components/utils/SectionItemTitle'\r\nimport posed from 'react-pose'\r\nimport PropTypes from 'prop-types'\r\nimport { SketchPicker } from 'react-color'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    guildId: state.guildId,\r\n    feedId: state.feedId,\r\n    feeds: state.feeds,\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setToThisPage: () => dispatch(changePage(pages.MESSAGE))\r\n  }\r\n}\r\n\r\nconst SettingSectionHead = styled.div`\r\n  align-items: center;\r\n  padding: 1em;\r\n  display: flex;\r\n  background: rgba(44,47,53, 0.4);\r\n  cursor: pointer;\r\n  use-select: none !important;\r\n  margin-bottom: 0.5em;\r\n  margin-top: 0.5em;\r\n  > label {\r\n    margin-left: 1em;\r\n    use-select: none !important;\r\n  }\r\n`\r\n\r\nconst SettingSectionBodyStyles = styled.div`\r\n  height: 0;\r\n  user-select: none;\r\n`\r\n\r\nconst SettingSectionBody = posed(SettingSectionBodyStyles)({\r\n  enter: { height: '100%' },\r\n  exit: { height: 0 }\r\n})\r\n\r\nconst InputWithButtonGroup = styled.div`\r\n  display: flex;\r\n  > .ui.input {\r\n    flex-grow: 1;\r\n    > input {\r\n      width: 100% !important;\r\n      border-top-right-radius: 0 !important;\r\n      border-bottom-right-radius: 0 !important;\r\n    }\r\n  }\r\n  .ui.button {\r\n    border-top-left-radius: 0 !important;\r\n    border-bottom-left-radius: 0 !important;\r\n  }\r\n`\r\n\r\nconst DiscordColorPicker = styled(SketchPicker)`\r\n  /* position: absolute; */\r\n  background: #36393f !important;\r\n  > div:last-child {\r\n    display: none !important;\r\n    border-top: 1px solid rgba(0, 0, 0, .3) !important;\r\n  }\r\n  input {\r\n    box-shadow: none !important;\r\n    background: rgba(0,0,0,.1);\r\n    border-color: rgba(0,0,0,.3) !important;\r\n    color: #f6f6f7;\r\n    border-radius: 3px;\r\n    border-style: solid !important;\r\n    border-width: 1px !important;\r\n    transition: border .15s ease;\r\n    font-family: Whitney;\r\n    ::selection {\r\n      color: #f6f6f7;\r\n      background-color: #0078d7;\r\n    }\r\n  }\r\n  span {\r\n    color: white !important;\r\n  }\r\n`\r\n\r\nfunction numberToColour (number) {\r\n  const r = (number & 0xff0000) >> 16\r\n  const g = (number & 0x00ff00) >> 8\r\n  const b = (number & 0x0000ff)\r\n  return { r, g, b }\r\n}\r\n\r\nfunction ColorPicker (props) {\r\n  return (\r\n    <InputWithButtonGroup>\r\n      <Input value={props.value || ''} />\r\n      <Button.Group>\r\n        <Popup\r\n          style={{ background: 'transparent' }}\r\n          inverted\r\n          position='bottom left'\r\n          basic\r\n          on='click'\r\n          trigger={<Button icon='eyedropper' />}\r\n        >\r\n          <DiscordColorPicker color={numberToColour(props.value)} onChange={(color, event) => {\r\n            props.onUpdate(props.variable, ((color.rgb.r << 16) + (color.rgb.g << 8) + color.rgb.b).toString()) // Convert to integer, then to string\r\n          }} />\r\n        </Popup>\r\n        <Button icon='x' disabled={!props.value} onClick={e => props.onUpdate(props.variable, '')} />\r\n      </Button.Group>\r\n    </InputWithButtonGroup>\r\n  )\r\n}\r\n\r\nclass Section extends React.Component {\r\n  constructor () {\r\n    super()\r\n\r\n    this.state = {\r\n      visible: false,\r\n      overflow: 'hidden'\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { inputs, onUpdate, name } = this.props\r\n    const body = []\r\n    if (inputs) {\r\n      for (let i = 0; i < inputs.length; ++i) {\r\n        const input = inputs[i]\r\n        const disabled = input.condition === undefined ? false : !input.condition\r\n        body.push(\r\n          <Form.Field key={i}>\r\n            <label>{input.label}</label>\r\n            { input.textarea\r\n              ? <textarea value={input.value} onChange={e => onUpdate(input.variable, e.target.value)} disabled={disabled} />\r\n              : input.dropdown\r\n                ? <Dropdown selection fluid options={input.options} onChange={(e, data) => onUpdate(input.variable, data.value)} value={input.value || 'none'} disabled={disabled} />\r\n                : input.color\r\n                  ? <ColorPicker value={input.value} onUpdate={onUpdate} variable={input.variable} />\r\n                  : <input value={input.value} onChange={e => onUpdate(input.variable, e.target.value)} disabled={disabled} />\r\n            }\r\n          </Form.Field>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n      <div>\r\n        <SettingSectionHead onClick={e => this.setState({ visible: !this.state.visible, overflow: 'hidden' })}>\r\n          <Button size='mini' icon={this.state.visible ? 'caret up' : 'caret down'} />\r\n          <SectionItemTitle>{name}</SectionItemTitle>\r\n        </SettingSectionHead>\r\n        <SettingSectionBody pose={this.state.visible ? 'enter' : 'exit'} style={{ overflow: this.state.overflow }} onPoseComplete={() => this.state.visible ? this.setState({ overflow: 'visible' }) : null}>\r\n          {this.props.body || <Form>{body}</Form>}\r\n        </SettingSectionBody>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nSection.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  inputs: PropTypes.array,\r\n  onUpdate: PropTypes.func,\r\n  body: PropTypes.node\r\n}\r\n\r\nColorPicker.propTypes = {\r\n  value: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number\r\n  ]),\r\n  onUpdate: PropTypes.func,\r\n  variable: PropTypes.string,\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Section))\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { changePage } from 'js/actions/index-actions'\r\nimport { Input, Popup, Button, Divider, Checkbox, Icon } from 'semantic-ui-react'\r\nimport styled from 'styled-components'\r\nimport pages from 'js/constants/pages'\r\nimport toast from '../../../../utils/toast'\r\nimport SectionTitle from 'js/components/utils/SectionTitle'\r\nimport SectionItemTitle from 'js/components/utils/SectionItemTitle'\r\nimport PopInButton from '../../../../utils/PopInButton'\r\nimport TextArea from 'js/components/utils/TextArea'\r\nimport Wrapper from 'js/components/utils/Wrapper'\r\nimport PropTypes from 'prop-types'\r\nimport embedPropertiesNames from 'js/constants/embed.js'\r\nimport posed, { PoseGroup } from 'react-pose'\r\nimport axios from 'axios'\r\nimport { Scrollbars } from 'react-custom-scrollbars'\r\nimport Section from './Section'\r\n\r\nconst EMBED_FIELD_LIMITS = {\r\n  name: 256,\r\n  value: 1024\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    guildId: state.guildId,\r\n    feedId: state.feedId,\r\n    feeds: state.feeds,\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setToThisPage: () => dispatch(changePage(pages.MESSAGE))\r\n  }\r\n}\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 14px;\r\n  .ui.button {\r\n    margin-left: 1em;\r\n  }\r\n`\r\n\r\nconst EmbedFieldsWrapper = styled.div`\r\n  /* display: flex; */\r\n  /* overflow-x: auto; */\r\n  /* padding: 0 0 1em; */\r\n  overflow-y: hidden;\r\n  white-space: nowrap;\r\n  scrollbar-width: thin;\r\n  height: 430px;\r\n  width: 100%;\r\n`\r\n\r\nconst EmbedFieldsWrapperInner = styled.div`\r\n  display: flex;\r\n  padding: 0 0 1em;\r\n  height: 410px;\r\n`\r\n\r\nconst EmbedFieldBoxStyles = styled(Wrapper)`\r\n  display: inline-block;\r\n  flex-shrink: 0;\r\n  margin-right: 30px;\r\n  /* height: 100%; */\r\n  overflow: hidden;\r\n  > div {\r\n    width: 260px; /* Counts the 20px padding from Wrapper */\r\n  }\r\n`\r\n\r\nconst EmbedFieldBox = posed(EmbedFieldBoxStyles)({\r\n  enter: { opacity: 1, width: '300px', transition: { duration: 200 } },\r\n  exit: { opacity: 0, width: 0, transition: { duration: 200 } }\r\n})\r\n\r\nconst AddEmbedFieldBox = styled(EmbedFieldBoxStyles)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  margin-right: 0;\r\n  width: 300px;\r\n  height: 100%;\r\n`\r\n\r\nconst EMBED_FIELD_KEYS = ['title', 'value', 'inline']\r\n\r\nclass EmbedSettings extends React.Component {\r\n  constructor () {\r\n    super()\r\n\r\n    this.state = {\r\n      index: 0,\r\n      unsaved: false,\r\n      saving: false,\r\n      embeds: [],\r\n      showAuthorSection: false\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.setState({ embeds: JSON.parse(JSON.stringify(this.props.embedsOriginal)) })\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    const { embedsOriginal } = this.props\r\n    // Compare the original embeds\r\n    if (prevProps.embedsOriginal.length > 0 && embedsOriginal.length === 0) return this.setState({ index: 0, embeds: [], unsaved: false })\r\n    else if (prevProps.embedsOriginal.length === 0 && embedsOriginal.length > 0) return this.setState({ index: 0, embeds: JSON.parse(JSON.stringify(embedsOriginal)), unsaved: false })\r\n    else {\r\n      const lenToLoop = embedsOriginal.length > prevProps.embedsOriginal.length ? embedsOriginal.length : prevProps.embedsOriginal.length\r\n      for (let i = 0; i < lenToLoop; ++i) {\r\n        const prevOriginalEmbed = prevProps.embedsOriginal[i]\r\n        const thisOriginalEmbed = embedsOriginal[i]\r\n        if (!prevOriginalEmbed && !thisOriginalEmbed) continue // This is a new embed the user wants to add but hasn't applied - it's only available in this state\r\n        else if ((!prevOriginalEmbed && thisOriginalEmbed) || (prevOriginalEmbed && !thisOriginalEmbed)) {\r\n          // This is a new embed that the user has applied and is in effect, OR an embed that was just deleted\r\n          const newState = { embeds: JSON.parse(JSON.stringify(embedsOriginal)), unsaved: false }\r\n          if (this.state.index > embedsOriginal.length) newState.index = 0\r\n          return this.setState(newState)\r\n        }\r\n\r\n        // String properties\r\n        for (const property in embedPropertiesNames) {\r\n          const propertyName = embedPropertiesNames[property]\r\n          // Check if they exist first since this may be a new embed that doesn't exist in either of them\r\n          if (prevOriginalEmbed[propertyName] !== thisOriginalEmbed[propertyName]) return this.setState({ embeds: JSON.parse(JSON.stringify(embedsOriginal)), unsaved: false })\r\n        }\r\n\r\n        // Fields\r\n        if (!prevOriginalEmbed.fields && thisOriginalEmbed.fields) return this.setState({ embeds: JSON.parse(JSON.stringify(embedsOriginal)), unsaved: false })\r\n        else if (prevOriginalEmbed.fields && !thisOriginalEmbed.fields) return this.setState({ embeds: JSON.parse(JSON.stringify(embedsOriginal)), unsaved: false })\r\n        else if (prevOriginalEmbed.fields && thisOriginalEmbed.fields) {\r\n          const prevOriginalEmbedFields = prevOriginalEmbed.fields\r\n          const thisOriginalEmbedFields = thisOriginalEmbed.fields\r\n          if ((!prevOriginalEmbedFields && thisOriginalEmbedFields) || (prevOriginalEmbedFields && !thisOriginalEmbedFields)) return this.setState({ embeds: JSON.parse(JSON.stringify(embedsOriginal)), unsaved: false })\r\n          else if (prevOriginalEmbedFields && thisOriginalEmbedFields) {\r\n            if (prevOriginalEmbedFields.length !== thisOriginalEmbedFields.length) return this.setState({ embeds: JSON.parse(JSON.stringify(embedsOriginal)), unsaved: false })\r\n            else {\r\n              for (let j = 0; j < prevOriginalEmbedFields.length; ++j) {\r\n                const prevOriginalEmbedField = prevOriginalEmbedFields[j]\r\n                const thisOriginalEmbedField = thisOriginalEmbedFields[j]\r\n                for (const key of EMBED_FIELD_KEYS) {\r\n                  if (prevOriginalEmbedField && thisOriginalEmbedField && prevOriginalEmbedField[key] !== thisOriginalEmbedField[key]) return this.setState({ embeds: JSON.parse(JSON.stringify(embedsOriginal)), unsaved: false })\r\n                  else if ((!prevOriginalEmbedField && thisOriginalEmbedField) || (prevOriginalEmbedField && !thisOriginalEmbedField)) return this.setState({ embeds: JSON.parse(JSON.stringify(embedsOriginal)), unsaved: false })\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // Now check and update unsaved if necessary\r\n      if (this.state.unsaved) return\r\n\r\n      const originalEmbed = embedsOriginal[this.state.index]\r\n      const thisEmbed = this.state.embeds[this.state.index]\r\n\r\n      // String properties\r\n      if (thisEmbed) {\r\n        for (const property in embedPropertiesNames) {\r\n          const propertyName = embedPropertiesNames[property]\r\n          if (!originalEmbed) {\r\n            if (thisEmbed[propertyName]) return this.setState({ unsaved: true }) // Check if any values exist to qualify it for unsaved as a new embed\r\n          } else {\r\n            if ((originalEmbed[propertyName] != null && thisEmbed[propertyName] != null && originalEmbed[propertyName] !== thisEmbed[propertyName])) return this.setState({ unsaved: true })\r\n            else if (originalEmbed[propertyName] == null && thisEmbed[propertyName] != null) return this.setState({ unsaved: true })\r\n            else if (originalEmbed[propertyName] != null && thisEmbed[propertyName] == null) return this.setState({ unsaved: true })\r\n          }\r\n        }\r\n      }\r\n\r\n      // Check the fields as well\r\n      const originalEmbedFields = originalEmbed ? originalEmbed.fields : null\r\n      const thisEmbedFields = thisEmbed ? thisEmbed.fields : null\r\n      if (originalEmbedFields && !thisEmbedFields) return this.setState({ unsaved: true })\r\n      else if (!originalEmbedFields && thisEmbedFields) {\r\n        for (const field of thisEmbedFields) {\r\n          if (field.title && field.value) return this.setState({ unsaved: true })\r\n        }\r\n      } else if (originalEmbedFields && thisEmbedFields) {\r\n        for (let i = 0; i < originalEmbedFields.length; ++i) {\r\n          const originalField = originalEmbedFields[i]\r\n          const thisField = thisEmbedFields[i]\r\n          for (const key of EMBED_FIELD_KEYS) {\r\n            // Check if thisField exists since it may be deleted\r\n            if (thisField && originalField[key] && thisField[key] && originalField[key] !== thisField[key]) return this.setState({ unsaved: true })\r\n            else if (thisField && !originalField[key] && thisField[key]) return this.setState({ unsaved: true })\r\n            else if (thisField && originalField[key] && !thisField[key]) return this.setState({ unsaved: true })\r\n          }\r\n        }\r\n        if (originalEmbedFields.length !== thisEmbedFields.length) {\r\n          // First condition checks if the user has deleted embeds here\r\n          if (originalEmbedFields.length > thisEmbedFields.length) return this.setState({ unsaved: true })\r\n          else {\r\n            // Now the shorter one is original, so there must be added embed fields to thisEmbedFields. They may have be empty, so manual checks are required below.\r\n            for (let i = originalEmbedFields.length; i < thisEmbedFields.length; ++i) {\r\n              const thisField = thisEmbedFields[i]\r\n              if (thisField.title && thisField.value) return this.setState({ unsaved: true })\r\n            }\r\n          }\r\n          return\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  prevIndex = () => {\r\n    if (this.state.index <= 0 || this.state.unsaved) return\r\n    this.setState({ index: this.state.index - 1 })\r\n  }\r\n\r\n  nextIndex = () => {\r\n    if (this.state.index >= 8 || this.state.unsaved) return\r\n    this.setState({ index: this.state.index + 1 })\r\n  }\r\n\r\n  onUpdate = (property, value) => {\r\n    const { embedsOriginal } = this.props\r\n    const embeds = [ ...this.state.embeds ]\r\n    let currentEmbed = embeds[this.state.index] ? { ...embeds[this.state.index] } : null\r\n    if (!currentEmbed) {\r\n      embeds.push({ [property]: value })\r\n      currentEmbed = embeds[embeds.length - 1]\r\n    } else {\r\n      currentEmbed[property] = value\r\n      embeds[this.state.index] = currentEmbed\r\n    }\r\n\r\n    if (property === embedPropertiesNames.timestamp && value === 'none') {\r\n      if ((!this.state.embeds[this.state.index] || !this.state.embeds[this.state.index][property]) && (!embedsOriginal[this.state.index] || !embedsOriginal[this.state.index][property])) return this.state.unsaved === true ? this.setState({ unsaved: false }) : null // No change\r\n      else if (currentEmbed[property] && (!embedsOriginal[this.state.index] || !embedsOriginal[this.state.index][property])) { // 'none' matches a undefined value for timestamp in the embed\r\n        delete embeds[this.state.index][property]\r\n        this.setState({ embeds, unsaved: false })\r\n      } else {\r\n        embeds[this.state.index][property] = value\r\n        this.setState({ embeds, unsaved: true })\r\n      }\r\n    } else {\r\n      const same = (embedsOriginal[this.state.index] && ((embedsOriginal[this.state.index][property] === value) || (!embedsOriginal[this.state.index][property] && !value))) || (!embedsOriginal[this.state.index] && !value)\r\n      this.setState({ embeds, unsaved: !same })\r\n    }\r\n    this.props.onUpdate(this.state.index, property, value)\r\n  }\r\n\r\n  onUpdateField = (fieldIndex, property, value) => {\r\n    if (EMBED_FIELD_LIMITS[property] && value.length > EMBED_FIELD_LIMITS[property]) return\r\n    const { embedsOriginal } = this.props\r\n    const embeds = [ ...this.state.embeds ]\r\n    let currentEmbed = embeds[this.state.index] ? { ...embeds[this.state.index] } : null\r\n    if (!currentEmbed) {\r\n      if (fieldIndex !== 0) throw new Error(`Cannot edit none-zero field index ${fieldIndex} for an embed that does not exist`)\r\n      embeds.push({ fields: [{ [property]: value }] })\r\n      currentEmbed = embeds[embeds.length - 1]\r\n    } else {\r\n      const fields = currentEmbed.fields\r\n      if (fieldIndex > fields.length) throw new Error(`Cannot edit field index ${fieldIndex} that is greater than fields.length`)\r\n      if (!fields[fieldIndex]) fields.push({ [property]: value })\r\n      else fields[fieldIndex][property] = value\r\n      embeds[this.state.index] = currentEmbed\r\n    }\r\n    let same = true\r\n    if (embedsOriginal[this.state.index] && embedsOriginal[this.state.index].fields && embedsOriginal[this.state.index].fields[fieldIndex]) {\r\n      // If the original field exists\r\n      const originalField = embedsOriginal[this.state.index].fields[fieldIndex]\r\n      if (property === 'inline') {\r\n        if ((!originalField[property] && !value) || (originalField[property] && value)) same = true\r\n        else same = false\r\n      } else {\r\n        if (originalField[property] && value && originalField[property] !== value) same = false\r\n        else if ((!originalField[property] && value) || (originalField[property] && !value)) {\r\n          same = false\r\n        }\r\n      }\r\n    } else {\r\n      if (value && (!embedsOriginal[this.state.index] || !embedsOriginal[this.state.index].fields || !embedsOriginal[this.state.index].fields[fieldIndex])) same = false // This must be a new field\r\n    }\r\n\r\n    this.setState({ embeds, unsaved: !same })\r\n    this.props.onUpdate(this.state.index, 'fields', currentEmbed.fields)\r\n  }\r\n\r\n  addEmbedField = () => {\r\n    const embeds = [ ...this.state.embeds ]\r\n    let currentEmbed = embeds[this.state.index] ? { ...embeds[this.state.index] } : null\r\n    if (!currentEmbed) {\r\n      // Pushing a new embed\r\n      embeds.push({ fields: [{}] })\r\n      currentEmbed = embeds[embeds.length - 1]\r\n    } else {\r\n      if (currentEmbed.fields && currentEmbed.fields.length >= 25) return\r\n      if (!currentEmbed.fields) currentEmbed.fields = []\r\n      currentEmbed.fields.push({})\r\n      embeds[this.state.index] = currentEmbed\r\n    }\r\n\r\n    this.setState({ embeds })\r\n    this.props.onUpdate(this.state.index, 'fields', currentEmbed.fields)\r\n  }\r\n\r\n  removeEmbedField = fieldIndex => {\r\n    const embeds = [ ...this.state.embeds ]\r\n    const currentEmbed = embeds[this.state.index] // The currentEmbed must exist if removeEmbedField is called\r\n    currentEmbed.fields.splice(fieldIndex, 1)\r\n    this.setState({ embeds })\r\n    this.props.onUpdate(this.state.index, 'fields', currentEmbed.fields)\r\n  }\r\n\r\n  discardChanges = () => {\r\n    const { embedsOriginal, resetEmbedProperties } = this.props\r\n    resetEmbedProperties() // Use the prop function since calling all props.onUpdate multiple times is unnecessary\r\n    this.setState({ embeds: JSON.parse(JSON.stringify(embedsOriginal)), unsaved: false })\r\n  }\r\n\r\n  apply = () => {\r\n    if (!this.state.unsaved) return\r\n    const { csrfToken, guildId, feedId } = this.props\r\n    const payload = { ...this.state.embeds[this.state.index] }\r\n    // Convert color to int - manually check null/undefined since it may be 0\r\n    if (payload.color !== null && payload.color !== undefined) payload.color = +payload.color\r\n    // Fix the timestamp from the none value\r\n    if (payload.timestamp === 'none') payload.timestamp = ''\r\n    // Take care of fields\r\n    if (payload.fields) {\r\n      if (payload.fields.length === 0) payload.fields = ''\r\n      else {\r\n        const fields = [ ...payload.fields ]\r\n        for (let i = fields.length - 1; i >= 0; --i) {\r\n          const field = fields[i]\r\n          if (!field.title || !field.value) return toast.error(`Each embed field must have the title and value specified!`)\r\n          else if (field.title && field.value && fields[i].inline === false) {\r\n            // Embed fields are false by default, so delete the key\r\n            const field = { ...fields[i] }\r\n            delete field.inline\r\n            fields[i] = field\r\n          }\r\n        }\r\n        payload.fields = fields\r\n      }\r\n    }\r\n    this.setState({ saving: true })\r\n    axios.patch(`/api/guilds/${guildId}/feeds/${feedId}/embeds/${this.state.index}`, payload, { headers: { 'CSRF-Token': csrfToken } }).then(() => {\r\n      toast.success('Saved embed changes, woohoo!')\r\n      this.setState({ saving: false, unsaved: false })\r\n    }).catch(err => {\r\n      if (err.response && err.response.status === 304) {\r\n        this.setState({ saving: false})\r\n        return toast.success('No changes detected')\r\n      } else this.setState({ saving: false })\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to update feed embed<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n      console.log(err.response || err.message)\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const onUpdate = this.onUpdate\r\n    const { embedsOriginal, feeds, guildId, feedId } = this.props\r\n    const hasWebhooks = feeds[guildId] && feeds[guildId][feedId] ? !!feeds[guildId][feedId].webhook : false\r\n    const originalValues = embedsOriginal[this.state.index] || {}\r\n    const valuesToUse = {}\r\n    for (const key in embedPropertiesNames) {\r\n      const propertyName = embedPropertiesNames[key]\r\n      const thisEmbed = this.state.embeds[this.state.index]\r\n      valuesToUse[propertyName] = thisEmbed && thisEmbed[propertyName] === '' ? '' : thisEmbed && propertyName === 'color' && thisEmbed[propertyName] === 0 ? '0' : thisEmbed ? (thisEmbed[propertyName] || originalValues[propertyName] || '') : ''\r\n    }\r\n\r\n\r\n    const unsaved = this.state.unsaved\r\n\r\n    const fieldElements = []\r\n    const thisEmbed = this.state.embeds[this.state.index]\r\n    if (thisEmbed && thisEmbed.fields) {\r\n      for (let i = 0; i < thisEmbed.fields.length; ++i) {\r\n        const field = thisEmbed.fields[i]\r\n        fieldElements.push(\r\n          <EmbedFieldBox key={i}>\r\n            <div>\r\n              <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>\r\n                Field {i + 1}\r\n                <Button basic content='Remove' onClick={e => this.removeEmbedField(i)} />\r\n              </div>\r\n              <Divider />\r\n              <SectionItemTitle style={{display: 'block'}}>Title</SectionItemTitle>\r\n              <Input fluid value={field.title || ''} style={{marginBottom: '1em', marginTop: '1em'}} onChange={e => this.onUpdateField(i, 'title', e.target.value)} />\r\n              <SectionItemTitle style={{display: 'block'}}>Value</SectionItemTitle>\r\n              <TextArea value={field.value || ''} style={{marginTop: '1em'}} onChange={e => this.onUpdateField(i, 'value', e.target.value)} />\r\n              <div style={{ marginTop: '1em' }}>\r\n                <Checkbox label='Inline' checked={field.inline || false} onChange={(e, data) => this.onUpdateField(i, 'inline', data.checked)} />\r\n              </div>\r\n            </div>\r\n          </EmbedFieldBox>\r\n        )\r\n      }\r\n    }\r\n\r\n    // Author Section\r\n\r\n    return (\r\n      <div>\r\n        <SectionTitle heading='Embeds' subheading='Embeds are fancy boxes that can be shown under your message. Placeholders may also be used here.' sideComponent={          <Button.Group>\r\n            <Button disabled={this.state.index === 0 || unsaved} icon='chevron left' onClick={this.prevIndex} size='large' />\r\n            <Button.Or text={`${this.state.index + 1}/${this.state.index >= embedsOriginal.length - 1 ? embedsOriginal.length : this.state.index + 2}`} />\r\n            {!hasWebhooks\r\n          ? <Popup\r\n              inverted\r\n              content='Only feeds with webhooks attached may use more embeds'\r\n              trigger={<span><Button disabled icon='add' circular size='large' /></span>}\r\n            />\r\n          : <Button disabled={this.state.index >= 8 || this.state.index >= embedsOriginal.length} icon={this.state.index >= embedsOriginal.length - 1 ? 'add' : 'chevron right'} onClick={this.nextIndex} size='large' />\r\n          }\r\n          </Button.Group>} />\r\n        <Section\r\n          name='Author'\r\n          inputs={[\r\n            { label: 'Text', variable: embedPropertiesNames.authorName, value: valuesToUse[embedPropertiesNames.authorName] },\r\n            { label: 'Icon URL', variable: embedPropertiesNames.authorIconUrl, value: valuesToUse[embedPropertiesNames.authorIconUrl], condition: !!valuesToUse[embedPropertiesNames.authorName] },\r\n            { label: 'URL', variable: embedPropertiesNames.authorUrl, value: valuesToUse[embedPropertiesNames.authorUrl], condition: !!valuesToUse[embedPropertiesNames.authorName] }\r\n          ]}\r\n          onUpdate={onUpdate}\r\n        />\r\n        <Section\r\n          name='Title'\r\n          inputs={[\r\n            { label: 'Text', variable: embedPropertiesNames.title, value: valuesToUse[embedPropertiesNames.title] },\r\n            { label: 'URL', variable: embedPropertiesNames.url, value: valuesToUse[embedPropertiesNames.url], condition: !!valuesToUse[embedPropertiesNames.title] }\r\n          ]}\r\n          onUpdate={onUpdate}\r\n        />\r\n        <Section\r\n          name='Description'\r\n          inputs={[\r\n            { label: 'Text', variable: embedPropertiesNames.description, textarea: true, value: valuesToUse[embedPropertiesNames.description] },\r\n          ]}\r\n          onUpdate={onUpdate}\r\n        />\r\n        <Section\r\n          name='Images'\r\n          inputs={[\r\n            { label: 'Image URL', variable: embedPropertiesNames.imageUrl, value: valuesToUse[embedPropertiesNames.imageUrl] },\r\n            { label: 'Thumbnail URL', variable: embedPropertiesNames.thumbnailUrl, value: valuesToUse[embedPropertiesNames.thumbnailUrl] }\r\n          ]}\r\n          onUpdate={onUpdate}\r\n        />\r\n        <Section\r\n          name='Footer'\r\n          inputs={[\r\n            { label: 'Text', variable: embedPropertiesNames.footerText, value: valuesToUse[embedPropertiesNames.footerText] },\r\n            { label: 'Icon URL', variable: embedPropertiesNames.footerIconUrl, values: valuesToUse[embedPropertiesNames.footerIconUrl], condition: !!valuesToUse[embedPropertiesNames.footerText] },\r\n            { label: 'Timestamp', variable: embedPropertiesNames.timestamp, dropdown: true, options: [{ text: 'None', value: 'none' }, { text: 'article', value: 'article' }, { text: 'now', value: 'now' }], value: valuesToUse[embedPropertiesNames.timestamp] }\r\n          ]}\r\n          onUpdate={onUpdate}\r\n        />\r\n        <Section\r\n          name='Color'\r\n          inputs={[\r\n            { label: 'Number', variable: embedPropertiesNames.color, color: true, value: valuesToUse[embedPropertiesNames.color] }\r\n          ]}\r\n          onUpdate={onUpdate}\r\n        />\r\n        <Section\r\n          name='Fields'\r\n          body={\r\n            <EmbedFieldsWrapper>\r\n              <Scrollbars>\r\n                <EmbedFieldsWrapperInner>\r\n                  <PoseGroup>\r\n                    {fieldElements}\r\n                  </PoseGroup>\r\n                  <div>\r\n                    <AddEmbedFieldBox key={thisEmbed && thisEmbed.fields ? thisEmbed.fields.length : 0} onClick={this.addEmbedField}>\r\n                      <Icon name='add' size='big' />\r\n                    </AddEmbedFieldBox>\r\n                  </div>\r\n                </EmbedFieldsWrapperInner>\r\n              </Scrollbars>\r\n            </EmbedFieldsWrapper>\r\n          }\r\n        />\r\n        <ActionButtons>\r\n          <PopInButton key='discard-changes-embed' content='Reset' basic inverted onClick={this.discardChanges} pose={this.state.saving ? 'exit' : unsaved ? 'enter' : 'exit'} />\r\n          <Button disabled={this.state.saving || !unsaved} content='Save' color='green' onClick={this.apply} />\r\n        </ActionButtons>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nEmbedSettings.propTypes = {\r\n  embeds: PropTypes.array,\r\n  onUpdate: PropTypes.func\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(EmbedSettings))\r\n","// http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\r\nfunction escapeRegExp (str) {\r\n  return str.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&')\r\n}\r\n\r\nclass _FilterResults {\r\n  constructor () {\r\n    this.matches = {}\r\n    this.invertedMatches = {}\r\n  }\r\n\r\n  add (type, matches, inverted) {\r\n    if (inverted) this.invertedMatches[type] = matches\r\n    else this.matches[type] = matches\r\n  }\r\n\r\n  listMatches (inverted) {\r\n    const matchList = inverted ? this.invertedMatches : this.matches\r\n    let str = ''\r\n    for (var type in matchList) {\r\n      let list = ''\r\n      const typeMatches = matchList[type]\r\n      for (var x in typeMatches) {\r\n        list += ` ${typeMatches[x]}`\r\n        if (parseInt(x, 10) !== typeMatches.length - 1) list += ' |'\r\n      }\r\n      str += `\\n${type}:${list}`\r\n    }\r\n    return str\r\n  }\r\n}\r\n\r\nfunction findFilterWords (filterType, content) {\r\n  // filterType is array of title, description, summary, or author\r\n\r\n  // Vars for test message\r\n  let matches = []\r\n  let invertedMatches = []\r\n\r\n  // Var for any message\r\n  let results = []\r\n\r\n  if (Array.isArray(filterType) && filterType.length > 0) {\r\n    if (typeof content === 'string') { // For title, descriptions, summary, and author\r\n      content = content.toLowerCase()\r\n      for (var word in filterType) {\r\n        let invertedFilter = false // Inverted results = NOT filters found\r\n        let searchTerm = filterType[word].toLowerCase()\r\n        if (searchTerm.startsWith('!')) {\r\n          invertedFilter = true\r\n          searchTerm = searchTerm.slice(1, searchTerm.length)\r\n        }\r\n\r\n        if (searchTerm.startsWith('~')) { // Broad filters, for phrases/words found anywhere\r\n          searchTerm = searchTerm.slice(1, searchTerm.length)\r\n          if (content.includes(searchTerm)) {\r\n            if (!invertedFilter) matches.push(filterType[word])\r\n            else if (invertedFilter) invertedMatches.push(filterType[word])\r\n            results.push({ passed: true, inverted: invertedFilter })\r\n          } else results.push({ passed: false, inverted: invertedFilter })\r\n        } else { // Specific filters, for phrases/words with spaces around them\r\n          searchTerm = searchTerm.startsWith('\\\\~') ? searchTerm.slice(1, searchTerm.length) : searchTerm.startsWith('\\\\!') ? searchTerm.slice(1, searchTerm.length) : searchTerm // A \\~ or \\! will just read as a ~ or !\r\n          let expression = new RegExp(`(\\\\s|^)${escapeRegExp(searchTerm)}(\\\\s|$)`, 'gi')\r\n          if (content.search(expression) !== -1) {\r\n            if (!invertedFilter) matches.push(filterType[word])\r\n            else if (invertedFilter) invertedMatches.push(filterType[word])\r\n            results.push({ passed: true, inverted: invertedFilter })\r\n          } else results.push({ passed: false, inverted: invertedFilter })\r\n        }\r\n      }\r\n    } else if (Array.isArray(content)) { // For tags\r\n      for (var item in content) {\r\n        const res = findFilterWords(filterType, content[item])\r\n        results = results.concat(res.resultsList)\r\n        if (res.matches) matches = matches.concat(res.matches)\r\n        if (res.invertedMatches) invertedMatches = invertedMatches.concat(res.invertedMatches)\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    resultsList: results,\r\n    matches: matches.length > 0 ? matches : null,\r\n    invertedMatches: invertedMatches.length > 0 ? invertedMatches : null\r\n  }\r\n}\r\n\r\nexport default (filters, article) => {\r\n  const referenceOverrides = {\r\n    description: article._fullDescription,\r\n    summary: article._fullSummary,\r\n    title: article._fullTitle,\r\n    tags: article.tags ? article.tags.split('\\n') : []\r\n  }\r\n\r\n  const passed = { // Inverted and regular filters are ultimately calculated together with AND\r\n    invertedFilters: true,\r\n    regularFilters: false\r\n  }\r\n  let regularFiltersExists = false\r\n  let invertedFiltersExists = false\r\n\r\n  const filterResults = new _FilterResults()\r\n  for (var filterTypeName in filters) {\r\n    const userFilters = filters[filterTypeName]\r\n    const reference = referenceOverrides[filterTypeName] || article[filterTypeName]\r\n\r\n    if (!reference) {\r\n      regularFiltersExists = true\r\n      continue\r\n    }\r\n\r\n    const allResults = findFilterWords(userFilters, reference)\r\n    // Get match words for test messages\r\n    if (allResults.matches) filterResults.add(filterTypeName, allResults.matches, false)\r\n    if (allResults.invertedMatches) filterResults.add(filterTypeName, allResults.invertedMatches, true)\r\n\r\n    // Decide whether it passes for each filter, iterating through each search word's results\r\n    for (var i in allResults.resultsList) {\r\n      const results = allResults.resultsList[i]\r\n      if (results.length === 0) continue\r\n\r\n      if (results.inverted) {\r\n        invertedFiltersExists = true\r\n        if (results.passed === true) passed.invertedFilters = false\r\n      } else if (!results.inverted) {\r\n        regularFiltersExists = true\r\n        if (results.passed === true) passed.regularFilters = true\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!invertedFiltersExists && !regularFiltersExists) {\r\n    passed.invertedFilters = true\r\n    passed.regularFilters = true\r\n  } else if (!invertedFiltersExists && regularFiltersExists) passed.invertedFilters = true\r\n  else if (!regularFiltersExists && invertedFiltersExists) passed.regularFilters = true\r\n\r\n  filterResults.passed = passed.invertedFilters && passed.regularFilters\r\n  return filterResults\r\n}\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { changePage } from 'js/actions/index-actions'\r\nimport styled from 'styled-components'\r\nimport pages from 'js/constants/pages'\r\nimport colors from 'js/constants/colors'\r\nimport embedProperties from 'js/constants/embed'\r\nimport PropTypes from 'prop-types'\r\nimport parser from '../../../utils/textParser'\r\nimport testFilters from '../Filters/util/filters'\r\nimport { isHiddenProperty } from 'js/constants/hiddenArticleProperties'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    defaultConfig: state.defaultConfig,\r\n    articleList: state.articleList,\r\n    guildId: state.guildId,\r\n    feedId: state.feedId,\r\n    subscribers: state.subscribers,\r\n    bot: state.bot\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setToThisPage: () => dispatch(changePage(pages.MESSAGE))\r\n  }\r\n}\r\n\r\nfunction numberToColour (number) {\r\n  const r = (number & 0xff0000) >> 16\r\n  const g = (number & 0x00ff00) >> 8\r\n  const b = (number & 0x0000ff)\r\n  return `rgb(${r},${g},${b})`\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* flex-direction: row; */\r\n  padding-top: 5px;\r\n  padding-bottom: 28px;\r\n`\r\nconst Username = styled.span`\r\n  font-weight: 500;\r\n  letter-spacing: 0;\r\n`\r\n\r\nconst UserInfo = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 21px;\r\n  margin-bottom: 3px;\r\n  > div {\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 50%;\r\n    margin-top: -2px;\r\n    /* margin-left: 20px; */\r\n    margin-right: 20px;\r\n    margin-bottom: 20px;\r\n    background-image: ${props => `url('${props.avatar}')`};\r\n    background-size: 100%;\r\n  }\r\n  > h2 {\r\n    color: white;\r\n    font-size: 1.1rem;\r\n    margin: 0;\r\n  }\r\n`\r\n\r\nconst Content = styled.div`\r\n  margin-top: 0.5em;\r\n  margin-left: 60px;\r\n  margin-right: 10px;\r\n  color: #dcddde;\r\n  word-break: break-word;\r\n  overflow-x: auto;\r\n`\r\n\r\nconst Embed = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  /* max-width: 426px; */\r\n  margin-top: 8px;\r\n  margin-bottom: 5px;\r\n`\r\n// ${props => props.appeaseImage ? '426px' : '520px'};\r\nconst Pill = styled.div`\r\n  display: block;\r\n  border-top-left-radius: 3px;\r\n  border-bottom-left-radius: 3px;\r\n  width: 4px;\r\n  background-color: ${props => props.color != null ? numberToColour(props.color) : '#4f545c'};\r\n`\r\nconst NonPill = styled.div`\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  background-color: rgba(46,48,54,.3);\r\n  border-bottom-right-radius: 3px;\r\n  border-top-right-radius: 3px;\r\n`\r\n\r\nconst BodyWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  max-width: ${props => props.appeaseImage ? '400px' : '516px'};\r\n  transition: max-width 0.5s;\r\n`\r\n\r\nconst Author = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  color: white;\r\n  margin-bottom: 4px;\r\n  word-break: break-all;\r\n  img {\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 50%;\r\n    margin-right: 8px;\r\n  }\r\n  a {\r\n    color: white;\r\n    &:hover {\r\n      color: white;\r\n    }\r\n  }\r\n`\r\n\r\nconst Title = styled.a`\r\n  font-weight: 500;\r\n  word-break: break-all;\r\n`\r\n\r\nconst Description = styled.div`\r\n  margin-top: 4px;\r\n  color: hsla(0,0%,100%,.6);\r\n`\r\n\r\nconst Image = styled.a`\r\n  display: block;\r\n  margin-top: 8px;\r\n  img {\r\n    max-width: 400px;\r\n  }\r\n`\r\n\r\nconst Thumbnail = styled.a`\r\n  display: block;\r\n  margin-left: 16px;\r\n  img {\r\n    max-width: 80px;\r\n  }\r\n`\r\n\r\nconst Footer = styled.div`\r\n  display: flex;\r\n  margin-top: 8px;\r\n  font-size: 0.75rem;\r\n  align-items: center;\r\n  color: ${colors.discord.text};\r\n  font-weight: 500;\r\n  word-break: break-all;\r\n  img {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 8px;\r\n    border-radius: 50%;\r\n\r\n  }\r\n`\r\n\r\nconst BotTag = styled.span`\r\n  background-color: rgb(114,117,217);\r\n  border-radius: 3px;\r\n  margin-left: 4.8px;\r\n  padding: 1px 2px;\r\n  text-transform: uppercase;\r\n  font-size: 0.7em;\r\n  font-weight: 500;\r\n  line-height: 1.3;\r\n`\r\n\r\nconst TimeTag = styled.span`\r\n  color: hsla(0,0%,100%,0.2);\r\n  font-size: 0.8rem;\r\n  font-weight: 400;\r\n  margin-left: 0.3rem;\r\n`\r\n\r\nconst EmbedFields = styled.div`\r\n  margin-top: 4px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n`\r\n\r\nconst EmbedField = styled.div`\r\n  margin-top: 4px;\r\n  flex: ${props => props.inline ? 1 : 0};\r\n  min-width: ${props => props.inline ? '150px' : '100%'};\r\n  ${props => props.inline ? 'flex-basis: auto' : ''};\r\n`\r\n\r\nconst EmbedFieldTitle = styled.div`\r\n  color: white;\r\n  font-size: 0.875rem;\r\n  font-weight: 500;\r\n  margin-bottom: 4px;\r\n`\r\n\r\nconst EmbedFieldValue = styled.div`\r\n  color: hsla(0, 0%, 100%, .6);\r\n  font-size: 0.875rem;\r\n  font-weight: 400;\r\n  white-space: pre-line;\r\n`\r\n\r\nclass Message extends Component {\r\n  convertKeywords (word) {\r\n    const { articleId, articleList, guildId, feedId, subscribers } = this.props\r\n    const article = articleList[articleId]\r\n\r\n    if (word.length === 0) return word\r\n    let content = word\r\n    for (const placeholderName in article) {\r\n      if (isHiddenProperty(placeholderName)) continue\r\n      if (placeholderName === 'subscriptions') continue\r\n      const sanitizedPlaceholderName = `{${placeholderName.replace('regex:', '')}}`\r\n      // console.log('replacing', sanitizedPlaceholderName, 'with', article[placeholderName])\r\n      content = content.replace(sanitizedPlaceholderName, article[placeholderName])\r\n    }\r\n    // Do not replace it with article.subscriptions since it may be outdated after updating subscriptions from the subscriptions page. It will not be updated until another article fetch has occurred.\r\n    if (content.includes('{subscriptions}') && feedId && guildId) {\r\n      const feedSubscribers = []\r\n      const thisSubscribers = subscribers[guildId][feedId]\r\n      for (const id in thisSubscribers) {\r\n        const subscriber = thisSubscribers[id]\r\n        const hasFilters = subscriber.filters && typeof subscriber.filters === 'object' && Object.keys(subscriber.filters).length > 0\r\n        if (!hasFilters) feedSubscribers.push(`<@${id}> `)\r\n        else if (article && testFilters(subscriber.filters, article).passed) feedSubscribers.push(`<@${id}>`)\r\n      }\r\n      content = content.replace('{subscriptions}', feedSubscribers.length > 0 ? feedSubscribers.join(' ') : '')\r\n    }\r\n    return content\r\n  }\r\n\r\n  render () {\r\n    const { embeds, message, articleId, articleList, bot, defaultConfig } = this.props\r\n    const embedElements = []\r\n    const article = articleList[articleId]\r\n    let hasEmbeds = false\r\n\r\n    for (let i = 0; i < embeds.length; ++i) {\r\n      const properties = embeds[i]\r\n      const parsedProperties = {}\r\n      let populatedEmbed = false\r\n      for (const propertyName in embedProperties) {\r\n        const propName = embedProperties[propertyName]\r\n        if (properties[propName] === undefined) continue\r\n        parsedProperties[propName] = article && propName !== 'color' ? this.convertKeywords(properties[propName]) : properties[propName] // color is a number\r\n        populatedEmbed = populatedEmbed || !!properties[propName]\r\n      }\r\n      const fields = properties.fields\r\n      const fieldElements = []\r\n      if (fields) {\r\n        for (let i = 0; i < fields.length; ++i) {\r\n          const field = fields[i]\r\n          if (!field.title || !field.value) continue\r\n          if (!populatedEmbed) populatedEmbed = true\r\n          fieldElements.push(\r\n            <EmbedField key={`field${i}`} inline={field.inline}>\r\n              <EmbedFieldTitle>{parser.parseEmbedTitle(this.convertKeywords(field.title))}</EmbedFieldTitle>\r\n              <EmbedFieldValue>{parser.parseAllowLinks(this.convertKeywords(field.value))}</EmbedFieldValue>\r\n            </EmbedField>\r\n          )\r\n        }\r\n      }\r\n      if (populatedEmbed) {\r\n        if (!hasEmbeds) hasEmbeds = true\r\n        embedElements.push(\r\n          <Embed key={`embed_preview${i}`}>\r\n            <Pill color={properties[embedProperties.color]} />\r\n            <NonPill>\r\n              <BodyWrapper appeaseImage={!!(properties[embedProperties.imageUrl] || properties[embedProperties.imageUrlCamelCase])}>\r\n                <div>\r\n                  { properties[embedProperties.authorName] || properties[embedProperties.authorNameCamelCase]\r\n                    ? <Author>\r\n                      { properties[embedProperties.authorIconUrl] || properties[embedProperties.authorIconUrlCamelCase] ? <img alt='Embed Author Icon' src={parsedProperties[embedProperties.authorIconUrl] || parsedProperties[embedProperties.authorIconUrlCamelCase]} /> : null }\r\n                      { parsedProperties[embedProperties.authorUrl] || parsedProperties[embedProperties.authorUrlCamelCase] ? <a target='_blank' rel='noopener noreferrer' href={parsedProperties[embedProperties.authorUrl] || parsedProperties[embedProperties.authorUrlCamelCase]}>{parsedProperties[embedProperties.authorName] || parsedProperties[embedProperties.authorNameCamelCase]}</a> : parsedProperties[embedProperties.authorName] || parsedProperties[embedProperties.authorNameCamelCase] }\r\n                    </Author>\r\n                    : undefined }\r\n\r\n                  <Title as={properties[embedProperties.url] ? 'a' : 'span'} href={parsedProperties[embedProperties.url]} target='_blank' >\r\n                    {parser.parseEmbedTitle(parsedProperties[embedProperties.title])}\r\n                  </Title>\r\n                  <Description>{parser.parseAllowLinks(parsedProperties[embedProperties.description])}</Description>\r\n                  { fieldElements.length > 0\r\n                    ? <EmbedFields>{fieldElements}</EmbedFields>\r\n                    : [] }\r\n                </div>\r\n                { properties[embedProperties.thumbnailUrl] || properties[embedProperties.thumbnailUrlCamelCase]\r\n                  ? <Thumbnail href={parsedProperties[embedProperties.thumbnailUrl] || parsedProperties[embedProperties.thumbnailUrlCamelCase]} target='_blank'>\r\n                    <img src={parsedProperties[embedProperties.thumbnailUrl] || parsedProperties[embedProperties.thumbnailUrlCamelCase]} alt='Embed Thumbnail' />\r\n                  </Thumbnail>\r\n                  : undefined }\r\n              </BodyWrapper>\r\n              { properties[embedProperties.imageUrl] || properties[embedProperties.imageUrlCamelCase]\r\n                ? <Image href={parsedProperties[embedProperties.imageUrl] || parsedProperties[embedProperties.imageUrlCamelCase]} target='_blank' >\r\n                  <img src={parsedProperties[embedProperties.imageUrl] || parsedProperties[embedProperties.imageUrlCamelCase]} alt='Embed MainImage' />\r\n                </Image>\r\n                : undefined }\r\n\r\n              { properties[embedProperties.footerText] || properties[embedProperties.footerTextCamelCase] || (parsedProperties[embedProperties.timestamp] && parsedProperties[embedProperties.timestamp] !== 'none')\r\n                ? <Footer>\r\n                  { parsedProperties[embedProperties.footerIconUrl] || parsedProperties[embedProperties.footerIconUrlCamelCase] ? <img src={parsedProperties[embedProperties.footerIconUrl] || parsedProperties[embedProperties.footerIconUrlCamelCase]} alt='Embed Footer Icon' /> : null }\r\n                  {properties[embedProperties.footerText] || properties[embedProperties.footerTextCamelCase]}{(parsedProperties[embedProperties.timestamp] && parsedProperties[embedProperties.timestamp] !== 'none') ? `${parsedProperties[embedProperties.footerText] || parsedProperties[embedProperties.footerTextCamelCase] ? '  ' : ''}[${parsedProperties[embedProperties.timestamp] === 'article' ? 'ARTICLE TIMESTAMP' : 'NOW TIMESTAMP'}]` : '' }\r\n                </Footer>\r\n                : undefined }\r\n            </NonPill>\r\n          </Embed>\r\n        )\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Wrapper>\r\n        <UserInfo avatar={bot ? bot.displayAvatarURL : ''} >\r\n          <div />\r\n          <h2>\r\n            <Username>{bot ? bot.username : 'Unknown'}</Username>\r\n            <BotTag>BOT</BotTag>\r\n            <TimeTag>Today at 12:00 AM</TimeTag>\r\n          </h2>\r\n        </UserInfo>\r\n        <Content>\r\n          { (message || defaultConfig.defaultMessage) === '{empty}' && hasEmbeds ? '' : article ? parser.parse(this.convertKeywords(message || defaultConfig.defaultMessage || ''), true, {}, parser.jumboify) : parser.parse(message || defaultConfig.defaultMessage || '', true, {}, parser.jumboify) }\r\n          {embedElements}\r\n        </Content>\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nMessage.propTypes = {\r\n  embeds: PropTypes.array,\r\n  message: PropTypes.string,\r\n  articleId: PropTypes.number,\r\n  articleList: PropTypes.array,\r\n  guildId: PropTypes.string,\r\n  feedId: PropTypes.string,\r\n  subscribers: PropTypes.object,\r\n  bot: PropTypes.object,\r\n  defaultConfig: PropTypes.object\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Message))\r\n","import React from 'react'\r\nimport { Divider, Loader, Dropdown, ButtonGroup, Button, Input } from 'semantic-ui-react'\r\nimport styled from 'styled-components'\r\nimport colors from 'js/constants/colors'\r\nimport Wrapper from 'js/components/utils/Wrapper'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport parser from '../../../utils/textParser'\r\nimport modal from 'js/components/utils/modal'\r\nimport SectionSubtitleDescription from 'js/components/utils/SectionSubtitleDescription'\r\nimport posed from 'react-pose';\r\nimport SectionSubtitle from 'js/components/utils/SectionSubtitle'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport { isHiddenProperty } from 'js/constants/hiddenArticleProperties'\r\n\r\n const mapStateToProps = state => {\r\n  return {\r\n    feedId: state.feedId,\r\n    articleList: state.articleList,\r\n    articlesError: state.articlesError,\r\n    articlesFetching: state.articlesFetching\r\n  }\r\n}\r\n\r\n// const PlaceholdersContainer = styled.div`\r\n//   scrollbar-width: thin;\r\n//   color: ${colors.discord.text};\r\n//   height: 350px;\r\n//   min-height: 350px;\r\n//   resize: vertical;\r\n//   overflow: auto;\r\n//   background-color: rgba(32, 34, 37, 0.6);\r\n//   border-color: #202225;\r\n//   border-style: solid;\r\n//   border-width: 1px;\r\n//   border-radius: 5px;\r\n//   padding-top: 1em;\r\n//   padding-bottom: 1em;\r\n//   padding-left: 1em;\r\n//   padding-right: 1em;\r\n//   width: 100%;\r\n//   p {\r\n//     word-break: break-word;\r\n//   }\r\n// `\r\n\r\nconst ArticleBox = styled.div`\r\n  margin-bottom: 1.5em;\r\n  > .ui.dropdown:first-child {\r\n    margin-bottom: 1em;\r\n  }\r\n  > div > .ui.dropdown {\r\n    margin-bottom: 0;\r\n    margin-right: 1em;\r\n  }\r\n`\r\n\r\nconst PlaceholdersContainerStyles = styled(Wrapper)`\r\n  margin-top: 1em;\r\n  scrollbar-width: thin;\r\n  color: ${colors.discord.text};\r\n  resize: vertical;\r\n  /* overflow: auto; */\r\n  /* background-color: rgba(32, 34, 37, 0.6); */\r\n  padding: 0;\r\n  border-color: #202225;\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  border-radius: 5px;\r\n  width: 100%;\r\n  p {\r\n    word-break: break-word;\r\n  }\r\n`\r\n\r\nconst PlaceholdersContainerInner = styled.div`\r\n  padding-top: 1em;\r\n  padding-bottom: 1em;\r\n  padding-left: 1em;\r\n  padding-right: 1em;\r\n  height: 100%;\r\n  ${props => props.small\r\n    ? `display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n      text-align: center;`\r\n    : ''}\r\n`\r\n\r\nconst PlaceholdersContainer = posed(PlaceholdersContainerStyles)({\r\n  small: { minHeight: 150, height: 150 },\r\n  big: { minHeight: 350, height: 350 }\r\n})\r\n\r\nconst PlaceholderImage = styled.div`\r\n  > div {\r\n    img {\r\n      cursor: pointer;\r\n      display: block;\r\n      width: 100%;\r\n      height: auto;\r\n      margin-top: 1em;\r\n    }\r\n    @media only screen and (min-width: 450px) {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      img {\r\n        margin-top: 0;\r\n        padding-left: 1em;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst PlaceholderNameContainer = styled.div`\r\n  display: flex;\r\n  margin-bottom: 0.5em;\r\n  > p {\r\n    margin-right: 1em;\r\n    font-family: monospace;\r\n    font-weight: bold;\r\n    margin-bottom: 0;\r\n  }\r\n`\r\n\r\nconst RegexTag = styled.span`\r\n  display: inline-block;\r\n  background-color: ${colors.discord.greyple};\r\n  padding: 1px 2px;\r\n  border-radius: 4px;\r\n  text-transform: uppercase;\r\n  font-size: 0.7em;\r\n  color: black;\r\n`\r\n\r\nconst DropdownWithButtons = styled.div`\r\n  display: flex;\r\n`\r\n\r\nclass Placeholders extends React.Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      articleId: 0,\r\n      showArticleBy: '',\r\n      searchPlaceholder: ''\r\n    }\r\n  }\r\n\r\n  setArticleId = articleId => {\r\n    this.setState({ articleId })\r\n    this.props.updateArticleId(articleId)\r\n  }\r\n\r\n  onClickPreviousArticle = () => {\r\n    if (this.state.articleId === 0) return\r\n    this.setArticleId(this.state.articleId - 1)\r\n  }\r\n\r\n  onClickNextArticle = () => {\r\n    if (this.state.articleId === this.props.articleList.length - 1) return\r\n    this.setArticleId(this.state.articleId + 1)\r\n  }\r\n\r\n  render () {\r\n    const { articleList, articlesError, articlesFetching } = this.props\r\n    const placeholderElements = []\r\n    const article = articleList[this.state.articleId]\r\n\r\n    // Show Article By\r\n    let showArticleBy = this.state.showArticleBy\r\n    const seenPlaceholders = {}\r\n    for (const article of articleList) {\r\n      for (const placeholder in article) {\r\n        if (placeholder.startsWith('regex:') || isHiddenProperty(placeholder) || placeholder.startsWith('raw:')) continue\r\n        if (article[placeholder]) seenPlaceholders[placeholder] = true\r\n      }\r\n    }\r\n\r\n    const showArticleByOptions = Object.keys(seenPlaceholders).map(placeholder => {\r\n      if (!showArticleBy && placeholder === 'title') showArticleBy = placeholder\r\n      return { text: placeholder, value: placeholder }\r\n    })\r\n    if (!showArticleBy && showArticleByOptions.length > 0) showArticleBy = showArticleByOptions[0].value\r\n\r\n    // Articles\r\n    const articleDropdownOptions = articleList.map((placeholders, index) => {\r\n      return { text: placeholders[showArticleBy], value: index }\r\n    })\r\n\r\n    // List of placeholders\r\n    if (article) {\r\n      for (const placeholderName in article) {\r\n        const content = article[placeholderName]\r\n        if (!content || placeholderName.startsWith('raw:') || placeholderName.startsWith('_')) continue\r\n        const phname = placeholderName.replace('regex:', '') // The {regex: in the beginning is for internal reference only\r\n        if ((this.state.searchPlaceholder && !phname.includes(this.state.searchPlaceholder)) || phname.startsWith('_')) continue\r\n        placeholderElements.push(\r\n          <PlaceholderImage key={`${placeholderName}`}>\r\n            <div>\r\n              <div>\r\n                <PlaceholderNameContainer>\r\n                  <p className='preview-placeholder-name'>{`{${phname}}`}</p>\r\n                  { placeholderName.startsWith('regex') ? <RegexTag>Regex</RegexTag> : null }\r\n                </PlaceholderNameContainer>\r\n                {/* { phname === 'link' || phname.includes('image') || phname.includes('anchor')\r\n                  ? <a href={content} target='_blank' rel='noopener noreferrer'><p>{content}</p></a>\r\n                  :  */}\r\n                  <p>{parser.parse(content)}</p>\r\n                {/* } */}\r\n              </div>\r\n              { phname.includes('image') ? <div><img onClick={e => modal.showImage(content, phname)} alt={phname} src={content} /></div> : null }\r\n            </div>\r\n            <Divider />\r\n          </PlaceholderImage>\r\n        )\r\n      }\r\n    }\r\n\r\n    const disabledDropdown = !!(articlesFetching || !!articlesError)\r\n    const smallPlaceholderContainer = articlesFetching || articlesError || (!articlesFetching && placeholderElements.length === 0)\r\n    return (\r\n      <div>\r\n        <SectionSubtitle>Article Selection</SectionSubtitle>\r\n        <ArticleBox>\r\n          <Dropdown selection fluid options={showArticleByOptions} value={showArticleBy} onChange={(e, data) => this.setState({ showArticleBy: data.value })} disabled={disabledDropdown} loading={articlesFetching} placeholder={articleDropdownOptions.length === 0 && !articlesFetching ? 'No articles in feed' : 'Show article by...'} />\r\n          <DropdownWithButtons>\r\n            <Dropdown search selection fluid options={articleDropdownOptions} value={this.state.articleId} onChange={(e, data) => this.setArticleId(data.value)} disabled={disabledDropdown} loading={articlesFetching} placeholder={articleDropdownOptions.length === 0 && !articlesFetching ? 'No articles in feed' : 'Select an article'} />\r\n            <ButtonGroup>\r\n              <Button icon='arrow up' onClick={this.onClickPreviousArticle} disabled={this.state.articleId === 0 || articleList.length === 0} />\r\n              <Button icon='arrow down' onClick={this.onClickNextArticle} disabled={this.state.articleId === articleList.length - 1 || articleList.length === 0} />\r\n            </ButtonGroup>\r\n          </DropdownWithButtons>\r\n        </ArticleBox>\r\n        <SectionSubtitle>Placeholders</SectionSubtitle>\r\n        \r\n        <Input fluid icon='search' iconPosition='left' placeholder='Placeholder name' onChange={e => this.setState({ searchPlaceholder: e.target.value })} value={this.state.searchPlaceholder} />\r\n        <PlaceholdersContainer pose={smallPlaceholderContainer ? 'small' : 'big'}>\r\n        <Scrollbars>\r\n          <PlaceholdersContainerInner small={smallPlaceholderContainer}>\r\n          {articlesFetching\r\n            ? <Loader inverted size='big' active />\r\n            : articlesError\r\n              ? <div>\r\n                <SectionSubtitleDescription style={{ color: colors.discord.red }}>Failed to Load Articles</SectionSubtitleDescription>\r\n                <SectionSubtitleDescription>{articlesError || 'Unknown Error'}</SectionSubtitleDescription>\r\n              </div>\r\n              : placeholderElements.length === 0\r\n                ? <SectionSubtitleDescription>No articles in feed</SectionSubtitleDescription>\r\n                : placeholderElements}\r\n              </PlaceholdersContainerInner>\r\n        </Scrollbars>\r\n        </PlaceholdersContainer>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nPlaceholders.propTypes = {\r\n  articleList: PropTypes.array,\r\n  articlesError: PropTypes.string,\r\n  articlesFetching: PropTypes.bool\r\n}\r\n\r\nexport default connect(mapStateToProps)(Placeholders)\r\n","import React, { Component } from 'react'\r\nimport { withRouter, Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { changePage } from 'js/actions/index-actions'\r\nimport { Button, Divider, Sticky, ButtonGroup } from 'semantic-ui-react'\r\nimport styled from 'styled-components'\r\nimport pages from 'js/constants/pages'\r\nimport MessageSettings from './MessageSettings'\r\nimport EmbedSettings from './EmbedSettings/index'\r\nimport DiscordMessage from './DiscordMessage'\r\nimport SectionTitle from 'js/components/utils/SectionTitle'\r\nimport PageHeader from 'js/components/utils/PageHeader'\r\nimport Placeholders from './Placeholders'\r\nimport embedProperties from 'js/constants/embed'\r\nimport PropTypes from 'prop-types'\r\nimport colors from 'js/constants/colors'\r\nimport { Scrollbars } from 'react-custom-scrollbars'\r\n\r\nconst MAX_VIEWPORT_WIDTH_STICKY = 1850\r\nconst EMBED_PROPERTY_LENGTHS = {\r\n  [embedProperties.title]: 256,\r\n  [embedProperties.description]: 2048,\r\n  [embedProperties.footerText]: 2048,\r\n  [embedProperties.footerTextCamelCase]: 2048,\r\n  [embedProperties.authorName]: 256,\r\n  [embedProperties.authorNameCamelCase]: 256,\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    defaultConfig: state.defaultConfig,\r\n    guildId: state.guildId,\r\n    feedId: state.feedId,\r\n    guilds: state.guilds,\r\n    feeds: state.feeds,\r\n    messages: state.messages,\r\n    subscribers: state.subscribers,\r\n    embeds: state.embeds\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setToThisPage: () => dispatch(changePage(pages.MESSAGE)),\r\n    toDashboard: () => dispatch(changePage(pages.DASHBOARD))\r\n  }\r\n}\r\n\r\nconst FullArea = styled.div`\r\n  display: flex;\r\n`\r\n\r\nconst SettingsArea = styled.div`\r\n  padding: 20px;\r\n  @media only screen and (min-width: 930px) {\r\n    padding: 55px;\r\n  }\r\n  width: 100%;\r\n  max-width: 840px;\r\n`\r\n\r\nconst PreviewArea = styled.div`\r\n  /* display: flex; */\r\n  display: inline-block;\r\n  align-items: center;\r\n  /* height: 100%; */\r\n  width: 700px;\r\n  padding: 4em 0;\r\n  flex: 1;\r\n  /* margin-top: 7em; */\r\n  justify-items: center;\r\n`\r\n\r\nconst PreviewHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  > div:first-child {\r\n    margin-right: 1em;\r\n    padding-bottom: 0;\r\n  }\r\n`\r\n\r\nclass Message extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      articleId: 0,\r\n      window: {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n      },\r\n      embedsOriginal: [],\r\n      embeds: [],\r\n      messageOriginal: '',\r\n      message: '',\r\n      previewNew: true\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    this.props.setToThisPage()\r\n    window.addEventListener('resize', this.updateWindowDimensions)\r\n    this.populateComponent()\r\n  }\r\n\r\n  updateWindowDimensions = () => {\r\n    const newState = { window: { width: window.innerWidth, height: window.innerHeight } }\r\n    this.setState(newState)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    window.removeEventListener('resize', this.updateWindowDimensions)\r\n  }\r\n\r\n  componentDidUpdate (prevProps, prevState) {\r\n    // Called after apply() since changes are received by the websocket\r\n    const { feedId, feeds, guildId, messages, embeds } = this.props\r\n\r\n    if (prevProps.feedId !== feedId) return this.populateComponent()\r\n    const prevFeed = prevProps.feeds[guildId] ? prevProps.feeds[guildId][feedId] : null\r\n    const newFeed = feeds[guildId] ? feeds[guildId][feedId] : null\r\n    if (prevFeed && newFeed) {\r\n      const newState = {}\r\n      // Check the message\r\n      if (messages[guildId][feedId] !== prevProps.messages[guildId][feedId]) {\r\n        newState.messageOriginal = messages[guildId][feedId] || ''\r\n        newState.message = messages[guildId][feedId] || ''\r\n      }\r\n\r\n      // Check the embeds\r\n      const prevEmbeds = prevProps.embeds[guildId][feedId] || null\r\n      const newEmbeds = embeds[guildId][feedId] || null\r\n      if (prevEmbeds && !newEmbeds) {\r\n        newState.embeds = []\r\n        newState.embedsOriginal = []\r\n      } else if ((!prevEmbeds && newEmbeds) || (prevEmbeds && newEmbeds && JSON.stringify(prevEmbeds) !== JSON.stringify(newEmbeds))) {\r\n        newState.embeds = newEmbeds\r\n        newState.embedsOriginal = newEmbeds\r\n      }\r\n\r\n      // Finally update if necessary\r\n      if (Object.keys(newState).length > 0) this.setState(newState)\r\n    }\r\n  }\r\n\r\n  handleContextRef = contextRef => this.setState({ contextRef })\r\n\r\n  populateComponent () {\r\n    const { guildId, feedId, feeds, embeds, messages } = this.props\r\n    const guildFeeds = feeds[guildId]\r\n    if (!guildFeeds) return\r\n    this.setState({\r\n      message: messages[guildId][feedId] || '',\r\n      messageOriginal: messages[guildId][feedId] || '',\r\n      embeds: embeds[guildId][feedId] || [],\r\n      embedsOriginal: embeds[guildId][feedId] || []\r\n    })\r\n  }\r\n\r\n  onEmbedPropertyUpdate = (embedIndex, property, value) => {\r\n    if (EMBED_PROPERTY_LENGTHS[property] && value.length >= EMBED_PROPERTY_LENGTHS[property]) return\r\n    const embeds = [ ...this.state.embeds ]\r\n    if (!embeds[embedIndex]) {\r\n      if (embedIndex > embeds.length) throw new Error('Out of bounds index, requires more than 1 push to reach')\r\n      embeds.push({ [property]: value })\r\n    } else {\r\n      const embed = { ...embeds[embedIndex] }\r\n      embed[property] = value\r\n      embeds[embedIndex] = embed\r\n    }\r\n    this.setState({ embeds })\r\n  }\r\n\r\n  resetEmbedProperties = () => {\r\n    this.setState({ embeds: JSON.parse(JSON.stringify(this.state.embedsOriginal)) })\r\n  }\r\n\r\n  onMessageUpdate = message => {\r\n    this.setState({ message: message })\r\n  }\r\n\r\n  render () {\r\n    const { feedId, subscribers } = this.props\r\n    if (!feedId) {\r\n      this.props.toDashboard()\r\n      return <Redirect to='/' />\r\n    }\r\n    const messageToDisplay = this.state.message == null ? this.state.messageOriginal : this.state.message\r\n    let hasSubscribers = false\r\n    for (const guildId in subscribers) {\r\n      if (hasSubscribers) continue\r\n      const guildSubscribers = subscribers[guildId]\r\n      const feedSubscribers = guildSubscribers[feedId]\r\n      if (feedSubscribers && Object.keys(feedSubscribers).length > 0) hasSubscribers = true\r\n    }\r\n\r\n    return (\r\n      <FullArea>\r\n        <SettingsArea ref={this.handleContextRef}>\r\n        {/* <div style ={{overflowX: 'auto', height: '200px', background: 'green', whiteSpace: 'nowrap'}}>\r\n          <div style={{display: 'inline-block', height: '100px', background: 'orange', width: '100px', flex: 0, marginRight: '30px'}}></div>\r\n          <div style={{display: 'inline-block', height: '100px', background: 'orange', width: '100px', flex: 0, marginRight: '30px'}}></div>\r\n          <div style={{display: 'inline-block', height: '100px', background: 'orange', width: '100px', flex: 0, marginRight: '30px'}}></div>\r\n          <div style={{display: 'inline-block', height: '100px', background: 'orange', width: '100px', flex: 0, marginRight: '30px'}}></div>\r\n          <div style={{display: 'inline-block', height: '100px', background: 'orange', width: '100px', flex: 0, marginRight: '30px'}}></div>\r\n          <div style={{display: 'inline-block', height: '100px', background: 'orange', width: '100px', flex: 0, marginRight: '30px'}}></div>\r\n          <div style={{display: 'inline-block', height: '100px', background: 'orange', width: '100px', flex: 0, marginRight: '30px'}}></div>\r\n          <div style={{display: 'inline-block', height: '100px', background: 'orange', width: '100px', flex: 0, marginRight: '30px'}}></div>\r\n        </div> */}\r\n          <PageHeader >\r\n            <h2>Message/Embed Customization</h2>\r\n            <p>Set a custom message and/or embed for your feed.</p>\r\n          </PageHeader>\r\n          <Divider />\r\n          <SectionTitle heading='Placeholders' subheading='Below are the available placeholders for the selected article.' />\r\n          <Placeholders updateArticleId={articleId => this.setState({ articleId })} />\r\n          <Divider />\r\n          <SectionTitle heading='Message' subheading={\r\n            <span>\r\n              <span>Remember that you can use the placeholders listed above. A special placeholder, {`{empty}`} can be used to create an empty message, but only if an embed is used. Regular formatting such as bold and etc. is also available.</span>\r\n              { !hasSubscribers\r\n                ? null\r\n                : messageToDisplay === '' || messageToDisplay.includes('{subscriptions}') ? '' : <span style={{ color: colors.discord.yellow }}> Note that because the placeholder {`{subscriptions}`} is not in your message, feed subscribers will not be mentioned.</span> }\r\n            </span>\r\n\r\n            } />\r\n          <MessageSettings messageOriginal={this.state.messageOriginal} onUpdate={this.onMessageUpdate} />\r\n          <Divider />\r\n          <EmbedSettings onUpdate={this.onEmbedPropertyUpdate} embeds={this.state.embeds} embedsOriginal={this.state.embedsOriginal} resetEmbedProperties={this.resetEmbedProperties} />\r\n          <Divider />\r\n          {this.state.window.width >= MAX_VIEWPORT_WIDTH_STICKY\r\n          ? null\r\n          : <div>\r\n              <div>\r\n                <SectionTitle heading='Preview' subheading='I can preview my settings right here?! Wow!' />\r\n              </div>\r\n              <ButtonGroup fluid>\r\n                <Button content='Old' onClick={e => this.setState({ previewNew: false })} disabled={!this.state.previewNew} />\r\n                <Button content='New' onClick={e => this.setState({ previewNew: true })} disabled={this.state.previewNew} />\r\n              </ButtonGroup>\r\n              <div style={{ marginTop: '20px' }}>\r\n                <DiscordMessage embeds={this.state.previewNew ? this.state.embeds : this.state.embedsOriginal} message={this.state.previewNew ? messageToDisplay : this.state.messageOriginal} articleId={this.state.articleId} />\r\n              </div>\r\n              <Divider />\r\n            </div>\r\n          }\r\n          {/* <div>\r\n            <div>\r\n              <SectionTitle>\r\n                <h3>Preview</h3>\r\n              </SectionTitle>\r\n            </div>\r\n            <DiscordMessage embeds={this.state.embeds} message={messageToDisplay} />\r\n            <Divider />\r\n          </div> */}\r\n\r\n\r\n        </SettingsArea>\r\n\r\n        {this.state.window.width < MAX_VIEWPORT_WIDTH_STICKY\r\n        ? null\r\n        : <Sticky context={this.state.contextRef} offset={55}>\r\n            <PreviewArea stickied>\r\n              <PreviewHeader>\r\n                <PageHeader heading='Preview' />\r\n              </PreviewHeader>\r\n              <div  style={{ marginTop: '1em' }}>\r\n                <ButtonGroup fluid>\r\n                  <Button content='Old' onClick={e => this.setState({ previewNew: false })} disabled={!this.state.previewNew} />\r\n                  <Button content='New' onClick={e => this.setState({ previewNew: true })} disabled={this.state.previewNew} />\r\n                </ButtonGroup>\r\n                </div>\r\n              <div style={{ height: this.state.window.height - 55 - 70 - 150, marginTop: '20px' }}> { /* 55 is the topbar, 70 is the margin/padding, 150 is the rest of the space to leave */ }\r\n                <Scrollbars>\r\n                  <DiscordMessage embeds={this.state.previewNew ? this.state.embeds : this.state.embedsOriginal} message={this.state.previewNew ? messageToDisplay : this.state.messageOriginal} articleId={this.state.articleId} />\r\n                </Scrollbars>\r\n              </div>\r\n            </PreviewArea>\r\n          </Sticky>\r\n        }\r\n      </FullArea>\r\n    )\r\n  }\r\n}\r\n\r\nMessage.propTypes = {\r\n  setToThisPage: PropTypes.func\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Message))\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport PaginatedTable from './PaginatedTable'\r\nimport { Dropdown, Loader } from 'semantic-ui-react'\r\nimport styled from 'styled-components'\r\nimport colors from 'js/constants/colors'\r\nimport SectionSubtitleDescription from 'js/components/utils/SectionSubtitleDescription'\r\nimport { isHiddenProperty } from 'js/constants/hiddenArticleProperties'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    feedId: state.feedId,\r\n    articleList: state.articleList,\r\n    articlesFetching: state.articlesFetching,\r\n    articlesError: state.articlesError\r\n  }\r\n}\r\n\r\nconst StyledRow = styled(PaginatedTable.Row)`\r\n  cursor: ${props => !props.clickable ? '' : 'pointer'};\r\n  &:hover {\r\n    cursor: ${props => !props.clickable ? '' : props.selected ? '' : 'pointer'};\r\n  }\r\n`\r\n\r\nconst LoadingBox = styled.div`\r\n  position: relative;\r\n  background-color: rgba(32,34,37,0.6);\r\n  border-radius: 3px;\r\n  padding: 3em;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 115px;\r\n  ${props => props.error ? `color: ${colors.discord.red} !important;` : ''}\r\n  text-align: center;\r\n`\r\n\r\nconst ErrorText = styled.div`\r\n  word-break: break-all;\r\n  text-align: center;\r\n`\r\n\r\nclass ArticleBrowser extends React.PureComponent {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      classificationsArticleProperty: '', \r\n      selectedArticleId: ''\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    this.autosetClassificationArticleProperty()\r\n  }\r\n\r\n  changeClassificationsArticleProperty = value => {\r\n    this.setState({ classificationsArticleProperty: value })\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    if (prevProps.feedId !== this.props.feedId || (this.props.articleList.length > 0 && !this.state.classificationsArticleProperty)) this.autosetClassificationArticleProperty()\r\n  }\r\n\r\n  autosetClassificationArticleProperty = () => {\r\n    const article = this.props.articleList[0]\r\n    if (!article) return\r\n    if (article.title && this.props.articleList[1] && this.props.articleList[1].title !== article.title) return this.setState({ classificationsArticleProperty: 'title' })\r\n    for (const placeholder in article) {\r\n      if (!placeholder) continue\r\n      if (this.props.articleList[1]) {\r\n        if (this.props.articleList[1][placeholder] !== article[placeholder]) return this.setState({ classificationsArticleProperty: placeholder }) // Try to select a placeholder where its content is different from other articles\r\n      } else return this.setState({ classificationsArticleProperty: placeholder })        \r\n    }\r\n\r\n    this.setState({ classificationsArticleProperty: Object.keys(article)[0] }) // If the above fails, just use the duplicated property\r\n  }\r\n\r\n  onClickArticle = (article, id) => {\r\n    const { onClickArticle } = this.props\r\n    if (!onClickArticle) return\r\n    onClickArticle(article)\r\n    this.setState({ selectedArticleId: id })\r\n  }\r\n\r\n  render () {\r\n    const { articleList, addColumns, positiveNegativeRowFunc, articlesFetching, articlesError } = this.props\r\n    if (articlesError) {\r\n      return (\r\n        <LoadingBox>\r\n          <ErrorText>\r\n            <SectionSubtitleDescription style={{ color: colors.discord.red }}>Failed to Load Articles</SectionSubtitleDescription>\r\n            <SectionSubtitleDescription>{articlesError || 'Unknwon Error'}</SectionSubtitleDescription>\r\n          </ErrorText>\r\n        </LoadingBox>\r\n      )\r\n    }\r\n\r\n    if (articlesFetching) {\r\n      return (\r\n        <LoadingBox>\r\n          <Loader inverted size='big' active />\r\n        </LoadingBox>\r\n      )\r\n    }\r\n\r\n    let addedHeaders = []\r\n    let addedCellFuncs = []\r\n    let collapsingCells = []\r\n    if (addColumns) {\r\n      for (const data of addColumns) {\r\n        if (!data.headers) throw new Error('Missing added column headers')\r\n        if (!data.cellFuncs) throw new Error('Missing added cell functions')\r\n        addedHeaders = addedHeaders.concat(data.headers)\r\n        addedCellFuncs = addedCellFuncs.concat(data.cellFuncs)\r\n        collapsingCells = collapsingCells.concat(data.collapsing)\r\n      }\r\n    }\r\n    const classificationsItems = articleList\r\n    const classificationsDropdownOptions = []\r\n    let added = {}\r\n    for (const article of articleList) {\r\n      for (const placeholder in article) {\r\n        if (added[placeholder]) continue\r\n        const isRegexPlaceholder = placeholder.includes('regex:')\r\n        const prettyPlaceholderName = placeholder.replace('regex:', '')\r\n        if (!isHiddenProperty(placeholder)) {\r\n          classificationsDropdownOptions.push({ text: isRegexPlaceholder ? `${prettyPlaceholderName} (regex)` : prettyPlaceholderName, value: placeholder })\r\n          added[placeholder] = true\r\n        }\r\n      }\r\n    }\r\n\r\n    const classificationsTableRowFunc = data => {\r\n      const positive = positiveNegativeRowFunc ? positiveNegativeRowFunc(data) : null\r\n      const id = data._id\r\n      return (\r\n      <StyledRow\r\n        clickable={(!!this.props.onClickArticle).toString()}\r\n        onClick={e => this.onClickArticle(data, id)}\r\n        active={this.state.selectedArticleId === id}\r\n        key={id}\r\n        positive={positive === true ? true : false}\r\n        negative={positive === false ? true : false}\r\n      >\r\n        { addedCellFuncs.map((func, i) => <PaginatedTable.Cell collapsing={collapsingCells[i]} key={`cfun${i}`}>{func(data)}</PaginatedTable.Cell>) }\r\n        <PaginatedTable.Cell>{data[this.state.classificationsArticleProperty]}</PaginatedTable.Cell>\r\n      </StyledRow>\r\n      )\r\n    }\r\n\r\n    const classificationsTableSearchFunc = (data, search) => data[this.state.classificationsArticleProperty] ? data[this.state.classificationsArticleProperty].toLowerCase().includes(search) : true\r\n\r\n    return (\r\n      <PaginatedTable.Table\r\n        compact\r\n        unstackable\r\n        maxPerPage={10}\r\n        items={classificationsItems}\r\n        allowActiveRows\r\n        headers={addedHeaders.concat([this.state.classificationsArticleProperty.replace('regex:', '')])}\r\n        itemFunc={classificationsTableRowFunc}\r\n        searchFunc={classificationsTableSearchFunc}\r\n        button={<Dropdown selection options={classificationsDropdownOptions} onChange={(e, data) => this.changeClassificationsArticleProperty(data.value)} value={this.state.classificationsArticleProperty}  />}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nArticleBrowser.propTypes = {\r\n  setToThisPage: PropTypes.func,\r\n  addColumns: PropTypes.array\r\n}\r\n\r\nexport default connect(mapStateToProps)(ArticleBrowser)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Input, Dropdown } from 'semantic-ui-react'\r\nimport axios from 'axios'\r\nimport toast from './toast'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst FlexRight = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`\r\n\r\nconst AddFilterContainer = styled.div`\r\n  > div:first-child {\r\n    display: flex;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    .ui.input {\r\n      margin-top: 1em;\r\n      flex-grow: 1;\r\n    }\r\n    @media only screen and (min-width: 540px) {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: space-between;\r\n      .ui.input {\r\n        margin-top: 0em;\r\n        margin-left: 1em;\r\n      }\r\n    }\r\n  }\r\n  .ui.button {\r\n    margin-top: 1.5em;\r\n  }\r\n\r\n`\r\n\r\nclass AddFilter extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      addFilterType: 'title',\r\n      addFilterTerm: '',\r\n      options: [{ text: 'Title', value: 'title' }, { text: 'Description', value: 'description' }, { text: 'Summary', value: 'summary' }, { text: 'Author', value: 'author' }, { text: 'Tags', value: 'tags' }]\r\n    }\r\n  }\r\n\r\n  addFilter = () => {\r\n    const { addApiUrl, csrfToken } = this.props\r\n    if (!this.state.addFilterType || !this.state.addFilterTerm) return\r\n    this.setState({ adding: true })\r\n    const payload = { type: this.state.addFilterType, term: this.state.addFilterTerm }\r\n    axios.put(addApiUrl, payload, { headers: { 'CSRF-Token': csrfToken } })\r\n    .then(() => {\r\n      toast.success(`Added new filter ${this.state.addFilterTerm} to ${this.state.addFilterType}`)\r\n      this.setState({ adding: false, addFilterTerm: '' })\r\n    }).catch(err => {\r\n      this.setState({ adding: false })\r\n      if (err.response && err.response.status === 304) return toast.success('No changes detected')\r\n      console.log(err.response || err.message)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to add filter<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  onCustomAddition = (e, { value }) => {\r\n    if (!value.startsWith('raw:')) return toast.error('Only custom filter types that begin with raw: are accepted!')\r\n    this.setState({ options: [{ text: value, value }, ...this.state.options] })\r\n  }\r\n\r\n  render () {\r\n\r\n    return (\r\n        <AddFilterContainer>\r\n          <div>\r\n            <Dropdown search allowAdditions selection value={this.state.addFilterType} options={this.state.options} onChange={(e, data) => this.setState({ addFilterType: data.value })} onAddItem={this.onCustomAddition} />\r\n            <Input placeholder='Enter a phrase' value={this.state.addFilterTerm} onChange={e => this.setState({ addFilterTerm: e.target.value })} onKeyPress={e => e.key === 'Enter' ? this.addFilter() : null} />\r\n          </div>\r\n          <FlexRight><Button disabled={this.state.adding || !this.state.addFilterType || !this.state.addFilterTerm} content='Add' color='green' onClick={this.addFilter} /></FlexRight>\r\n        </AddFilterContainer>\r\n    )\r\n  }\r\n}\r\n\r\nAddFilter.propTypes = {\r\n  addApiUrl: PropTypes.string\r\n}\r\n\r\nexport default connect(mapStateToProps)(AddFilter)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport PaginatedTable from './PaginatedTable'\r\nimport { Button, Icon } from 'semantic-ui-react'\r\nimport axios from 'axios'\r\nimport toast from './toast'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst filtersTableSearchFunc = (data, search) => data.type.toLowerCase().includes(search) || data.term.toLowerCase().includes(search)\r\n\r\nclass FiltersTable extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      addFilterType: 'title',\r\n      addFilterTerm: '',\r\n      classificationsArticleProperty: ''\r\n    }\r\n  }\r\n\r\n  removeFilter = (type, term) => {\r\n    const { removeApiUrl, csrfToken } = this.props\r\n    const payload = { type, term }\r\n    this.setState({ removing: payload })\r\n    axios.delete(removeApiUrl, { data: payload, headers: { 'CSRF-Token': csrfToken } })\r\n    .then(() => {\r\n      toast.success(`Removed filter ${term} from ${type}`)\r\n      this.setState({ removing: null })\r\n    }).catch(err => {\r\n      this.setState({ removing: null })\r\n      if (err.response && err.response.status === 304) return toast.success('No changes detected')\r\n      console.log(err.response || err.message)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to remove filter<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { filters } = this.props\r\n    const filtersArray = []\r\n    for (const filterType in filters) {\r\n      const filterTerms = filters[filterType]\r\n      for (const filterTerm of filterTerms) {\r\n        filtersArray.push({ type: filterType, term: filterTerm })\r\n      }\r\n    }\r\n\r\n    const filtersTableRowFunc = data => (\r\n      <PaginatedTable.Row key={data.term}>\r\n        <PaginatedTable.Cell>{data.term}</PaginatedTable.Cell>\r\n        <PaginatedTable.Cell collapsing>{data.type}</PaginatedTable.Cell>\r\n        <PaginatedTable.Cell collapsing>{data.term.startsWith('!') ? <Icon name='check' color='green' /> : null}</PaginatedTable.Cell>\r\n        <PaginatedTable.Cell collapsing>{data.term.startsWith('!~') || data.term.startsWith('~') ? <Icon name='check' color='green' /> : null}</PaginatedTable.Cell>\r\n        <PaginatedTable.Cell collapsing>\r\n          <Button fluid icon='trash' basic color='red' disabled={this.state.removing && this.state.removing.term === data.term && this.state.removing.type === data.type} onClick={e => this.removeFilter(data.type, data.term, e)} />\r\n        </PaginatedTable.Cell>\r\n      </PaginatedTable.Row>\r\n    )\r\n\r\n\r\n\r\n    return (\r\n        <PaginatedTable.Table\r\n          compact\r\n          unstackable\r\n          items={filtersArray}\r\n          headers={['Filter', 'Category', 'Negated?', 'Broad?', 'Delete']}\r\n          itemFunc={filtersTableRowFunc}\r\n          searchFunc={filtersTableSearchFunc}\r\n        />\r\n\r\n    )\r\n  }\r\n}\r\n\r\nFiltersTable.propTypes = {\r\n  removeApiUrl: PropTypes.string\r\n}\r\n\r\nexport default connect(mapStateToProps)(FiltersTable)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { changePage } from 'js/actions/index-actions'\r\nimport pages from 'js/constants/pages'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport PageHeader from 'js/components/utils/PageHeader'\r\nimport SectionTitle from 'js/components/utils/SectionTitle'\r\nimport SectionSubtitle from 'js/components/utils/SectionSubtitle'\r\nimport ArticleTable from '../../../utils/ArticleTable'\r\nimport AddFilter from '../../../utils/AddFilter'\r\nimport FiltersTable from '../../../utils/FiltersTable'\r\nimport toast from '../../../utils/toast'\r\nimport testFilters from './util/filters'\r\nimport { Button, Divider, Icon, Popup } from 'semantic-ui-react'\r\nimport axios from 'axios'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    filters: state.filters,\r\n    feedId: state.feedId,\r\n    guildId: state.guildId,\r\n    articleList: state.articleList,\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setToThisPage: () => dispatch(changePage(pages.FILTERS)),\r\n    toDashboard: () => dispatch(changePage(pages.DASHBOARD))\r\n  }\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  @media only screen and (min-width: 930px) {\r\n    padding: 55px;\r\n  }\r\n  width: 100%;\r\n  max-width: 840px;\r\n`\r\n\r\nconst FilterDetails = styled.div`\r\n  margin-top: 1em;\r\n`\r\n\r\nconst FilterExplanation = styled.div`\r\n  background-color: rgba(32,34,37,0.6);\r\n  border-radius: 3px;\r\n  padding: 1em;\r\n`\r\n\r\nconst FilterTagContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  > div {\r\n    margin-top: 1em;\r\n    > a {\r\n      color: white;\r\n      margin-right: 5px;\r\n      margin-bottom: 5px;\r\n      cursor: pointer;\r\n      &:last-child {\r\n        margin-right: 0;\r\n      }\r\n      &:hover {\r\n        text-decoration: none;\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst FilterTag = styled.a`\r\n  display: inline-block;\r\n  padding: 3px 5px;\r\n  color: white;\r\n  border-radius: 3px;\r\n  background-color: ${props => props.color};\r\n`\r\n\r\nclass Filters extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      selectedArticle: ''\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    this.props.setToThisPage()\r\n  }\r\n\r\n  removeFilter = (type, term) => {\r\n    const payload = { type, term }\r\n    const { csrfToken, guildId, feedId } = this.props\r\n    this.setState({ removing: payload })\r\n    axios.delete(`/api/guilds/${guildId}/feeds/${feedId}/filters`, { data: payload }, { headers: { 'CSRF-Token': csrfToken } })\r\n    .then(() => {\r\n      toast.success(`Removed filter ${term}`)\r\n      this.setState({ removing: null })\r\n    }).catch(err => {\r\n      this.setState({ removing: null })\r\n      if (err.response && err.response.status === 304) return toast.success('No changes detected')\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to remove filter<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n      console.log(err.response || err.message)\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { filters, guildId, feedId } = this.props\r\n    if (!feedId) {\r\n      this.props.toDashboard()\r\n      return <Redirect to='/' />\r\n    }\r\n    const feedFilters = filters[guildId] && filters[guildId][feedId] ? filters[guildId][feedId] : {}\r\n    const selectedArticleFilterResults = this.state.selectedArticle ? testFilters(feedFilters, this.state.selectedArticle) : null\r\n\r\n    const invertedFilterTags = []\r\n    const regularFilterTags = []\r\n    if (selectedArticleFilterResults) {\r\n      const matches = selectedArticleFilterResults.matches\r\n      for (const filterType in matches) {\r\n        const words = []\r\n        for (const filterWord of matches[filterType]) {\r\n          words.push(\r\n            <Popup\r\n              on='click'\r\n              inverted\r\n              hideOnScroll\r\n              trigger={<FilterTag color='rgba(67,181,129,.3)'>{filterWord}</FilterTag>}\r\n              content={<Button color='red' onClick={e => this.removeFilter(filterType, filterWord)} content='Delete' />}\r\n            />\r\n          )\r\n        }\r\n        regularFilterTags.push(<div><SectionSubtitle>{filterType}</SectionSubtitle>{words}</div>)\r\n      }\r\n      const invertedMatches = selectedArticleFilterResults.invertedMatches\r\n      for (const filterType in invertedMatches) {\r\n        const words = []\r\n        for (const filterWord of invertedMatches[filterType]) {\r\n          words.push(\r\n            <Popup\r\n              on='click'\r\n              inverted\r\n              hideOnScroll\r\n              trigger={<FilterTag color='rgba(100,31,31,.35)'>{filterWord}</FilterTag>}\r\n              content={<Button color='red' onClick={e => this.removeFilter(filterType, filterWord)} content='Delete' />}\r\n            />\r\n          )\r\n        }\r\n        invertedFilterTags.push(<div><SectionSubtitle>{filterType}</SectionSubtitle>{words}</div>)\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Container>\r\n        <PageHeader>\r\n          <h2>Filters</h2>\r\n          <p>Set up filters to decide which articles should be sent to Discord.</p>\r\n        </PageHeader>\r\n        <Divider />\r\n        <SectionTitle heading='Current' subheading='Your current filters are listed here.' />\r\n        <FiltersTable filters={feedFilters} removeApiUrl={`/api/guilds/${guildId}/feeds/${feedId}/filters`} />\r\n        <Divider />\r\n        <SectionTitle heading='Add' subheading='Type a new filter and add it. Note that all filters are automatically lowercased.' />\r\n        <AddFilter addApiUrl={`/api/guilds/${guildId}/feeds/${feedId}/filters`} />\r\n        <Divider />\r\n\r\n        <SectionTitle heading='Classifications' subheading='See what current articles gets blocked or passes your current filters. Click on a row to see more in-depth details.' />\r\n        <ArticleTable\r\n          onClickArticle={article => this.setState({ selectedArticle: article })}\r\n          positiveNegativeRowFunc={data => !!testFilters(feedFilters, data).passed}\r\n          addColumns={[\r\n            {\r\n              collapsing: true,\r\n              headers: ['Passed'],\r\n              cellFuncs: [\r\n                article => {\r\n                  const passedFilters = testFilters(feedFilters, article).passed\r\n                  return passedFilters ? <Icon name='check' color='green' /> : <Icon name='x' color='red' />\r\n                }\r\n              ]\r\n            }\r\n          ]}\r\n        />\r\n          {\r\n            !selectedArticleFilterResults\r\n              ? null\r\n              : <FilterDetails>\r\n                <SectionSubtitle>Filter Result Explanation</SectionSubtitle>\r\n                  <FilterExplanation>\r\n                    {!selectedArticleFilterResults.passed\r\n                      ? Object.keys(selectedArticleFilterResults.invertedMatches).length === 0\r\n                        ? <p>This article would not have been sent to Discord because there were no matching filters.</p>\r\n                        : <p>This article would not have been sent to Discord because the following negated filters blocked it: {<FilterTagContainer>{invertedFilterTags}</FilterTagContainer>}</p>\r\n                      : Object.keys(selectedArticleFilterResults.matches).length === 0\r\n                        ? <p>This article would have been sent because there are no filters to negate it.</p>\r\n                        : <p>This article would have been sent because the following filters were matched, with no negated filters: {<FilterTagContainer>{regularFilterTags}</FilterTagContainer>}</p>\r\n                    }\r\n                  </FilterExplanation>\r\n                </FilterDetails>\r\n          }\r\n        <Divider />\r\n\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nFilters.propTypes = {\r\n  setToThisPage: PropTypes.func\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filters)\r\n","import React, { Component } from 'react'\r\nimport { withRouter, Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { changePage } from 'js/actions/index-actions'\r\nimport pages from 'js/constants/pages'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport PageHeader from 'js/components/utils/PageHeader'\r\nimport SectionTitle from 'js/components/utils/SectionTitle'\r\nimport FiltersTable from '../../..//utils/FiltersTable'\r\nimport AddFilter from '../../../utils/AddFilter'\r\nimport SectionSubtitle from 'js/components/utils/SectionSubtitle'\r\nimport testFilters from '../Filters/util/filters'\r\nimport { Divider, Input, Button, Popup, Dropdown } from 'semantic-ui-react'\r\nimport ArticleTable from '../../../utils/ArticleTable'\r\nimport { transparentize } from 'polished'\r\nimport colors from 'js/constants/colors'\r\nimport toast from '../../../utils/toast'\r\nimport posed, { PoseGroup } from 'react-pose';\r\nimport PopInButton from '../../../utils/PopInButton'\r\nimport axios from 'axios'\r\nimport Wrapper from 'js/components/utils/Wrapper'\r\nconst mapStateToProps = state => {\r\n  return {\r\n    guildId: state.guildId,\r\n    feedId: state.feedId,\r\n    roles: state.roles,\r\n    subscribers: state.subscribers,\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setToThisPage: () => dispatch(changePage(pages.SUBSCRIPTIONS)),\r\n    toDashboard: () => dispatch(changePage(pages.DASHBOARD))\r\n  }\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  @media only screen and (min-width: 930px) {\r\n    padding: 55px;\r\n  }\r\n  width: 100%;\r\n  max-width: 840px;\r\n`\r\n\r\nconst SubscriberSearchWrapper = styled.div`\r\n  margin-bottom: 1em;\r\n`\r\n\r\n// const SubscriberListWrapper = styled.div`\r\n//   background-color: rgba(32,34,37,0.6);\r\n//   /* border-bottom-left-radius: 3px; */\r\n//   border-radius: 3px;\r\n//   /* border-bottom-right-radius: 3px; */\r\n//   /* padding-left: 0.25em; */\r\n//   margin-bottom: 1em;\r\n//   padding-left: 1em;\r\n//   padding-right: 1em;\r\n//   min-height: 250px;\r\n//   height: 250px;\r\n//   resize: vertical;\r\n//   overflow-y: auto;\r\n//   scrollbar-width: thin;\r\n//   .ui.input {\r\n//     margin-bottom: 1em;\r\n//   }\r\n// `\r\n\r\nconst SubscriberListWrapper = styled(Wrapper)`\r\n  /* background-color: rgba(32,34,37,0.6); */\r\n  /* border-bottom-left-radius: 3px; */\r\n  /* border-radius: 3px; */\r\n  /* border-bottom-right-radius: 3px; */\r\n  /* padding-left: 0.25em; */\r\n  padding-top: 0;\r\n  margin-bottom: 1em;\r\n  padding-left: 1em;\r\n  padding-right: 1em;\r\n  min-height: 250px;\r\n  height: 250px;\r\n  resize: vertical;\r\n  overflow-y: auto;\r\n  scrollbar-width: thin;\r\n  .ui.input {\r\n    margin-bottom: 1em;\r\n  }\r\n`\r\n\r\nconst SubscriberList = styled.ul`\r\n  list-style-type: none;\r\n  margin: 0;\r\n  padding: 0;\r\n  user-select: none;\r\n  word-break: break-word;\r\n  /* a {\r\n    text-decoration: none;\r\n    color: ${colors.discord.text};\r\n    &:hover {\r\n      text-decoration: none !important;\r\n      color: ${colors.discord.text};\r\n    }\r\n  } */\r\n`\r\n\r\nconst SubscriberListItem = styled.li`\r\n    cursor: ${props => props.selected ? 'default' : 'pointer'};\r\n    text-decoration: none;\r\n    display: flex;\r\n    margin-top: 0.25em;\r\n    margin-bottom: 0.25em;\r\n    outline: none;\r\n    -webkit-tap-highlight-color: transparent;\r\n    position: relative;\r\n    /* &:after {\r\n      position: absolute;\r\n      content: '';\r\n      border-bottom: 1px solid ${transparentize(0.9, colors.discord.text)};\r\n      width: 100%;\r\n      bottom: -.125em;\r\n    } */\r\n    > div {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      width: 60px;\r\n\r\n      > label {\r\n        justify-content: center;\r\n        display: flex;\r\n        /* border-right-style: solid;\r\n        border-right-width: 1px; */\r\n        align-items: center;\r\n\r\n        margin-bottom: 0;\r\n      }\r\n    }\r\n    > button {\r\n      position: relative;\r\n      text-align: left;\r\n      cursor: ${props => props.selected ? 'default' : 'pointer'};\r\n      border-style: none;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n      margin-right: 5px;\r\n      flex-grow: 1;\r\n      padding: 10px 15px;\r\n      max-width: calc(100% - 65px);\r\n      display: block;\r\n      color: ${props => props.selected ? 'white' : props.color || colors.discord.text};\r\n      border-radius: 3px;\r\n      background-color: ${props => props.selected ? props.color || colors.discord.blurple : 'transparent'};\r\n      &:hover {\r\n        background-color: ${props => props.selected ? (props.color || colors.discord.blurple) : props.color ? transparentize(0.8, props.color) : 'rgba(185,187,190,.1)'};\r\n        text-decoration: none;\r\n        color: ${props => props.selected ? 'white' : props.color || 'white'};\r\n      }\r\n      &:active {\r\n        background-color: ${props => props.selected ? (props.color || colors.discord.blurple) : transparentize(0.8, props.color || colors.discord.text)};\r\n      }\r\n      &:focus {\r\n        outline: none;\r\n      }\r\n    }\r\n    &:first-child {\r\n      margin-top: 0.5em;\r\n    }\r\n    &:last-child {\r\n      margin-bottom: 0.5em;\r\n    }\r\n`\r\n// const SubscriberBox = styled.div`\r\n//   background-color: rgba(32,34,37,0.6);\r\n//   height: 55px;\r\n//   display: flex;\r\n//   justify-content: space-between;\r\n//   align-items: center;\r\n//   margin-bottom: 10px;\r\n//   padding: 10px;\r\n//   border-radius: 3px;\r\n//   > div {\r\n//     > div {\r\n//       display: inline-block;\r\n//     }\r\n//   }\r\n//   span {\r\n//       overflow: hidden;\r\n//       text-overflow: ellipsis;\r\n//       white-space: nowrap;\r\n//       max-width: calc(100% - 180px);\r\n//       color: ${props => props.color || colors.discord.text};\r\n//     }\r\n//     .ui.button {\r\n//       &:first-child {\r\n//         margin-left: 5px;\r\n//       }\r\n//       &:last-child {\r\n//         margin-left: 5px;\r\n//       }\r\n//     }\r\n// `\r\n\r\nconst SubscriberBox = styled(Wrapper)`\r\n  /* background-color: rgba(32,34,37,0.6); */\r\n  height: 55px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  > div {\r\n    > div {\r\n      display: inline-block;\r\n    }\r\n  }\r\n  span {\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n      max-width: calc(100% - 180px);\r\n      color: ${props => props.color || colors.discord.text};\r\n    }\r\n    .ui.button {\r\n      &:first-child {\r\n        margin-left: 5px;\r\n      }\r\n      &:last-child {\r\n        margin-left: 5px;\r\n      }\r\n    }\r\n`\r\n\r\n\r\n// const SubscriberInfoStyled = styled.div`\r\n//   background-color: rgba(32,34,37,0.6);\r\n//   box-shadow: 0 2px 0px 0 rgba(0,0,0,0.2) !important;\r\n//   padding: 15px 20px;\r\n//   border-radius: 3px;\r\n// `\r\n\r\nconst SubscriberInfoStyled = styled(Wrapper)`\r\n  /* background-color: rgba(32,34,37,0.6); */\r\n  box-shadow: 0 2px 0px 0 rgba(0,0,0,0.2) !important;\r\n  padding: 15px 20px;\r\n  border-radius: 3px;\r\n`\r\n\r\nconst SubscriberInfo = posed(SubscriberInfoStyled)({\r\n  enter: { opacity: 1, maxHeight: '730px' },\r\n  exit: { opacity: 0, maxHeight: 0 }\r\n})\r\n\r\nconst SubscriberFilterTable = posed.div({\r\n  enter: { scale: 1, opacity: 1, maxHeight: '688px' },\r\n  exit: { scale: 0, opacity: 0, maxHeight: 0 }\r\n})\r\n\r\nconst AddSubscribersInputs = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  .ui.dropdown:first-child {\r\n    flex-grow: 1;\r\n    margin-right: 0;\r\n    margin-bottom: 1em;\r\n  }\r\n  > .ui.dropdown {\r\n    flex-grow: 1;\r\n  }\r\n  > .ui.input {\r\n    flex-grow: 1;\r\n  }\r\n\r\n  @media only screen and (min-width: 500px) {\r\n    flex-direction: row;\r\n    .ui.dropdown:first-child {\r\n      flex-grow: 0;\r\n      margin-right: 1em;\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n`\r\n\r\nconst AddSubscriberButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 1.5em;\r\n  > .ui.button {\r\n    flex-grow: 1;\r\n  }\r\n\r\n  @media only screen and (min-width: 500px) {\r\n    > .ui.button {\r\n      flex-grow: 0;\r\n    }\r\n  }\r\n`\r\n\r\nconst ArticleSubscribers = styled.div`\r\n  margin-top: 1em;\r\n  > a {\r\n    margin-right: 5px;\r\n    margin-bottom: 5px;\r\n    &:last-child {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n`\r\n\r\nconst SubscriberTagStyled = styled.a`\r\n  padding: 5px 10px;\r\n  display: inline-block;\r\n  color: white;\r\n  border-radius: 3px;\r\n  background-color: ${props => props.color || colors.discord.blurple};\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color: ${props => (props.color || colors.discord.blurple)};\r\n    text-decoration: none;\r\n    color: white;\r\n    transform: scale(1.1);\r\n  }\r\n  &:active {\r\n    background-color: ${props => (props.color || colors.discord.blurple)};\r\n  }\r\n`\r\n\r\nconst SubscriberTag = posed(SubscriberTagStyled)({\r\n  enter: { scale: 1, opacity: 1 },\r\n  exit: { scale: 0, opacity: 0 }\r\n})\r\n\r\n\r\nclass Subscriptions extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      search: '',\r\n      selectedSubscriber: '',\r\n      openFiltersModal: false,\r\n      showSubscriberFilters: false,\r\n      articleSubscribersMentioned: [],\r\n      addSubscriberType: 'role',\r\n      addSubscriberId: '',\r\n      addingSubscriber: false,\r\n      deletingSubscriber: false\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    this.props.setToThisPage()\r\n  }\r\n\r\n  addSubscriber = () => {\r\n    const type = this.state.addSubscriberType\r\n    const id = this.state.addSubscriberId\r\n    if (!type || !id) return\r\n    const { guildId, feedId, csrfToken } = this.props\r\n    this.setState({ addingSubscriber: true })\r\n    const payload = { type, id }\r\n    axios.put(`/api/guilds/${guildId}/feeds/${feedId}/subscribers`, payload, { headers: { 'CSRF-Token': csrfToken } }).then(() => {\r\n      toast.success(`Added a new subscriber!`)\r\n      this.setState({ addingSubscriber: false, addSubscriberId: '', selectedSubscriber: id })\r\n    }).catch(err => {\r\n      this.setState({ addingSubscriber: false })\r\n      if (err.response && err.response.status === 304) return toast.success('No changes detected')\r\n      if (err.response && err.response.status === 404 && this.state.addSubscriberType === 'user') return toast.error('That user was not found for this server.')\r\n      console.log(err.response || err.message)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to add subscriber<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  removeSubscriber = () => {\r\n    const id = this.state.selectedSubscriber\r\n    if (!id) return\r\n    const { guildId, feedId, csrfToken } = this.props\r\n    this.setState({ deletingSubscriber: true })\r\n    axios.delete(`/api/guilds/${guildId}/feeds/${feedId}/subscribers/${id}`, { headers: { 'CSRF-Token': csrfToken } }).then(() => {\r\n      toast.success('Removed subscriber')\r\n      this.setState({ deletingSubscriber: false })\r\n    }).catch(err => {\r\n      this.setState({ deletingSubscriber: false })\r\n      if (err.response && err.response.status === 304) return toast.success('No changes detected')\r\n      console.log(err.response || err.message)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to remove subscriber<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { guildId, feedId, roles, subscribers } = this.props\r\n    if (!feedId) {\r\n      this.props.toDashboard()\r\n      return <Redirect to='/' />\r\n    }\r\n    const rolesById = roles[guildId]\r\n    const subscribersArr = []\r\n    // const subscribers = (subscriptions[guildId] && subscriptions[guildId][feedId] ? subscriptions[guildId][feedId] : []).map(subscriber => {\r\n    //   if (subscriber.type !== 'role') return { ...subscriber, hexColor: colors.discord.text }\r\n    //   return { ...subscriber, ...rolesById[subscriber.id] }\r\n    // })\r\n    let selectedSubscriber = {}\r\n    let selectedSubscriberFilterItems = []\r\n\r\n    const existingSubscribers = {}\r\n    if (subscribers[guildId] && subscribers[guildId][feedId]) {\r\n      const feedSubscribers = subscribers[guildId][feedId]\r\n      for (const subscriberId in feedSubscribers) {\r\n        const subscriber = feedSubscribers[subscriberId]\r\n        if (subscriber.type === 'role') subscribersArr.push({ ...subscriber, ...rolesById[subscriber.id] })\r\n        else subscribersArr.push({ ...subscriber, hexColor: '' })\r\n        existingSubscribers[subscriberId] = true\r\n      }\r\n      const currentSubscriber = feedSubscribers[this.state.selectedSubscriber]\r\n      if (currentSubscriber) {\r\n        selectedSubscriber = { ...currentSubscriber, hexColor: currentSubscriber.type === 'role' ? rolesById[this.state.selectedSubscriber].hexColor : colors.discord.text }\r\n        const subscriberFilters = currentSubscriber.filters\r\n        if (subscriberFilters) {\r\n          for (const filterType in subscriberFilters) {\r\n            for (const value of subscriberFilters[filterType]) selectedSubscriberFilterItems.push({ type: filterType, value })\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const addSubscriberList = guildId && roles[guildId] ? Object.keys(roles[guildId]).filter(id => !existingSubscribers[id] && rolesById[id].name !== '@everyone').map(id => rolesById[id]) : []\r\n    const selectedSubscriberChosen = Object.keys(selectedSubscriber).length > 0\r\n    const selectedArticleSubscribers = this.state.articleSubscribersMentioned.map(subscriber => <SubscriberTag onClick={e => this.setState({ selectedSubscriber: subscriber.id })} key={subscriber.id} color={subscriber.hexColor}>{subscriber.name}</SubscriberTag>)\r\n    return (\r\n      <Container>\r\n        <PageHeader>\r\n          <h2>Subscriptions</h2>\r\n          <p>Set up subscriptions for your feed to notify roles or users when an article is delivered.</p>\r\n        </PageHeader>\r\n        <Divider />\r\n        <SectionTitle heading='Current' subheading='See the current users and roles that have subscriptions.' />\r\n        <SubscriberSearchWrapper>\r\n          <Input fluid icon='search' iconPosition='left' placeholder='Search...' onChange={e => this.setState({ search: e.target.value })} />\r\n        </SubscriberSearchWrapper>\r\n        <SubscriberListWrapper>\r\n          <SubscriberList>\r\n            {\r\n              subscribersArr.map(subscriber => {\r\n                if (this.state.search && !subscriber.name.toLowerCase().includes(this.state.search)) return null\r\n                return (\r\n                  <SubscriberListItem key={subscriber.id} color={subscriber.hexColor} selected={subscriber.id === this.state.selectedSubscriber}>\r\n                    <button onClick={e => this.setState({ selectedSubscriber: subscriber.id })}>\r\n                      {subscriber.name}\r\n                    </button>\r\n                    <Popup\r\n                      hideOnScroll\r\n                      trigger={<div>\r\n                        <SectionSubtitle>\r\n                          {subscriber.filters && Object.keys(subscriber.filters).length > 0 ? 'Filtered' : 'Global'}\r\n                        </SectionSubtitle>\r\n                        <SectionSubtitle>\r\n                          {subscriber.type}\r\n                        </SectionSubtitle>\r\n                      </div>}\r\n                      inverted\r\n                      position='top right'\r\n                      content='A subscriber is filtered if they have filters applied to them'\r\n                    />\r\n                  </SubscriberListItem>\r\n                )\r\n              })\r\n            }\r\n          </SubscriberList>\r\n        </SubscriberListWrapper>\r\n        <SectionSubtitle>Subscriber Details</SectionSubtitle>\r\n        <SubscriberBox color={selectedSubscriber.hexColor}>\r\n          {selectedSubscriberChosen ? <span>{selectedSubscriber.name}</span> : 'None selected'}\r\n          <div>\r\n            <PopInButton pose={selectedSubscriberChosen ? 'enter' : 'exit'} content={this.state.showSubscriberFilters ? 'Hide Filters' : 'Show Filters'} onClick={e => this.setState({ showSubscriberFilters: !this.state.showSubscriberFilters })} />\r\n            <PopInButton pose={selectedSubscriberChosen ? 'enter' : 'exit'} icon='trash' color='red' onClick={this.removeSubscriber} disabled={this.state.deletingSubscriber} />\r\n          </div>\r\n        </SubscriberBox>\r\n        <SubscriberInfo pose={this.state.showSubscriberFilters && selectedSubscriberChosen ? 'enter' : 'exit'} color={selectedSubscriber.hexColor}>\r\n          <SubscriberFilterTable pose={selectedSubscriberFilterItems.length > 0 ? 'enter' : 'exit'}>\r\n            <SectionSubtitle>Current Filters</SectionSubtitle>\r\n            <FiltersTable removeApiUrl={`/api/guilds/${guildId}/feeds/${feedId}/subscribers/${selectedSubscriber.id}/filters`} filters={selectedSubscriber.filters} />\r\n            <Divider />\r\n          </SubscriberFilterTable>\r\n          <SectionSubtitle>Add filter</SectionSubtitle>\r\n          <AddFilter addApiUrl={`/api/guilds/${guildId}/feeds/${feedId}/subscribers/${selectedSubscriber.id}/filters`} />\r\n        </SubscriberInfo>\r\n        <Divider />\r\n        <SectionTitle heading='Add' subheading='Add a new subscriber! You may add filters to a subscriber only after they are added here.' />\r\n        <AddSubscribersInputs>\r\n          <Dropdown selection options={[{ text: 'Role', value: 'role' }, { text: 'User', value: 'user' }]} value={this.state.addSubscriberType} onChange={(e, data) => this.state.addSubscriberType === data.value ? null : this.setState({ addSubscriberType: data.value, addSubscriberId: '' })} />\r\n          {this.state.addSubscriberType === 'role'\r\n          ? <Dropdown selection search placeholder='Select a Role' options={addSubscriberList.map(subscriber => { return { text: <span style={{ color: subscriber.hexColor }}>{subscriber.name}</span>, value: subscriber.id } })} onChange={(e, data) => this.setState({ addSubscriberId: data.value })} value={this.state.addSubscriberId} />\r\n          : <Input value={this.state.addSubscriberId} disabled placeholder='Currently unsupported on this interface' onChange={e => isNaN(e.target.value) ? null : this.setState({ addSubscriberId: e.target.value })} onKeyPress={e => e.key === 'Enter' ? this.addSubscriber() : null} />\r\n          }\r\n        </AddSubscribersInputs>\r\n        <AddSubscriberButtonContainer>\r\n          <Button color='green' content='Add' disabled={!this.state.addSubscriberId || !this.state.addSubscriberType || this.state.addingSubscriber} onClick={this.addSubscriber} />\r\n        </AddSubscriberButtonContainer>\r\n        <Divider />\r\n        <SectionTitle heading='Preview' subheading='See what users or roles will get mentioned for all current articles. Click an article to see exactly who will get mentioned.' />\r\n        <ArticleTable\r\n          onClickArticle={article => {\r\n            const matched = []\r\n            for (const subscriber of subscribersArr) {\r\n              if (!subscriber.filters) matched.push(subscriber)\r\n              else if (testFilters(subscriber.filters, article).passed) matched.push(subscriber)\r\n            }\r\n            this.setState({ articleSubscribersMentioned: matched })\r\n          }}\r\n          addColumns={[\r\n            {\r\n              collapsing: true,\r\n              headers: ['Subscribers'],\r\n              cellFuncs: [\r\n                article => {\r\n                  let subscribersPassed = 0\r\n                  for (const subscriber of subscribersArr) {\r\n                    if (!subscriber.filters) subscribersPassed++\r\n                    else if (testFilters(subscriber.filters, article).passed) ++subscribersPassed\r\n                  }\r\n                  return subscribersPassed\r\n                }\r\n              ]\r\n            }\r\n          ]}\r\n        />\r\n        {selectedArticleSubscribers.length > 0\r\n        ? <ArticleSubscribers>\r\n          <SectionSubtitle>Subscribers Mentioned</SectionSubtitle>\r\n          <PoseGroup animateOnMount>\r\n            {selectedArticleSubscribers}\r\n          </PoseGroup>\r\n        </ArticleSubscribers>\r\n        : null\r\n        }\r\n        <Divider />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nSubscriptions.propTypes = {\r\n  setToThisPage: PropTypes.func\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Subscriptions))\r\n","import React, { Component } from 'react'\r\nimport { withRouter, Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { changePage } from 'js/actions/index-actions'\r\nimport pages from 'js/constants/pages'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport PopInButton from '../../../utils/PopInButton'\r\nimport colors from 'js/constants/colors'\r\nimport SectionItemTitle from 'js/components/utils/SectionItemTitle'\r\nimport PageHeader from 'js/components/utils/PageHeader'\r\nimport { Divider, Checkbox, Button } from 'semantic-ui-react'\r\nimport SectionSubtitle from 'js/components/utils/SectionSubtitle'\r\nimport axios from 'axios'\r\nimport toast from '../../../utils/toast'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    defaultConfig: state.defaultConfig,\r\n    guildId: state.guildId,\r\n    feedId: state.feedId,\r\n    feed: state.feed,\r\n    csrfToken: state.csrfToken\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setToThisPage: () => dispatch(changePage(pages.MISC_OPTIONS)),\r\n    toDashboard: () => dispatch(changePage(pages.DASHBOARD))\r\n  }\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  @media only screen and (min-width: 930px) {\r\n    padding: 55px;\r\n  }\r\n  width: 100%;\r\n  max-width: 840px;\r\n`\r\n\r\nconst MiscOptionContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  > div {\r\n    max-width: calc(100% - 80px);\r\n  }\r\n`\r\n\r\nconst SaveButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  .ui.button {\r\n    margin-left: 1em;\r\n  }\r\n`\r\n\r\nconst Categories = styled.div`\r\n  > div {\r\n    margin-top: 50px;\r\n    &:first-child {\r\n      margin-top: 30px;\r\n    }\r\n  }\r\n`\r\n\r\nconst Description = styled.p`\r\n  color: ${colors.discord.subtext};\r\n`\r\n\r\nconst boolToText = bool => bool ? 'Enabled' : 'Disabled'\r\nconst configKeyNames = {\r\n  checkTitles: 'checkTitles',\r\n  checkDates: 'checkDates',\r\n  imgPreviews: 'imgPreviews',\r\n  imgLinksExistence: 'imgLinksExistence',\r\n  formatTables: 'formatTables',\r\n  toggleRoleMentions: 'toggleRoleMentions'\r\n}\r\nconst configKeys = Object.keys(configKeyNames)\r\n\r\nclass MiscOptions extends Component {\r\n  constructor () {\r\n    super()\r\n    const state = {\r\n      saving: false,\r\n      initialized: false\r\n    }\r\n    configKeys.forEach(key => {\r\n      state[key] = false\r\n    })\r\n\r\n    this.state = state\r\n  }\r\n\r\n  componentWillMount () {\r\n    const { feed } = this.props\r\n    if (!feed) {\r\n      this.props.toDashboard()\r\n      return <Redirect to='/' />\r\n    } else this.props.setToThisPage()\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.reset()\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    const { feed } = this.props\r\n    const prevFeed = prevProps.feed\r\n    if (feed && prevFeed) {\r\n      for (const key of configKeys) {\r\n        if (feed[key] !== prevFeed[key]) return this.reset()\r\n      }\r\n    } else if (!prevFeed && feed) return this.reset()\r\n  }\r\n\r\n  reset = () => {\r\n    const { feed, defaultConfig } = this.props\r\n    if (!feed) {\r\n      this.props.toDashboard()\r\n      return <Redirect to='/' />\r\n    }\r\n    const newState = {}\r\n    if (!this.state.initialized) newState.initialized = true\r\n    configKeys.forEach(key => {\r\n      newState[key] = feed[key] === undefined ? defaultConfig[key] : feed[key]\r\n    })\r\n    this.setState(newState)\r\n  }\r\n\r\n  checkFeedExists = () => {\r\n    const { feed } = this.props\r\n    if (!feed) {\r\n      this.props.toDashboard()\r\n      return <Redirect to='/' />\r\n    }\r\n  }\r\n\r\n  updateProperty = (key, val) => {\r\n    this.setState({ [key]: val })\r\n  }\r\n\r\n  apply = () => {\r\n    const { csrfToken, guildId, feedId } = this.props\r\n    const payload = {}\r\n    for (const key of configKeys) payload[key] = this.state[key]\r\n    axios.patch(`/api/guilds/${guildId}/feeds/${feedId}`, payload, { headers: { 'CSRF-Token': csrfToken } }).then(() => {\r\n      toast.success('Saved changes, woohoo!')\r\n      this.setState({ saving: false })\r\n    }).catch(err => {\r\n      if (err.response && err.response.status === 304) {\r\n        this.setState({ saving: false})\r\n        return toast.success('No changes detected')\r\n      } else this.setState({ saving: false })\r\n      console.log(err.response || err.message)\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      toast.error(<p>Failed to update feed embed<br/><br/>{errMessage ? typeof errMessage === 'object' ? JSON.stringify(errMessage, null, 2) : errMessage : 'No details available'}</p>)\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { feed, defaultConfig } = this.props\r\n    if (!feed) {\r\n      this.props.toDashboard()\r\n      return <Redirect to='/' />\r\n    }\r\n\r\n    let unsaved = false\r\n    if (this.state.initialized) {\r\n      for (const key of configKeys) {\r\n        if (unsaved) continue\r\n        const defaultValue = feed[key] === undefined ? defaultConfig[key] : feed[key]\r\n        const thisValue = this.state[key]\r\n        if (defaultValue !== thisValue) unsaved = true\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Container>\r\n        <PageHeader>\r\n          <h2>Misc Options</h2>\r\n          <Description>Miscellaneous options that changes various aspects of your feed.</Description>\r\n        </PageHeader>\r\n        <Categories>\r\n          <div>\r\n            <SectionSubtitle>Algorithms</SectionSubtitle>\r\n            <MiscOptionContainer>\r\n              <div>\r\n                <SectionItemTitle>Title Checks</SectionItemTitle>\r\n                <Description>ONLY ENABLE THIS IF NECESSARY! Title checks will ensure no article with the same title as a previous one will be sent for a specific feed.</Description>\r\n                <Description>Default: {boolToText(defaultConfig.checkTitles)}</Description>\r\n              </div>\r\n              <Checkbox disabled={!this.state.initialized} checked={this.state.checkTitles} toggle onChange={(e, data) => this.updateProperty(configKeyNames.checkTitles, data.checked)} />\r\n            </MiscOptionContainer>\r\n            <Divider />\r\n            <MiscOptionContainer>\r\n              <div>\r\n                <SectionItemTitle>Date Checks</SectionItemTitle>\r\n                <Description>Date checking ensures that articles that are either older than {defaultConfig.cycleMaxAge} day{defaultConfig.cycleMaxAge > 1 ? 's' : ''} or has invalid/no published dates are never sent. This MUST be enabled for feeds with no {`{date}`} placeholder.</Description>\r\n                <Description>Default: {boolToText(defaultConfig.checkDates)}</Description>\r\n              </div>\r\n              <Checkbox disabled={!this.state.initialized} checked={this.state.checkDates} toggle onChange={(e, data) => this.updateProperty(configKeyNames.checkDates, data.checked)} />\r\n            </MiscOptionContainer>\r\n            <Divider />\r\n          </div>\r\n\r\n          <div>\r\n            <SectionSubtitle>Formatting</SectionSubtitle>\r\n            <MiscOptionContainer>\r\n              <div>\r\n                <SectionItemTitle>Image Links Preview</SectionItemTitle>\r\n                <Description>Toggle automatic Discord image link embedded previews for image links found inside placeholders such as {`{description}`}.</Description>\r\n                <Description>Default: {boolToText(defaultConfig.imgPreviews)}</Description>\r\n              </div>\r\n              <Checkbox disabled={!this.state.initialized} checked={this.state.imgPreviews} toggle onChange={(e, data) => this.updateProperty(configKeyNames.imgPreviews, data.checked)} />\r\n            </MiscOptionContainer>\r\n            <Divider />\r\n            <MiscOptionContainer>\r\n              <div>\r\n                <SectionItemTitle>Image Links Existence</SectionItemTitle>\r\n                <Description>Remove image links found inside placeholders such as {`{description}`}. If disabled, all image src links in such placeholders will be removed.</Description>\r\n                <Description>Default: {boolToText(defaultConfig.imgLinksExistence)}</Description>\r\n              </div>\r\n              <Checkbox disabled={!this.state.initialized} checked={this.state.imgLinksExistence} toggle onChange={(e, data) => this.updateProperty(configKeyNames.imgLinksExistence, data.checked)} />\r\n            </MiscOptionContainer>\r\n            <Divider />\r\n            <MiscOptionContainer>\r\n              <div>\r\n                <SectionItemTitle>Tables Support</SectionItemTitle>\r\n                <Description>If table formatting is enabled, they should be enclosed in code blocks to ensure uniform spacing.</Description>\r\n                <Description>Default: {boolToText(defaultConfig.formatTables)}</Description>\r\n              </div>\r\n              <Checkbox disabled={!this.state.initialized} checked={this.state.formatTables} toggle onChange={(e, data) => this.updateProperty(configKeyNames.formatTables, data.checked)} />\r\n            </MiscOptionContainer>\r\n            <Divider />\r\n          </div>\r\n\r\n          <div>\r\n            <SectionSubtitle>Other</SectionSubtitle>\r\n            <MiscOptionContainer>\r\n              <div>\r\n                <SectionItemTitle>Role Mentioning</SectionItemTitle>\r\n                <Description>Turns on role mentionability for any subscribed roles to a feed when articles are about to send, then immediately turns their mentionability off after the article has been sent.</Description>\r\n                <Description>Default: {boolToText(defaultConfig.toggleRoleMentions)}</Description>\r\n              </div>\r\n              <Checkbox disabled={!this.state.initialized} checked={this.state.toggleRoleMentions} toggle onChange={(e, data) => this.updateProperty(configKeyNames.toggleRoleMentions, data.checked)} />\r\n            </MiscOptionContainer>\r\n            <Divider />\r\n          </div>\r\n        </Categories>\r\n        <SaveButtonContainer>\r\n          <PopInButton pose={this.state.saving ? 'exit' : unsaved ? 'enter' : 'exit'} basic inverted content='Reset' onClick={this.reset}></PopInButton>\r\n          <Button disabled={!unsaved || this.state.saving} content='Save' color='green' onClick={this.apply} />\r\n        </SaveButtonContainer>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nMiscOptions.propTypes = {\r\n  toDashboard: PropTypes.func,\r\n  setToThisPage: PropTypes.func,\r\n  defaultConfig: PropTypes.object,\r\n  guildId: PropTypes.string,\r\n  feedId: PropTypes.string\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MiscOptions))\r\n","import styled from 'styled-components'\r\n\r\nexport default styled.div`\r\n  background: rgba(32,34,37, .6);\r\n  border-color: #202225;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n  border-style: solid;\r\n  border-width: 1px;\r\n`\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport colors from 'js/constants/colors'\r\nimport { Icon, Popup } from 'semantic-ui-react'\r\nimport { lighten, darken } from 'polished'\r\nimport WrapperDark from 'js/components/utils/WrapperDark'\r\nimport { Scrollbars } from 'react-custom-scrollbars'\r\n\r\nconst ButtonBlank = styled.a`\r\n  > div {\r\n    display: flex;\r\n    > i {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n    > span {\r\n      color: ${props => props.disabled ? darken(0.4, colors.discord.text) : colors.discord.text};\r\n    }\r\n  }\r\n  display: flex;\r\n  text-align: left;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 10px;\r\n  margin: .5em 0 0;\r\n  /* border-radius: .25em; */\r\n  color: ${props => props.disabled ? darken(0.4, colors.discord.text) : props.selected ? 'white' : lighten(0.45, colors.discord.darkButNotBlack)};\r\n  background-color: ${props => props.disabled ? 'transparent' : props.selected ? '#40444B' : 'transparent'};\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  border-color: ${darken(0.5, `rgba(34,36,38,.15)`)};\r\n  /* width: 100%; */\r\n  user-select: none;\r\n  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'} !important;\r\n  &:hover {\r\n    user-select: none;\r\n    text-decoration: none !important;\r\n    /* color: white; */\r\n    color: ${props => props.disabled ? darken(0.4, colors.discord.text) : 'white'} !important;\r\n    background-color: ${props => props.disabled ? 'transparent' : props.selected ? '#40444B' : '#292B2F'};\r\n    cursor: pointer;\r\n  }\r\n  &:active {\r\n    background-color: ${props => props.disabled ? 'transparent' : '#202225'};\r\n  }\r\n`\r\n\r\nconst Expandable = styled(WrapperDark)`\r\n  border-top: none;\r\n  border-radius: 0;\r\n  \r\n  overflow: hidden;\r\n  /* padding: 10px; */\r\n  padding: ${props => props.expanded ? '10px' : 0};\r\n  height: ${props => props.expanded ? '100%' : 0};\r\n  max-height: 420px;\r\n  padding: 0;\r\n  ul {\r\n    list-style: none;\r\n    padding: 0;\r\n    margin: 0;\r\n    > li {\r\n      word-break: break-all;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      margin-bottom: 5px;\r\n      > div {\r\n        margin-right: 20px;\r\n      }\r\n      &:last-child {\r\n        margin-bottom: 0;\r\n      }\r\n      label {\r\n        margin: 0 5px 0 0;\r\n        display: inline;\r\n        font-size: 14px;\r\n      }\r\n      /* &:before {\r\n        content: \">\"\r\n      } */\r\n    }\r\n  }\r\n`\r\n\r\nfunction DetailButton (props) {\r\n  const { numberColor, number, title, disabled, popupText } = props\r\n  const [ show, setShow ] = useState(false)\r\n  const button = (\r\n    <ButtonBlank onClick={e => number !== 0 ? setShow(!show) : null} selected={show} disabled={disabled}>\r\n      <div>\r\n        <Icon name={disabled ? 'x' : show ? 'caret up' : 'caret down'} />\r\n        <span>{title}</span>\r\n      </div>\r\n      <span style={numberColor ? { color: numberColor } : null}>{ number }</span>\r\n    </ButtonBlank>\r\n  )\r\n  const mainBody = (\r\n    <div className='detail-button-body'>\r\n      { popupText\r\n        ? <Popup inverted trigger={button} content={popupText} position='bottom center' />\r\n        : button }\r\n\r\n      <Expandable expanded={show} className='expandable'>\r\n        <Scrollbars autoHeight autoHeightMin={0} autoHeightMax={420}>\r\n          <div style={{ padding: '10px 15px' }}>\r\n            {props.children}\r\n          </div>\r\n        </Scrollbars>\r\n      </Expandable>\r\n      \r\n\r\n      {/* </Scrollbars> */}\r\n    </div>\r\n  )\r\n\r\n  return mainBody\r\n}\r\n\r\nDetailButton.propTypes = {\r\n  popupText: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  title: PropTypes.string,\r\n  numberColor: PropTypes.string,\r\n  number: PropTypes.number,\r\n  children: PropTypes.node\r\n}\r\n\r\nexport default DetailButton\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux'\r\nimport { changePage } from 'js/actions/index-actions'\r\nimport pages from 'js/constants/pages'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport AlertBox from 'js/components/utils/AlertBox'\r\nimport colors from 'js/constants/colors'\r\nimport SectionTitle from 'js/components/utils/SectionTitle'\r\nimport PageHeader from 'js/components/utils/PageHeader'\r\nimport { Divider, Button, Loader, Icon, Popup } from 'semantic-ui-react'\r\nimport SectionSubtitle from 'js/components/utils/SectionSubtitle'\r\nimport axios from 'axios'\r\nimport moment from 'moment-timezone'\r\nimport filters from '../Filters/util/filters'\r\nimport { hiddenProperties } from 'js/constants/hiddenArticleProperties'\r\nimport DetailButton from './DetailButton'\r\nimport modal from 'js/components/utils/modal'\r\nimport hljs from 'highlight.js'\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  position: relative;\r\n  @media only screen and (min-width: 930px) {\r\n    padding: 55px;\r\n  }\r\n  width: 100%;\r\n  max-width: 840px;\r\n`\r\n\r\nconst ErrorWrapper = styled.div`\r\n  > h1 {\r\n    color: ${colors.discord.red};\r\n  }\r\n\r\n`\r\n\r\nconst InfoRowBox = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  > div {\r\n    &:first-child {\r\n      margin-right: 10px;\r\n    }\r\n    &:last-child {\r\n      margin-left: 10px;\r\n    }\r\n    max-width: 50%;\r\n    width: 100%;\r\n    > span {\r\n      word-break: break-all;\r\n      /* margin-right: 20px; */\r\n    }\r\n    > div {\r\n      margin-bottom: 8px;\r\n      label {\r\n        display: inline;\r\n        padding-right: 5px;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst LoaderWrapper = styled.div`\r\n  position: relative;\r\n  height: 100px;\r\n`\r\n\r\nconst MoreSupportButtons = styled.div`\r\n  .ui.button {\r\n    margin-bottom: 8px;\r\n  }\r\n`\r\n\r\nfunction articleToString (article) {\r\n  const clone = { ...article }\r\n  for (const prop of hiddenProperties) {\r\n    delete clone[prop]\r\n  }\r\n  return JSON.stringify(clone, null, 2)\r\n}\r\n\r\nfunction getDiff (dateStr) {\r\n  const now = moment()\r\n  console.log(1)\r\n  const original = moment(dateStr)\r\n  console.log(12)\r\n  const secondsDiff = now.diff(original, 'seconds')\r\n  if (secondsDiff < 60) return `${secondsDiff}s`\r\n  const minutesDiff = now.diff(original, 'minutes')\r\n  if (minutesDiff < 60) return `${minutesDiff}m ${secondsDiff - (60 * minutesDiff)}s`\r\n  const hoursDiff = now.diff(original, 'hours')\r\n  if (hoursDiff < 24) return `${hoursDiff}h ${minutesDiff - (60 * hoursDiff)}m`\r\n  const daysDiff = now.diff(original, 'days')\r\n  const monthsDiff = now.diff(original, 'months')\r\n  if (monthsDiff >= 1) return `${monthsDiff}mo`\r\n  return `${daysDiff}d ${hoursDiff}h`\r\n}\r\n\r\nconst jsonViewModalProps = {\r\n  transparentBody: true,\r\n  transparentFooter: true,\r\n  fullWidth: true,\r\n  footer: <Button fluid content='Close' onClick={e => modal.hide()} />\r\n}\r\n\r\nconst autoFetch = 0\r\n\r\nfunction Debugger (props) {\r\n  const { feed, guildId, feedId, articleList, articlesError, articlesFetching, defaultConfig: config, channels } = useSelector(state => ({\r\n    feed: state.feed, guildId: state.guildId, feedId: state.feedId, articleList: state.articleList, articlesError: state.articlesError, articlesFetching: state.articlesFetching, defaultConfig: state.defaultConfig, channels: state.channels\r\n  }), shallowEqual)\r\n  const dispatch = useDispatch()\r\n  const [ feedData, setFeedData ] = useState()\r\n  const [ loadingState, setLoadingState ] = useState(autoFetch) // 0 = await user start, 1 = waiting for request and article fetch, 2 = fetched feed data OR articles, 3 = fetched all data\r\n  const [ loadError, setLoadError ] = useState()\r\n  const articleListById = {}\r\n  for (const article of articleList) articleListById[article._id] = article\r\n  const waitDuration = !feed\r\n    ? 'unknown'\r\n    : !feed.lastRefreshRateMin\r\n      ? config.refreshTimeMinutes < 1\r\n        ? `${config.refreshTimeMinutes * 60} second(s)`\r\n        : `${config.refreshTimeMinutes} minute(s)`\r\n      : feed.lastRefreshRateMin < 1 ? `${feed.lastRefreshRateMin * 60} second(s)` : `${feed.lastRefreshRateMin} minute(s)`\r\n\r\n  useEffect(() => {\r\n    if (!articlesFetching && (loadingState === 2 || loadingState === 3)) {\r\n      setLoadingState(loadingState + 1)\r\n    }\r\n  }, [ articlesFetching, loadingState ])\r\n\r\n  useEffect(() => {\r\n    if (loadingState !== 1) return\r\n    setFeedData()\r\n    setLoadError()\r\n    axios.get(`/api/guilds/${guildId}/feeds/${feedId}/debug`)\r\n      .then(res => {\r\n        setFeedData(res.data)\r\n        setLoadingState(loadingState + 1)\r\n      }).catch(err => {\r\n        console.log(err.response || err)\r\n        const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n        console.log(errMessage)\r\n        setLoadError(errMessage)\r\n      })\r\n  }, [ loadingState, guildId, feedId ])\r\n\r\n  // useEffect(() => {\r\n  //   if (!articlesFetching && loadingData && feedData) setLoadingData(false)\r\n  // }, [ articlesFetching, loadingData, feedData ])\r\n\r\n  useEffect(() => {\r\n    if (!feedId) {\r\n      dispatch(changePage(pages.DASHBOARD))\r\n      props.history.push('/')\r\n    } else {\r\n      dispatch(changePage(pages.DEBUGGER))\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  // When the feed changes and articles are being fetched, set loading state to 1 to fetch feed data again\r\n  useEffect(() => {\r\n    if (feedId && articlesFetching && loadingState >= 3) setLoadingState(1)\r\n  }, [ feedId, articlesFetching, loadingState ])\r\n\r\n  const customComparisonsEnabled = feed && Array.isArray(feed.customComparisons) && feed.customComparisons.length > 0\r\n\r\n  // These arrays all old feed IDs\r\n  const oldArticles = []\r\n  const newArticles = []\r\n  const newArticlesToBeSent = []\r\n  const blockedByTitleChecks = []\r\n  const blockedByDateChecks = []\r\n  const blockedByFilters = []\r\n  const passedCustomComparisons = []\r\n\r\n  const maxAge = config.cycleMaxAge\r\n  const cutoffDay = moment().subtract(maxAge, 'days')\r\n\r\n  const globalDateCheck = config.checkDates\r\n  const localDateCheck = feed.checkDates\r\n  const checkDate = typeof localDateCheck !== 'boolean' ? globalDateCheck : localDateCheck\r\n\r\n  const globalTitleCheck = config.checkTitles\r\n  const localTitleCheck = feed.checkTitles\r\n  const checkTitle = typeof globalTitleCheck !== 'boolean' ? globalTitleCheck : localTitleCheck\r\n\r\n  let allArticlesHaveDates = true\r\n\r\n  if (feedData && articleList.length > 0 && config) {\r\n    const customComparisons = feed.customComparisons // array of names\r\n    const dbIds = new Set()\r\n    const dbTitles = new Set()\r\n    const dbCustomComparisons = {}\r\n    // First store the database entries as reference\r\n    for (const item of feedData) {\r\n      dbIds.add(item.id)\r\n      dbTitles.add(item.title)\r\n      const docCustomComparisons = item.customComparisons\r\n      if (docCustomComparisons !== undefined && Object.keys(docCustomComparisons).length > 0) {\r\n        for (var n in docCustomComparisons) { // n = customComparison's name (such as description, author, etc.)\r\n          if (!dbCustomComparisons[n]) dbCustomComparisons[n] = [docCustomComparisons[n]]\r\n          else dbCustomComparisons[n].push(docCustomComparisons[n])\r\n        }\r\n      }\r\n    }\r\n\r\n    // Then make the important decisions\r\n    const seenTitles = new Set()\r\n\r\n    for (var a = articleList.length - 1; a >= 0; --a) {\r\n      const article = articleList[a]\r\n      const notInitialized = dbIds.size === 0 && articleList.length !== 1\r\n      const idMatched = dbIds.has(article._id)\r\n      const titleMatched = checkTitle && (dbTitles.has(article._fullTitle) || seenTitles.has(article._fullTitle))\r\n      const dateMatched = checkDate && (!article.date || (article.date && moment(article._fullDate) < cutoffDay)) // If date exists, then _fullDate must exists. `.date` is formatted so it won't work for moment - use _fullDate string instead\r\n      if (!article.date) allArticlesHaveDates = false // For a date check misc option alert\r\n      if (!notInitialized && !idMatched) {\r\n        newArticles.push(article._id)\r\n        if (titleMatched) blockedByTitleChecks.push(article._id)\r\n        else if (dateMatched) blockedByDateChecks.push(article._id)\r\n        else {\r\n          if (checkTitle && article._fullTitle) seenTitles.add(article._fullTitle) // To make sure articles within the same cycle with the same titles aren't sent\r\n          const passedFilters = !feed.filters ? true : filters(feed.filters, article).passed\r\n          if (!passedFilters) blockedByFilters.push(article._id)\r\n          else newArticlesToBeSent.push(article._id)\r\n        }\r\n      } else {\r\n        oldArticles.push(article._id)\r\n      }\r\n    }\r\n\r\n    // Now deal with custom comparisons\r\n    if (customComparisonsEnabled) {\r\n      const blockedArticles = [ ...oldArticles, ...blockedByDateChecks, ...blockedByFilters, ...blockedByTitleChecks ]\r\n      for (const articleID of blockedArticles) {\r\n        const article = articleListById[articleID]\r\n        for (var z = 0; z < customComparisons.length; ++z) {\r\n          const comparisonName = customComparisons[z]\r\n          const dbCustomComparisonValues = dbCustomComparisons[comparisonName] // Might be an array of descriptions, authors, etc.\r\n          const articleCustomComparisonValue = article[comparisonName]\r\n          if (!dbCustomComparisonValues || dbCustomComparisonValues.includes(articleCustomComparisonValue) || !articleCustomComparisonValue) {\r\n            continue // The comparison must either be uninitialized or invalid (no such comparison exists in any articles from the request), handled by a previous function. OR it exists in the db\r\n          }\r\n          passedCustomComparisons.push(articleID)\r\n          break\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const tz = Intl.DateTimeFormat().resolvedOptions().timeZone\r\n\r\n  const articleListView = (articleArray, symbolType) => articleArray.map(articleID => {\r\n    const article = articleListById[articleID]\r\n    return (\r\n      <li key={article._id}>\r\n        <div>\r\n          { symbolType === 1\r\n            ? <Icon name='ellipsis horizontal' style={{ color: colors.discord.yellow, fontSize: '16px' }} />\r\n            : symbolType === 2\r\n              ? <Icon name='x' style={{ color: colors.discord.red, fontSize: '16px' }} />\r\n              : <Icon name='check' style={{ color: colors.discord.green, fontSize: '16px' }} />\r\n          }\r\n          <SectionSubtitle>ID -</SectionSubtitle>{article._id + '149r5237ut859ujti835498yth35yt3598h'}\r\n          <span style={{ color: colors.discord.subtext }}>{article.date ? ` (${getDiff(article.date)} ago)` : ''}</span>\r\n        </div>\r\n        <Button icon='code' basic size='tiny' onClick={e => modal.show(jsonViewModalProps, <pre style={{ width: '100%', maxWidth: '100%' }}><code dangerouslySetInnerHTML={{ __html: hljs.highlight('json', articleToString(article)).value }} /></pre>)} />\r\n\r\n      </li>\r\n    )\r\n  })\r\n\r\n  let etaAvailable = null\r\n  if (feed && (newArticlesToBeSent.length > 0 || passedCustomComparisons.length > 0)) {\r\n    const toBeDelivered = [ ...newArticlesToBeSent, ...passedCustomComparisons ]\r\n    let earliestArticleMoment\r\n    for (const articleID of toBeDelivered) {\r\n      const article = articleListById[articleID]\r\n      if (!article.date) continue\r\n      const articleMoment = moment(article.date)\r\n      if (!earliestArticleMoment || (articleMoment < earliestArticleMoment)) earliestArticleMoment = articleMoment\r\n    }\r\n    if (!earliestArticleMoment) etaAvailable = 'Unresolvable'\r\n    else {\r\n      const toAdd = feed.lastRefreshRateMin || config.refreshTimeMinutes\r\n      earliestArticleMoment.add(toAdd, 'minutes')\r\n      etaAvailable = `${earliestArticleMoment.diff(moment(), 'minutes')} minutes`\r\n    }\r\n  }\r\n\r\n  const mainBody = (\r\n    <div>\r\n      <SectionTitle heading='General Info' />\r\n      <InfoRowBox>\r\n        <div>\r\n          <SectionSubtitle>URL</SectionSubtitle>\r\n          <span>{ feed ? <a href={feed.link} target='_blank' rel='noopener noreferrer'>{feed.link}</a> : null }</span>\r\n        </div>\r\n        <div>\r\n          <SectionSubtitle>Added On</SectionSubtitle>\r\n          <span>{ feed && feed.addedOn ? moment(feed.addedOn).tz(tz).format('ddd, D MMMM YYYY, h:mm A z') : null }</span>\r\n        </div>\r\n      </InfoRowBox>\r\n      <br />\r\n      <InfoRowBox>\r\n        <div>\r\n          <SectionSubtitle>Channel</SectionSubtitle>\r\n          <span>{ feed && channels[guildId] && channels[guildId][feed.channel] ? `#${channels[guildId][feed.channel].name}` : <span style={{ color: colors.discord.red }}>Missing</span> }</span>\r\n        </div>\r\n        <div>\r\n          <SectionSubtitle>Refresh Rate</SectionSubtitle>\r\n          <span>{waitDuration}</span>\r\n        </div>\r\n      </InfoRowBox>\r\n      {/* <SectionSubtitleDescription>After a feed is added, at least 10 minutes must pass before any new articles are sent (if there are any).</SectionSubtitleDescription> */}\r\n      {/* <AlertBox warn>Yes</AlertBox> */}\r\n      <br />\r\n      <InfoRowBox>\r\n        <div>\r\n          <div>\r\n            <SectionSubtitle>Database Articles</SectionSubtitle>\r\n            <Popup inverted basic content='Number of articles stored by the as reference' trigger={<Icon name='question circle' style={{ fontSize: '.9em' }} />} />\r\n          </div>\r\n          <span>{ feedData ? feedData.length : '-' }</span>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <SectionSubtitle>Feed Articles</SectionSubtitle>\r\n            <Popup inverted basic content='Number of articles currently in the feed itself' trigger={<Icon name='question circle' style={{ fontSize: '.9em' }} />} />\r\n          </div>\r\n          <span>{ articleList.length }</span>\r\n        </div>\r\n      </InfoRowBox>\r\n      <br />\r\n\r\n      {/* <SectionSubtitle>Last Article Delivered At</SectionSubtitle>\r\n      <span>{ feedData ? moment(feedData[feedData.length - 1].date).tz(tz).format('ddd, D MMMM YYYY, h:mm A z') : null}</span> */}\r\n\r\n      { !allArticlesHaveDates && checkDate ? <AlertBox warn>Date checking is turned on but some articles in this feed have missing dates. Date checking will cause such articles to never be delivered - be sure to turn it off in Misc Options.</AlertBox> : null }\r\n      <Divider />\r\n      <SectionTitle heading='Details' subheading='Note that these are predictions, and may not be indicative of actual behavior. Custom Comparisons are not accounted for here. New articles are defined as new if they are added to the feed *past* the time of addition.' />\r\n\r\n      <SectionSubtitle>Default Algorithm</SectionSubtitle>\r\n      <DetailButton title='New Articles' number={newArticles.length} numberColor={newArticles.length > 0 ? colors.discord.yellow : null}>\r\n        <ul>{ articleListView(newArticles, 1) }</ul>\r\n      </DetailButton>\r\n      <br />\r\n      <DetailButton disabled={!checkDate} popupText={!checkDate ? 'Date checks are not enabled for this feed' : ''} title='Blocked by Date Checks' number={blockedByDateChecks.length * -1} numberColor={blockedByDateChecks.length > 0 ? colors.discord.red : null}>\r\n        <ul>{ articleListView(blockedByDateChecks, 2) }</ul>\r\n      </DetailButton>\r\n      <DetailButton disabled={!checkTitle} popupText={!checkTitle ? 'Title checks are not enabled for this feed' : ''} title='Blocked by Title Checks' number={blockedByTitleChecks.length * -1} numberColor={blockedByTitleChecks.length > 0 ? colors.discord.red : null}>\r\n        <ul>{ articleListView(blockedByTitleChecks, 2) }</ul>\r\n      </DetailButton>\r\n      <DetailButton disabled={!feed || !feed.filters} popupText={!feed || !feed.filters ? 'There are no filters set for this feed.' : ''} title='Blocked by Filters' number={blockedByFilters.length * -1} numberColor={blockedByFilters.length > 0 ? colors.discord.red : null}>\r\n        <ul>{ articleListView(blockedByFilters, 2) }</ul>\r\n      </DetailButton>\r\n      <br />\r\n      <DetailButton title='Pending Article Deliveries' number={newArticlesToBeSent.length} numberColor={newArticlesToBeSent.length > 0 ? colors.discord.green : null}>\r\n        <ul>{ articleListView(newArticlesToBeSent, 3) }</ul>\r\n      </DetailButton>\r\n      <br /><br />\r\n\r\n      <SectionSubtitle>Custom Comparisons Algorithm</SectionSubtitle>\r\n      <DetailButton disabled={!customComparisonsEnabled} popupText={!customComparisonsEnabled ? 'Custom comparisons are not enabled for this feed' : ''} title='Pending Article Deliveries' number={passedCustomComparisons.length} numberColor={passedCustomComparisons.length > 0 ? colors.discord.green : null}>\r\n        <ul>{ articleListView(passedCustomComparisons, 3) }</ul>\r\n      </DetailButton>\r\n      <Divider />\r\n      <SectionTitle heading='Summary' />\r\n      <p style={{ fontSize: '16px' }}>\r\n        { newArticles.length === 0 && passedCustomComparisons.length === 0\r\n          ? `No new articles detected at this time. Once new articles are found, please wait at least ${waitDuration} for them to be delivered.`\r\n          : newArticles.length === 0 && passedCustomComparisons.length > 0\r\n            ? `New articles were found through custom comparisons (while none were found through the default algorithm). Please wait at least ${waitDuration} for them to be delivered.`\r\n            : newArticles.length > 0 && passedCustomComparisons.length > 0\r\n              ? `New articles were found through both the default algorithm and custom comparisons. Please wait at least ${waitDuration} for them to be delivered.`\r\n              : newArticlesToBeSent.length < newArticles.length\r\n                ? newArticlesToBeSent.length === 0\r\n                  ? `New articles were found, but they were all blocked by one of the following conditions above.`\r\n                  : `New articles were found. Not all of them will be delivered since some of them were blocked by the above conditions. Please wait at least ${waitDuration} for delivery.`\r\n                : `New articles were found. Please wait at least ${waitDuration} for delivery.`\r\n        }\r\n      </p>\r\n      { etaAvailable\r\n        ? <div>\r\n          <br />\r\n          <SectionSubtitle>Rough ETA</SectionSubtitle>\r\n          {etaAvailable}\r\n        </div>\r\n        : ''\r\n      }\r\n      {/* <br /><br /> */}\r\n      {/* <SectionSubtitle>New Articles</SectionSubtitle> */}\r\n      {/* <SectionSubtitleDescription>Articles stored in the database are used as reference to determine whether articles are old or new.</SectionSubtitleDescription> */}\r\n      {/* <Button content='Refresh' fluid onClick={e => {\r\n        setActiveFeed(feedId)\r\n        fetchDebug()\r\n      }} /> */}\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <Container>\r\n      <PageHeader heading='Debugger' subheading='Understand why your feed may not be working as expected.' />\r\n      <Divider />\r\n\r\n      { feed.disabled\r\n        ? <AlertBox warn >This feed has been disabled for the following reason: <strong>{feed.disabled || 'No reason specified'}</strong></AlertBox>\r\n        : articlesError\r\n          ? <ErrorWrapper><h1>Failed to load feed articles</h1><h3>{articlesError}</h3></ErrorWrapper>\r\n          : loadError\r\n            ? <ErrorWrapper><h1>Failed to fetch debug data</h1><h3>{loadError}</h3></ErrorWrapper>\r\n            : loadingState === 0\r\n              ? <Button size='huge' fluid color='black' content='Begin Debugging' onClick={e => {\r\n                setLoadingState(1)\r\n              }} />\r\n              : loadingState === 1 || loadingState === 2\r\n                ? <LoaderWrapper><Loader active content='Loading' /></LoaderWrapper>\r\n                : mainBody}\r\n      <Divider />\r\n      <SectionTitle heading='More Help' />\r\n      <MoreSupportButtons>\r\n        <Button fluid icon labelPosition='right' onClick={e => props.history.push('/faq')}>\r\n          Frequently Asked Questions\r\n          <Icon name='right arrow' />\r\n        </Button>\r\n        <Button fluid icon labelPosition='right' onClick={e => props.history.push(`${pages.FEED_BROWSER}/${encodeURIComponent(feed.link)}`)}>\r\n          Feed Browser\r\n          <Icon name='right arrow' />\r\n        </Button>\r\n        <Button as='a' fluid icon labelPosition='right' target='_blank' href='https://discord.gg/pudv7Rx'>\r\n          Support Server\r\n          <Icon name='external' />\r\n        </Button>\r\n      </MoreSupportButtons>\r\n    </Container>\r\n  )\r\n}\r\n\r\nDebugger.propTypes = {\r\n  history: PropTypes.object\r\n}\r\n\r\nexport default Debugger\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport Home from './Main/Home/index'\r\nimport Feeds from './Server/Feeds/index'\r\nimport Settings from './Server/Settings/index'\r\nimport Message from './Feed/Message/index'\r\nimport Filters from './Feed/Filters/index'\r\nimport Subscriptions from './Feed/Subscriptions/index'\r\nimport MiscOptions from './Feed/MiscOptions/index'\r\nimport Debugger from './Feed/Debugger/index'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { setActiveGuild } from '../../../actions/index-actions'\r\nimport pages from '../../../constants/pages';\r\nimport { changePage } from '../../../actions/index-actions'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setActiveGuild: guildId => dispatch(setActiveGuild(guildId)),\r\n    changePage: page => dispatch(changePage(page))\r\n  }\r\n}\r\n\r\nconst Body = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: #36393f;\r\n  /* overflow-y: auto; */\r\n  /* scrollbar-width: thin; */\r\n`\r\n\r\nclass ContentBody extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n\r\n    }\r\n  }\r\n\r\n  redirect = page => {\r\n    const { changePage } = this.props\r\n    changePage(page)\r\n    this.props.history.push(page)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Body>\r\n        {/* <Notice>Hello!</Notice> */}\r\n        <Scrollbars>\r\n          <Switch>\r\n            \r\n            <Route exact path={pages.DASHBOARD} render={routerProps => <Home redirect={this.redirect} {...routerProps} />}/>\r\n            <Route exact path={pages.FEEDS} render={routerProps => <Feeds redirect={this.redirect} {...routerProps} />} />\r\n            <Route exact path={pages.SERVER_SETTINGS} render={routerProps => <Settings {...routerProps} />} />\r\n            <Route exact path={pages.MESSAGE} render={routerProps => <Message {...routerProps} />} />\r\n            <Route exact path={pages.FILTERS} render={routerProps => <Filters {...routerProps} />} />\r\n            <Route exact path={pages.SUBSCRIPTIONS} render={routerProps => <Subscriptions {...routerProps} />} />\r\n            <Route exact path={pages.MISC_OPTIONS} render={routerProps => <MiscOptions {...routerProps} />} />\r\n            <Route exact path={pages.DEBUGGER} component={routerProps => <Debugger {...routerProps} />} />\r\n            <Route render={routerProps => <Home {...routerProps} />} />\r\n          </Switch>\r\n        </Scrollbars>\r\n      </Body>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(ContentBody))\r\n","export default {\r\n  CONNECTING: 0,\r\n  CONNECTED: 1,\r\n  DISCONNECTED: 2\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\nimport socketStatus from '../../../constants/socketStatus'\r\nimport { Icon, Button, Popup } from 'semantic-ui-react'\r\nimport { darken } from 'polished'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    guilds: state.guilds,\r\n    feeds: state.feeds\r\n  }\r\n}\r\n\r\nconst RouterLink = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  :hover {\r\n    text-decoration: none !important;\r\n  }\r\n  &:active, &:focus {\r\n    outline: 0;\r\n    border: none;\r\n  }\r\n`\r\n\r\nconst BrandTitleContainer = styled.div`\r\n  position: fixed;\r\n  padding-left: 1em;\r\n  padding-right: 2em;\r\n  box-shadow: 0 2px 0px 0 rgba(0,0,0,0.2);\r\n  display: flex;\r\n  background: #282b30;\r\n  width: 100vw;\r\n  z-index: 500;\r\n  /* justify-content: cen; */\r\n  align-items: center;\r\n  user-select: none;\r\n  justify-content: space-between;\r\n  /* cursor: pointer; */\r\n  > a {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  &:hover {\r\n    text-decoration: none;\r\n  }\r\n  > div {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  @media screen and (min-width: 860px) {\r\n    padding-left: 2em;\r\n    .expand-left-menu-btn {\r\n      display: none !important;\r\n    }\r\n  }\r\n  height: 60px;\r\n`\r\nconst Logo = styled.img`\r\n  height:  2em;\r\n  margin-right: 0.75em;\r\n`\r\n\r\nconst Title = styled.h2`\r\n  color: ${darken(0.1, 'white')};\r\n  margin: 0;\r\n  \r\n  /* font-weight: 300; */\r\n`\r\n\r\nconst ExpandButton = styled(Button)`\r\n  margin-right: 1em !important;\r\n`\r\n\r\nclass App extends React.PureComponent {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      hideExperimental: window.innerWidth < 500\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    window.addEventListener(\"resize\", this.updateDimensions)\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    window.removeEventListener(\"resize\", this.updateDimensions)\r\n  }\r\n\r\n  updateDimensions = () => {\r\n    if (!this.state.hideExperimental && window.innerWidth < 500) this.setState({ hideExperimental: true })\r\n    else if (this.state.hideExperimental && window.innerWidth >= 500) this.setState({ hideExperimental: false })\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <BrandTitleContainer hideExpandButton={this.props.hideExpandButton}>\r\n      \r\n        <div>\r\n          <ExpandButton className='expand-left-menu-btn' icon='list' basic onClick={this.props.toggleLeftMenu} />\r\n          {/* {this.props.hideExpandButton ? null : } */}\r\n          <RouterLink to='/'>\r\n            <Logo src='https://discordapp.com/assets/d36b33903dafb0107bb067b55bdd9cbc.svg' />\r\n            <Title>Discord.RSS</Title>\r\n          </RouterLink>\r\n        </div>\r\n        <div>\r\n          {/* {this.state.hideExperimental\r\n          ? null\r\n          : <Popup\r\n            trigger={<h3 style={{ margin: 0, paddingRight: '1em' }}>EXPERIMENTAL</h3>}\r\n            inverted\r\n            content='This is a highly experimental UI only for patron use'\r\n          />\r\n          } */}\r\n          {\r\n            this.props.socketStatus === socketStatus.CONNECTED\r\n              ? <Popup trigger={<Icon name={'check circle outline'} size='large' color='green' />} content='Server is connected, and all changes are bidirectionally live' position='bottom left' inverted/>\r\n              : this.props.socketStatus === socketStatus.DISCONNECTED ? <Popup trigger={<Icon name={'x'} size='large' color='red' />} content='Server is disconnected. No changes will be saved!' position='bottom left' inverted/>\r\n                : <Popup trigger={<Icon name={'question circle outline'} size='large' color='grey' />} content='Attempting to connect to server...' position='bottom left' inverted/>\r\n          }\r\n        </div>\r\n      </BrandTitleContainer>\r\n    )\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  hideExpandButton: PropTypes.bool,\r\n  toggleLeftMenu: PropTypes.func,\r\n  socketStatus: PropTypes.number\r\n}\r\n\r\nexport default connect(mapStateToProps)(App)\r\n","import React from 'react'\r\nimport axios from 'axios'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { ToastContainer } from 'react-toastify'\r\nimport styled from 'styled-components'\r\nimport LeftMenu from './LeftMenu/index'\r\nimport ContentBody from './ContentBody/index'\r\nimport { connect } from 'react-redux'\r\nimport colors from 'js/constants/colors'\r\nimport PropTypes from 'prop-types'\r\nimport { clearGuild, updateGuildAfterWebsocket, changePage, initState, updateLinkStatus, updateGuildLimits, updateSourceSchedule } from 'js/actions/index-actions'\r\nimport openSocket from 'socket.io-client'\r\nimport socketStatus from 'js/constants/socketStatus'\r\nimport { Loader, Icon, Button } from 'semantic-ui-react'\r\nimport TopBar from './TopBar/index'\r\n\r\nvar socket\r\n\r\nconst MainContainer = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  max-width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding-top: 60px;\r\n`\r\n\r\nconst EmptyBackground = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background-color: #282b30;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  text-align: center;\r\n  align-items: center;\r\n  h1 {\r\n    color: white;\r\n  }\r\n  color: ${colors.discord.text};\r\n`\r\n\r\nconst EmptyBackgroundTransparent = styled(EmptyBackground)`\r\n  display: ${props => props.visible ? 'flex' : 'none'};\r\n  position: absolute;\r\n  background: rgba(40, 43, 48, .85);\r\n  z-index: 99999;\r\n  padding: 20px;\r\n  > h1 {\r\n    color: ${colors.discord.red};\r\n  }\r\n`\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    guilds: state.guilds,\r\n    feeds: state.feeds,\r\n    modalOpen: state.modalOpen,\r\n    modal: state.modal\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    initializeState: data => dispatch(initState(data)),\r\n    clearGuild: guildId => dispatch(clearGuild(guildId)),\r\n    updateGuildAfterWebsocket: guildRss => dispatch(updateGuildAfterWebsocket(guildRss)),\r\n    changePage: page => dispatch(changePage(page)),\r\n    updateLinkStatus: data => dispatch(updateLinkStatus(data)),\r\n    updateGuildLimits: limits => dispatch(updateGuildLimits(limits)),\r\n    updateSourceSchedule: data => dispatch(updateSourceSchedule(data))\r\n  }\r\n}\r\n\r\nclass ControlPanel extends React.PureComponent {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      loaded: false,\r\n      leftMenuExpanded: window.innerWidth >= 860,\r\n      leftMenu300Width: window.innerWidth >= 860,\r\n      socketStatus: socketStatus.CONNECTING,\r\n      authenticatingLogin: true,\r\n      loggedOut: true,\r\n      errorMessage: '',\r\n      enabled: true\r\n    }\r\n\r\n    this.notificationDOMRef = React.createRef()\r\n  }\r\n\r\n  socketConnected = () => {\r\n    console.log('[WEBSOCKET] Connected')\r\n    this.setState({ socketStatus: socketStatus.CONNECTED })\r\n  }\r\n\r\n  socketDisconnected = reason => {\r\n    console.log('[WEBSOCKET] Disconnected')\r\n    setTimeout(() => {\r\n      // Set a timeout to ignore refreshes which will auto disconnect the socket\r\n      if (!socket.disconnected) return\r\n      this.setState({ socketStatus: socketStatus.DISCONNECTED })\r\n      if (reason === 'io server disconnect') socket.connect()\r\n    }, 3000)\r\n  }\r\n\r\n  socketReconnect = botReady => {\r\n    if (!botReady) console.log('[WEBSOCKET] Reconnected')\r\n    this.setState({ loaded: false })\r\n    axios.get('/api/authenticated').then(({ data, status }) => {\r\n      if (status === 202) return // Bot is still initializing, wait for BOT_READY socket event\r\n      if (data.authenticated) this.initialize()\r\n      else this.setState({ authenticatingLogin: false })\r\n    }).catch(err => {\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      this.setState({ errorMessage: errMessage })\r\n    })\r\n    // for (const guildId in guilds) socket.emit('identify', guildId)\r\n  }\r\n\r\n  componentWillMount () {\r\n    const socketUrl = `${window.location.protocol}//${window.location.hostname}${window.location.port ? `:${window.location.port}` : ''}`\r\n    if (!socket) socket = openSocket(socketUrl, { forceNew: false })\r\n    socket.on('DRSS_BOT_READY', () => this.socketReconnect(true))\r\n    socket.on('DRSS_PROFILE_UPDATE', message => {\r\n      this.updateGuildInState(JSON.parse(message))\r\n    })\r\n    socket.on('linkStatus', message => this.linkStatusUpdate(JSON.parse(message)))\r\n    socket.on('guildLimitsUpdate', message => this.guildLimitsUpdate(JSON.parse(message)))\r\n    socket.on('disconnect', this.socketDisconnected)\r\n    socket.on('connect', this.socketConnected)\r\n    socket.on('reconnect', this.socketReconnect)\r\n    axios.get('/api/authenticated').then(({ data, status }) => {\r\n      if (status === 202) return // Bot is still initializing, wait for BOT_READY socket event\r\n      if (data.authenticated) this.initialize()\r\n      else this.setState({ authenticatingLogin: false })\r\n    }).catch(err => {\r\n      const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n      this.setState({ errorMessage: errMessage })\r\n    })\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    if (socket) {\r\n      socket.removeEventListener('disconnect', this.socketDisconnected)\r\n      socket.removeEventListener('connect', this.socketConnected)\r\n      socket.removeEventListener('reconnect', this.socketReconnect)\r\n      window.removeEventListener(\"resize\", this.updateDimensions)\r\n      socket.disconnect()\r\n    }\r\n  }\r\n\r\n  initialize = () => {\r\n    let localGuildId = window.localStorage.getItem('guildId')\r\n    let localFeedId = window.localStorage.getItem('feedId')\r\n\r\n    const state = {\r\n      user: null,\r\n      bot: null,\r\n      defaultConfig: null,\r\n      guilds: {}, // By guild id\r\n      feeds: {}, // by guild id, then by feed id\r\n      filters: {}, // by guild id, then by feed id\r\n      subscribers: {}, // by guild id, then by feed id, then by subscriber id\r\n      channels: {}, // by guild id, then by channel id\r\n      roles: {},\r\n      guildLimits: {},\r\n      embeds: {},\r\n      messages: {},\r\n      linksStatus: {},\r\n      refreshRates: {},\r\n      guildId: '',\r\n      feedId: '',\r\n      guild: null,\r\n      feed: null,\r\n      modalContent: null,\r\n      cpResponse: null\r\n    }\r\n\r\n    axios.get('/api/cp').then(({ data, status }) => {\r\n      const { defaultConfig, user, bot, guilds, linksStatus, csrfToken } = data\r\n      state.cpResponse = data\r\n      state.linksStatus = linksStatus\r\n      state.defaultConfig = defaultConfig\r\n      state.user = user\r\n      state.bot = bot\r\n      state.csrfToken = csrfToken\r\n      for (const guildId in guilds) {\r\n        socket.emit('identify', guildId)\r\n        const guild = guilds[guildId]\r\n        const { discord, profile, maxFeeds, roles, channels } = guild\r\n        state.guilds[guildId] = { ...discord }\r\n        state.feeds[guildId] = {}\r\n        state.embeds[guildId] = {}\r\n        state.messages[guildId] = {}\r\n        state.roles[guildId] = {}\r\n        state.channels[guildId] = {}\r\n        state.subscribers[guildId] = {}\r\n        state.filters[guildId] = {}\r\n        state.refreshRates[guildId] = {}\r\n        state.guildLimits[guildId] = maxFeeds\r\n        \r\n        if (!localGuildId || localGuildId === guildId) {\r\n          if (!localGuildId) {\r\n            window.localStorage.setItem('guildId', guildId)\r\n            localGuildId = guildId\r\n          }\r\n          state.guildId = guildId\r\n          state.guild = { ...state.guilds[guildId] }\r\n        }\r\n\r\n        for (const keyName in profile) {\r\n          const value = profile[keyName]\r\n          if (typeof value !== 'object' && value !== undefined) state.guilds[guildId][keyName] = value\r\n          if (keyName !== 'sources') continue\r\n          const rssList = value\r\n          for (const rssName in rssList) {\r\n            const source = rssList[rssName]\r\n            source.rssName = rssName\r\n            const copy = JSON.parse(JSON.stringify(source))\r\n            if (localGuildId && localGuildId === guildId && (!localFeedId || localFeedId === rssName)) {\r\n              if (!localFeedId) {\r\n                window.localStorage.setItem('feedId', rssName)\r\n                localFeedId = rssName\r\n              }\r\n              state.feedId = rssName\r\n              state.feed = copy\r\n            }\r\n            state.feeds[guildId][rssName] = copy\r\n            state.embeds[guildId][rssName] = source.embeds\r\n            state.messages[guildId][rssName] = source.message\r\n\r\n            // Feed Filters\r\n            if (source.filters) state.filters[guildId][rssName] = source.filters\r\n\r\n            // Feed Subscriptions\r\n            state.subscribers[guildId][rssName] = {}\r\n            if (source.subscribers && source.subscribers.length > 0) {\r\n              for (const subscriber of source.subscribers) {\r\n                state.subscribers[guildId][rssName][subscriber.id] = subscriber\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        for (const channel of channels) state.channels[guildId][channel.id] = channel\r\n        for (const role of roles) state.roles[guildId][role.id] = role\r\n      }\r\n      this.props.initializeState(state)\r\n      window.addEventListener(\"resize\", this.updateDimensions)\r\n      this.setState({ loaded: true, loggedOut: false, authenticatingLogin: false })\r\n    }).catch(err => {\r\n        const errMessage = err.response && err.response.data && err.response.data.message ? err.response.data.message : err.response && err.response.data ? err.response.data : err.message\r\n        if (err.response && err.response.status === 401) {\r\n          if (err.response.data && err.response.data.code === 9999) this.setState({ errorMessage: errMessage })\r\n          else this.setState({ loggedOut: true })\r\n        } else {\r\n          console.log(err.response || err.message, err)\r\n          this.setState({ errorMessage: errMessage })\r\n        }\r\n    })\r\n  }\r\n\r\n  updateDimensions = () => {\r\n    const newState = {}\r\n    if (window.innerWidth < 860) {\r\n      // if (this.state.leftMenuExpanded) newState.leftMenuExpanded = false\r\n      if (this.state.leftMenu300Width) newState.leftMenu300Width = false\r\n    } else {\r\n      if (!this.state.leftMenuExpanded) newState.leftMenuExpanded = true\r\n      if (!this.state.leftMenu300Width) newState.leftMenu300Width = true\r\n    }\r\n    if (Object.keys(newState).length > 0) this.setState(newState)\r\n  }\r\n\r\n  linkStatusUpdate = statuses => {\r\n    this.props.updateLinkStatus(statuses)\r\n  }\r\n\r\n  guildLimitsUpdate = limits => {\r\n    this.props.updateGuildLimits(limits)\r\n  }\r\n\r\n  updateGuildInState = data => {\r\n    const { feeds } = this.props\r\n    const guildId = data.id\r\n    console.log(`[WEBSOCKET] Guild ${guildId} was updated from Discord`)\r\n    const guildRss = data.profile\r\n    if (!guildRss) return this.props.clearGuild(guildId)\r\n    const rssList = guildRss.sources\r\n    if (rssList) {\r\n      for (const rssName in rssList) {\r\n        if (!feeds[rssName]) socket.emit('getLinkStatus', rssList[rssName].link) // Must be a new feed\r\n      }\r\n    }\r\n    this.props.updateGuildAfterWebsocket(guildRss)\r\n  }\r\n\r\n  updateSourceSchedule = data => {\r\n    this.props.updateSourceSchedule(data)\r\n  }\r\n\r\n  render () {\r\n    if (this.state.errorMessage) return (\r\n      <EmptyBackground>\r\n        <div>\r\n          <Icon name='x' size='massive' color='red' />\r\n          <h1>Oops!<br/>Something went wrong!</h1>\r\n          <h3>{this.state.errorMessage || ''}</h3>\r\n          <Button basic fluid onClick={e => this.props.history.push('/')}>Home</Button>\r\n          <br />\r\n          {!this.state.loggedOut ? <Button basic fluid onClick={e => { window.location.href = '/logout' }} color='red'>Logout</Button> : null}\r\n          </div>\r\n      </EmptyBackground>\r\n    )\r\n    if (!this.state.loaded) {\r\n      if (!this.state.authenticatingLogin && this.state.loggedOut) {\r\n        window.location.href = '/login'\r\n      }\r\n      return (\r\n        // <Dimmer.Dimmable blurring dimmed={!this.state.loaded}>\r\n        <EmptyBackground>\r\n          <Loader inverted active={!this.state.loaded} size='massive'>Loading</Loader>\r\n        </EmptyBackground>\r\n        // </Dimmer.Dimmable>\r\n      )\r\n    }\r\n    return (\r\n      <div>\r\n        <EmptyBackgroundTransparent visible={this.state.socketStatus === socketStatus.DISCONNECTED}>\r\n          <Icon name='broken chain' size='massive' color='red' />\r\n          <h1>Disconnected from Server</h1>\r\n          <h3>My lifeline to the server has been severed! Access will be restored once my connection has been re-established.</h3>\r\n        </EmptyBackgroundTransparent>\r\n        {/* <DiscordModal onClose={modal.hide} open={this.props.modalOpen} { ...this.props.modal.props }>{this.props.modal.children}</DiscordModal> */}\r\n        <ToastContainer position='top-center' />\r\n        <TopBar toggleLeftMenu={() => this.setState({ leftMenuExpanded: !this.state.leftMenuExpanded })} socketStatus={this.state.socketStatus} />\r\n        <MainContainer>\r\n          <LeftMenu disableMenuButtonToggle={this.state.leftMenu300Width} toggleLeftMenu={() => {\r\n            this.setState({ leftMenuExpanded: !this.state.leftMenuExpanded })\r\n          }} socketStatus={this.state.socketStatus} expanded={this.state.leftMenuExpanded} />\r\n          <ContentBody />\r\n        </MainContainer>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nControlPanel.propTypes = {\r\n  initializeState: PropTypes.func\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ControlPanel))\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport PropTypes from 'prop-types'\r\nimport posed, { PoseGroup } from 'react-pose'\r\nimport colors from '../../constants/colors'\r\n// import { Scrollbars } from 'react-custom-scrollbars'\r\nconst TRANSITION_DURATION = 150\r\n\r\nconst Shade = posed.div({\r\n  enter: { opacity: 1, transition: { duration: TRANSITION_DURATION } },\r\n  exit: { opacity: 0, transition: { duration: TRANSITION_DURATION } }\r\n})\r\n\r\nconst Modal = posed.div({\r\n  enter: { scale: 1 },\r\n  exit: { scale: 0.8 }\r\n})\r\n\r\nconst StyledShade = styled(Shade)`\r\n  background: rgba(0,0,0,0.85);\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 10000;\r\n`\r\n\r\nconst StyledModal = styled(Modal)`\r\n  position: relative;\r\n  /* width: auto; */\r\n  color: ${colors.discord.text};\r\n  margin-right: 1em;\r\n  margin-left: 1em;\r\n  ${props => props.isImage || props.fullWidth ? '' : 'max-width: 490px'};\r\n  ${props => props.isImage ? '' : 'width: 100%'};\r\n`\r\n\r\nconst ModalHeader = styled.div`\r\n  position: relative;\r\n  z-index: 10;\r\n  padding: 1em;\r\n  background-color: #36393f;\r\n  border-top-left-radius: 0.75em;\r\n  border-top-right-radius: 0.75em;\r\n  box-shadow: 0 2px 0px 0 rgba(0,0,0,0.2);\r\n  max-width: 490px;\r\n  width: 100%;\r\n`\r\n\r\nconst ModalFooter = styled.div`\r\n  padding: 1em;\r\n  background-color: ${props => props.transparent ? 'transparent' : colors.discord.darkButNotBlack};\r\n  border-bottom-left-radius: 0.75em;\r\n  border-bottom-right-radius: 0.75em;\r\n  ${props => props.fullWidth ? '' : 'max-width: 490px'};\r\n  width: 100%;\r\n`\r\n\r\nconst ModalBody = styled.div`\r\n  position: relative;\r\n  background: ${props => props.transparent ? 'transparent' : '#36393f'};\r\n  padding: 1em;\r\n  max-height: ${props => props.isImage ? '100%' : 'calc(100vh - 250px)'};\r\n  overflow-y: auto;\r\n  border-top-left-radius: ${props => props.hasHeader ? 0 : '0.75em'};\r\n  border-top-right-radius: ${props => props.hasHeader ? 0 : '0.75em'};\r\n  border-bottom-left-radius: ${props => props.hasFooter ? 0 : '0.75em'};\r\n  border-bottom-right-radius: ${props => props.hasFooter ? 0 : '0.75em'};\r\n  > div {\r\n    flex-grow: 1;\r\n  }\r\n`\r\n\r\nconst ModalHeaderWrapper = styled.div`\r\n  color: ${colors.discord.text};\r\n  h4 {\r\n    color: white;\r\n    margin-bottom: 3px;\r\n  }\r\n`\r\n\r\nclass DiscordModal extends React.PureComponent {\r\n  componentDidMount () {\r\n    document.addEventListener('keydown', this.escFunction, false)\r\n    window.addEventListener('popstate', this.popState)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    document.removeEventListener('keydown', this.escFunction, false)\r\n    window.removeEventListener('popstate', this.popState)\r\n  }\r\n\r\n  popState = e => {\r\n    if (this.props.open) {\r\n      e.preventDefault()\r\n      this.props.onClose()\r\n    }\r\n  }\r\n\r\n  escFunction = event => {\r\n    if (event.keyCode === 27 && this.props.open) this.props.onClose()\r\n  }\r\n\r\n  render () {\r\n    const props = this.props\r\n\r\n    return (\r\n      <PoseGroup>\r\n        {this.props.open && [\r\n          <StyledShade key='shade' onClick={e => {\r\n            if (e.target === e.currentTarget && this.props.onClose) this.props.onClose()\r\n          }}>\r\n            <StyledModal key='dialog' isImage={this.props.isImage} fullWidth={this.props.fullWidth}>\r\n              {props.header\r\n                ? <ModalHeader>{props.header}</ModalHeader>\r\n                : props.title || props.subtitle\r\n                  ? <ModalHeader><ModalHeaderWrapper><h4>{props.title}</h4><p>{props.subtitle}</p></ModalHeaderWrapper></ModalHeader>\r\n                  : null}\r\n                  {/* <Scrollbars> */}\r\n              <ModalBody isImage={this.props.isImage} transparent={props.transparentBody} hasHeader={!!props.header || !!props.title || !!props.subtitle} hasFooter={!!props.footer}><div>{props.children}</div></ModalBody>\r\n              {/* </Scrollbars> */}\r\n              {props.footer ? <ModalFooter transparent={props.transparentFooter} fullWidth={this.props.fullWidth}>{props.footer}</ModalFooter> : undefined}\r\n            </StyledModal>\r\n          </StyledShade>,\r\n        ]}\r\n      </PoseGroup>\r\n    )\r\n  }\r\n}\r\n\r\nDiscordModal.propTypes = {\r\n  fullWidth: PropTypes.bool,\r\n  onClose: PropTypes.func,\r\n  open: PropTypes.bool,\r\n  isImage: PropTypes.bool,\r\n  header: PropTypes.oneOfType([ PropTypes.string, PropTypes.node ]),\r\n  title: PropTypes.string,\r\n  subtitle: PropTypes.string,\r\n  children: PropTypes.node,\r\n  transparentBody: PropTypes.bool,\r\n  footer: PropTypes.oneOfType([ PropTypes.node ])\r\n}\r\n\r\nexport default DiscordModal\r\n","import React, { useState } from 'react'\r\nimport './js/index'\r\nimport styled from 'styled-components'\r\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom'\r\nimport colors from './js/constants/colors'\r\nimport 'react-toastify/dist/ReactToastify.min.css'\r\nimport './semantic/dist/semantic.min.css'\r\nimport { Icon, Button } from 'semantic-ui-react'\r\nimport pages from './js/constants/pages'\r\nimport './App.css'\r\nimport 'highlight.js/styles/solarized-dark.css'\r\nimport NavBar from './js/components/NavBar/index'\r\nimport Home from './js/components/Home/index'\r\nimport FAQ from './js/components/FAQ/index'\r\nimport FeedBrowser from './js/components/FeedBrowser/index'\r\nimport ControlPanel from './js/components/ControlPanel/index'\r\nimport { connect } from 'react-redux'\r\nimport DiscordModal from './js/components/utils/DiscordModal'\r\nimport modal from './js/components/utils/modal'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    modalOpen: state.modalOpen,\r\n    modal: state.modal\r\n  }\r\n}\r\n\r\nconst EmptyBackground = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background-color: #282b30;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  text-align: center;\r\n  align-items: center;\r\n  h1 {\r\n    color: white;\r\n  }\r\n  color: ${colors.discord.text};\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 0 0px;\r\n  max-width: 1450px;\r\n  margin: 0 auto;\r\n  height: 60px;\r\n`\r\n\r\nfunction App (props) {\r\n  const [ errorMessage ] = useState('')\r\n  const [ scrollbarRef, setScrollbarRef ] = useState()\r\n  if (errorMessage) {\r\n    return (\r\n      <EmptyBackground>\r\n        <div>\r\n          <Icon name='x' size='massive' color='red' />\r\n          <h1>Oops!<br />Something went wrong!</h1>\r\n          <h3>{errorMessage || ''}</h3>\r\n          <Button basic fluid onClick={e => { window.location.href = '/logout' }} color='red'>Logout</Button>\r\n        </div>\r\n      </EmptyBackground>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className='App'>\r\n      <DiscordModal onClose={modal.hide} open={props.modalOpen} { ...props.modal.props }>{props.modal.children}</DiscordModal>\r\n      <Switch>\r\n        <Route path={pages.DASHBOARD} component={ControlPanel} />\r\n        <Route render={() => (\r\n          <Scrollbars style={{ width: '100vw', height: '100vh' }} ref={scrollbar => setScrollbarRef(scrollbar)}>\r\n            <Wrapper>\r\n              <NavBar />\r\n            </Wrapper>\r\n            <Switch>\r\n              <Route path={`${pages.FEED_BROWSER}/:url?`} component={FeedBrowser} />\r\n              <Route path={`${pages.FAQ}/:question?`} render={props => <FAQ {...props} scrollbar={scrollbarRef} />} />\r\n              <Route path='/' component={routerProps => <Home {...routerProps} />} />\r\n              <Route render={() => <Redirect to='/' />} />\r\n            </Switch>\r\n          </Scrollbars>\r\n        )} />\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(App))\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport * as serviceWorker from './serviceWorker'\r\n// import index from './js/index.js'\r\nimport { Provider } from 'react-redux'\r\nimport store from './js/store/index-store.js'\r\nimport { BrowserRouter, Route } from 'react-router-dom'\r\n\r\nimport './index.css'\r\nimport App from './App'\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <Route path='/' component={App} />\r\n    </BrowserRouter>\r\n  </Provider>, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}